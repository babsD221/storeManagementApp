"use strict";(self.webpackChunkBmkStore=self.webpackChunkBmkStore||[]).push([[179],{2011:(ot,Te,F)=>{F.d(Te,{Dh:()=>fe,GT:()=>he,cc:()=>Me,hO:()=>Fe,on:()=>$,pX:()=>le,xv:()=>pe});var c=F(4650),te=F(127),k=F(5813);ot=F.hmd(ot);const ue=["ngOnDestroy"],le=(ge,Qe,rt,Ae={})=>new Proxy(ge,{get:(ye,we)=>rt.runOutsideAngular(()=>{var Ue;if(ge[we])return!(null===(Ue=Ae?.spy)||void 0===Ue)&&Ue.get&&Ae.spy.get(we,ge[we]),ge[we];if(ue.indexOf(we)>-1)return()=>{};const He=Qe.toPromise().then(j=>{const me=j&&j[we];return"function"==typeof me?me.bind(j):me&&me.then?me.then(Y=>rt.run(()=>Y)):rt.run(()=>me)});return new Proxy(()=>{},{get:(j,me)=>He[me],apply:(j,me,Y)=>He.then(ne=>{var ce;const se=ne&&ne(...Y);return!(null===(ce=Ae?.spy)||void 0===ce)&&ce.apply&&Ae.spy.apply(we,Y,se),se})})})}),he=(ge,Qe)=>{Qe.forEach(rt=>{Object.getOwnPropertyNames(rt.prototype||rt).forEach(Ae=>{Object.defineProperty(ge.prototype,Ae,Object.getOwnPropertyDescriptor(rt.prototype||rt,Ae))})})};class ae{constructor(Qe){return Qe}}const fe=new c.OlP("angularfire2.app.options"),pe=new c.OlP("angularfire2.app.name");function $(ge,Qe,rt){const ye="object"==typeof rt&&rt||{};ye.name=ye.name||"string"==typeof rt&&rt||"[DEFAULT]";const Ue=te.Z.apps.filter(He=>He&&He.name===ye.name)[0]||Qe.runOutsideAngular(()=>te.Z.initializeApp(ge,ye));try{JSON.stringify(ge)!==JSON.stringify(Ue.options)&&G("error",`${Ue.name} Firebase App already initialized with different options${ot.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ae(Ue)}const G=(ge,...Qe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[ge](...Qe)},Q={provide:ae,useFactory:$,deps:[fe,c.R0b,[new c.FiY,pe]]};let Fe=(()=>{class ge{constructor(rt){te.Z.registerVersion("angularfire",k.q4.full,"core"),te.Z.registerVersion("angularfire",k.q4.full,"app-compat"),te.Z.registerVersion("angular",c.q4F.full,rt.toString())}static initializeApp(rt,Ae){return{ngModule:ge,providers:[{provide:fe,useValue:rt},{provide:pe,useValue:Ae}]}}}return ge.\u0275fac=function(rt){return new(rt||ge)(c.LFG(c.Lbi))},ge.\u0275mod=c.oAB({type:ge}),ge.\u0275inj=c.cJS({providers:[Q]}),ge})();function Me(ge,Qe,rt,Ae,ye){const[,we,Ue]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===ge)||[];if(we)return function Ce(ge,Qe){try{return ge.toString()===Qe.toString()}catch{return ge===Qe}}(ye,Ue)||(_e("error",`${Qe} was already initialized on the ${rt} Firebase App with different settings.${tt?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:ye,was:Ue})),we;{const He=Ae();return globalThis.\u0275AngularfireInstanceCache.push([ge,He,ye]),He}}const tt=!!ot.hot,_e=(ge,...Qe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[ge](...Qe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ot,Te,F)=>{F.d(Te,{q4:()=>We,iC:()=>Qr,HU:()=>Wi,vb:()=>gr,JM:()=>Ra});var c=F(4650),te=F(5867),k=F(5861),ue=F(9681),le=F(2090),he=F(4859),ae=F(1877),fe=F(8766);const pe="@firebase/installations",$="0.5.15",Q=`w:${$}`,Fe="FIS_v2",Qe=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rt(w){return w instanceof le.ZR&&w.code.includes("request-failed")}function Ae({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function ye(w){return{token:w.token,requestStatus:2,expiresIn:ne(w.expiresIn),creationTime:Date.now()}}function we(w,T){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,k.Z)(function*(w,T){const V=(yield T.json()).error;return Qe.create("request-failed",{requestName:w,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function He({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function j(w,{refreshToken:T}){const O=He(w);return O.append("Authorization",function ce(w){return`${Fe} ${w}`}(T)),O}function me(w){return Y.apply(this,arguments)}function Y(){return(Y=(0,k.Z)(function*(w){const T=yield w();return T.status>=500&&T.status<600?w():T})).apply(this,arguments)}function ne(w){return Number(w.replace("s","000"))}function se(w,T){return ke.apply(this,arguments)}function ke(){return(ke=(0,k.Z)(function*({appConfig:w,heartbeatServiceProvider:T},{fid:O}){const V=Ae(w),X=He(w),oe=T.getImmediate({optional:!0});if(oe){const _t=yield oe.getHeartbeatsHeader();_t&&X.append("x-firebase-client",_t)}const Oe={method:"POST",headers:X,body:JSON.stringify({fid:O,authVersion:Fe,appId:w.appId,sdkVersion:Q})},nt=yield me(()=>fetch(V,Oe));if(nt.ok){const _t=yield nt.json();return{fid:_t.fid||O,registrationStatus:2,refreshToken:_t.refreshToken,authToken:ye(_t.authToken)}}throw yield we("Create Installation",nt)})).apply(this,arguments)}function Pe(w){return new Promise(T=>{setTimeout(T,w)})}const Kt=/^[cdef][\w-]{21}$/;function Ze(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const O=function tn(w){return function ht(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Kt.test(O)?O:""}catch{return""}}function pn(w){return`${w.appName}!${w.appId}`}const zt=new Map;function Yt(w,T){const O=pn(w);nn(O,T),function Vr(w,T){const O=function Ti(){return!lr&&"BroadcastChannel"in self&&(lr=new BroadcastChannel("[Firebase] FID Change"),lr.onmessage=w=>{nn(w.data.key,w.data.fid)}),lr}();O&&O.postMessage({key:w,fid:T}),function Si(){0===zt.size&&lr&&(lr.close(),lr=null)}()}(O,T)}function nn(w,T){const O=zt.get(w);if(O)for(const V of O)V(T)}let lr=null;const Li="firebase-installations-store";let Ji=null;function No(){return Ji||(Ji=(0,fe.X3)("firebase-installations-database",1,{upgrade:(w,T)=>{0===T&&w.createObjectStore(Li)}})),Ji}function qe(w,T){return _i.apply(this,arguments)}function _i(){return(_i=(0,k.Z)(function*(w,T){const O=pn(w),X=(yield No()).transaction(Li,"readwrite"),oe=X.objectStore(Li),De=yield oe.get(O);return yield oe.put(T,O),yield X.done,(!De||De.fid!==T.fid)&&Yt(w,T.fid),T})).apply(this,arguments)}function ps(w){return zn.apply(this,arguments)}function zn(){return(zn=(0,k.Z)(function*(w){const T=pn(w),V=(yield No()).transaction(Li,"readwrite");yield V.objectStore(Li).delete(T),yield V.done})).apply(this,arguments)}function Qi(w,T){return wr.apply(this,arguments)}function wr(){return(wr=(0,k.Z)(function*(w,T){const O=pn(w),X=(yield No()).transaction(Li,"readwrite"),oe=X.objectStore(Li),De=yield oe.get(O),Oe=T(De);return void 0===Oe?yield oe.delete(O):yield oe.put(Oe,O),yield X.done,Oe&&(!De||De.fid!==Oe.fid)&&Yt(w,Oe.fid),Oe})).apply(this,arguments)}function On(w){return $n.apply(this,arguments)}function $n(){return($n=(0,k.Z)(function*(w){let T;const O=yield Qi(w.appConfig,V=>{const X=dn(V),oe=ft(w,X);return T=oe.registrationPromise,oe.installationEntry});return""===O.fid?{installationEntry:yield T}:{installationEntry:O,registrationPromise:T}})).apply(this,arguments)}function dn(w){return Dt(w||{fid:Ze(),registrationStatus:0})}function ft(w,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Qe.create("app-offline"))};const O={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},V=function at(w,T){return en.apply(this,arguments)}(w,O);return{installationEntry:O,registrationPromise:V}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:ei(w)}:{installationEntry:T}}function en(){return(en=(0,k.Z)(function*(w,T){try{const O=yield se(w,T);return qe(w.appConfig,O)}catch(O){throw rt(O)&&409===O.customData.serverCode?yield ps(w.appConfig):yield qe(w.appConfig,{fid:T.fid,registrationStatus:0}),O}})).apply(this,arguments)}function ei(w){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,k.Z)(function*(w){let T=yield Bi(w.appConfig);for(;1===T.registrationStatus;)yield Pe(100),T=yield Bi(w.appConfig);if(0===T.registrationStatus){const{installationEntry:O,registrationPromise:V}=yield On(w);return V||O}return T})).apply(this,arguments)}function Bi(w){return Qi(w,T=>{if(!T)throw Qe.create("installation-not-found");return Dt(T)})}function Dt(w){return function Ur(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function Jt(w,T){return ur.apply(this,arguments)}function ur(){return(ur=(0,k.Z)(function*({appConfig:w,heartbeatServiceProvider:T},O){const V=Qt(w,O),X=j(w,O),oe=T.getImmediate({optional:!0});if(oe){const _t=yield oe.getHeartbeatsHeader();_t&&X.append("x-firebase-client",_t)}const Oe={method:"POST",headers:X,body:JSON.stringify({installation:{sdkVersion:Q,appId:w.appId}})},nt=yield me(()=>fetch(V,Oe));if(nt.ok)return ye(yield nt.json());throw yield we("Generate Auth Token",nt)})).apply(this,arguments)}function Qt(w,{fid:T}){return`${Ae(w)}/${T}/authTokens:generate`}function Zn(w){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,k.Z)(function*(w,T=!1){let O;const V=yield Qi(w.appConfig,oe=>{if(!Ot(oe))throw Qe.create("not-registered");const De=oe.authToken;if(!T&&W(De))return oe;if(1===De.requestStatus)return O=et(w,T),oe;{if(!navigator.onLine)throw Qe.create("app-offline");const Oe=J(oe);return O=vt(w,Oe),Oe}});return O?yield O:V.authToken})).apply(this,arguments)}function et(w,T){return Se.apply(this,arguments)}function Se(){return(Se=(0,k.Z)(function*(w,T){let O=yield Xe(w.appConfig);for(;1===O.authToken.requestStatus;)yield Pe(100),O=yield Xe(w.appConfig);const V=O.authToken;return 0===V.requestStatus?Zn(w,T):V})).apply(this,arguments)}function Xe(w){return Qi(w,T=>{if(!Ot(T))throw Qe.create("not-registered");return function be(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function vt(w,T){return mt.apply(this,arguments)}function mt(){return(mt=(0,k.Z)(function*(w,T){try{const O=yield Jt(w,T),V=Object.assign(Object.assign({},T),{authToken:O});return yield qe(w.appConfig,V),O}catch(O){if(!rt(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const V=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield qe(w.appConfig,V)}else yield ps(w.appConfig);throw O}})).apply(this,arguments)}function Ot(w){return void 0!==w&&2===w.registrationStatus}function W(w){return 2===w.requestStatus&&!function H(w){const T=Date.now();return T<w.creationTime||w.creationTime+w.expiresIn<T+36e5}(w)}function J(w){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:T})}function $e(){return($e=(0,k.Z)(function*(w){const T=w,{installationEntry:O,registrationPromise:V}=yield On(T);return V?V.catch(console.error):Zn(T).catch(console.error),O.fid})).apply(this,arguments)}function Zt(){return(Zt=(0,k.Z)(function*(w,T=!1){const O=w;return yield cn(O),(yield Zn(O,T)).token})).apply(this,arguments)}function cn(w){return $t.apply(this,arguments)}function $t(){return($t=(0,k.Z)(function*(w){const{registrationPromise:T}=yield On(w);T&&(yield T)})).apply(this,arguments)}function gs(w){return Qe.create("missing-app-config-values",{valueName:w})}const Mo="installations",yn=w=>{const T=w.getProvider("app").getImmediate(),O=function gn(w){if(!w||!w.options)throw gs("App Configuration");if(!w.name)throw gs("App Name");const T=["projectId","apiKey","appId"];for(const O of T)if(!w.options[O])throw gs(O);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(T);return{app:T,appConfig:O,heartbeatServiceProvider:(0,ue._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Zs=w=>{const T=w.getProvider("app").getImmediate(),O=(0,ue._getProvider)(T,Mo).getImmediate();return{getId:()=>function ee(w){return $e.apply(this,arguments)}(O),getToken:X=>function lt(w){return Zt.apply(this,arguments)}(O,X)}};(function al(){(0,ue._registerComponent)(new he.wA(Mo,yn,"PUBLIC")),(0,ue._registerComponent)(new he.wA("installations-internal",Zs,"PRIVATE"))})(),(0,ue.registerVersion)(pe,$),(0,ue.registerVersion)(pe,$,"esm2017");const Tr="@firebase/remote-config",Wn=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class vh{constructor(T,O,V,X){this.client=T,this.storage=O,this.storageCache=V,this.logger=X}isCachedDataFresh(T,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-O,X=V<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${X}.`),X}fetch(T){var O=this;return(0,k.Z)(function*(){const[V,X]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(X&&O.isCachedDataFresh(T.cacheMaxAgeMillis,V))return X;T.eTag=X&&X.eTag;const oe=yield O.client.fetch(T),De=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&De.push(O.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(De),oe})()}}function Ks(w=navigator){return w.languages&&w.languages[0]||w.language}class Oc{constructor(T,O,V,X,oe,De){this.firebaseInstallations=T,this.sdkVersion=O,this.namespace=V,this.projectId=X,this.apiKey=oe,this.appId=De}fetch(T){var O=this;return(0,k.Z)(function*(){var V,X,oe;const[De,Oe]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),_t=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,At={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},ct={sdk_version:O.sdkVersion,app_instance_id:De,app_instance_id_token:Oe,app_id:O.appId,language_code:Ks()},bn={method:"POST",headers:At,body:JSON.stringify(ct)},fi=fetch(_t,bn),uo=new Promise((zo,ho)=>{T.signal.addEventListener(()=>{const yr=new Error("The operation was aborted.");yr.name="AbortError",ho(yr)})});let Xr;try{yield Promise.race([fi,uo]),Xr=yield fi}catch(zo){let ho="fetch-client-network";throw"AbortError"===(null===(V=zo)||void 0===V?void 0:V.name)&&(ho="fetch-timeout"),Wn.create(ho,{originalErrorMessage:null===(X=zo)||void 0===X?void 0:X.message})}let It=Xr.status;const Mr=Xr.headers.get("ETag")||void 0;let Ns,nr;if(200===Xr.status){let zo;try{zo=yield Xr.json()}catch(ho){throw Wn.create("fetch-client-parse",{originalErrorMessage:null===(oe=ho)||void 0===oe?void 0:oe.message})}Ns=zo.entries,nr=zo.state}if("INSTANCE_STATE_UNSPECIFIED"===nr?It=500:"NO_CHANGE"===nr?It=304:("NO_TEMPLATE"===nr||"EMPTY_CONFIG"===nr)&&(Ns={}),304!==It&&200!==It)throw Wn.create("fetch-status",{httpStatus:It});return{status:It,eTag:Mr,config:Ns}})()}}class _p{constructor(T,O){this.client=T,this.storage=O}fetch(T){var O=this;return(0,k.Z)(function*(){const V=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(T,V)})()}attemptFetch(T,{throttleEndTimeMillis:O,backoffCount:V}){var X=this;return(0,k.Z)(function*(){yield function Kn(w,T){return new Promise((O,V)=>{const X=Math.max(T-Date.now(),0),oe=setTimeout(O,X);w.addEventListener(()=>{clearTimeout(oe),V(Wn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,O);try{const oe=yield X.client.fetch(T);return yield X.storage.deleteThrottleMetadata(),oe}catch(oe){if(!function Fu(w){if(!(w instanceof le.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}(oe))throw oe;const De={throttleEndTimeMillis:Date.now()+(0,le.$s)(V),backoffCount:V+1};return yield X.storage.setThrottleMetadata(De),X.attemptFetch(T,De)}})()}}class Lu{constructor(T,O,V,X,oe){this.app=T,this._client=O,this._storageCache=V,this._storage=X,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Rc(w,T){var O;const V=w.target.error||void 0;return Wn.create(T,{originalErrorMessage:V&&(null===(O=V)||void 0===O?void 0:O.message)})}const vs="app_namespace_store";class Ep{constructor(T,O,V,X=function bp(){return new Promise((w,T)=>{var O;try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=X=>{T(Rc(X,"storage-open"))},V.onsuccess=X=>{w(X.target.result)},V.onupgradeneeded=X=>{0===X.oldVersion&&X.target.result.createObjectStore(vs,{keyPath:"compositeKey"})}}catch(V){T(Wn.create("storage-open",{originalErrorMessage:null===(O=V)||void 0===O?void 0:O.message}))}})}()){this.appId=T,this.appName=O,this.namespace=V,this.openDbPromise=X}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var O=this;return(0,k.Z)(function*(){const V=yield O.openDbPromise;return new Promise((X,oe)=>{var De;const nt=V.transaction([vs],"readonly").objectStore(vs),_t=O.createCompositeKey(T);try{const At=nt.get(_t);At.onerror=ct=>{oe(Rc(ct,"storage-get"))},At.onsuccess=ct=>{const bn=ct.target.result;X(bn?bn.value:void 0)}}catch(At){oe(Wn.create("storage-get",{originalErrorMessage:null===(De=At)||void 0===De?void 0:De.message}))}})})()}set(T,O){var V=this;return(0,k.Z)(function*(){const X=yield V.openDbPromise;return new Promise((oe,De)=>{var Oe;const _t=X.transaction([vs],"readwrite").objectStore(vs),At=V.createCompositeKey(T);try{const ct=_t.put({compositeKey:At,value:O});ct.onerror=bn=>{De(Rc(bn,"storage-set"))},ct.onsuccess=()=>{oe()}}catch(ct){De(Wn.create("storage-set",{originalErrorMessage:null===(Oe=ct)||void 0===Oe?void 0:Oe.message}))}})})()}delete(T){var O=this;return(0,k.Z)(function*(){const V=yield O.openDbPromise;return new Promise((X,oe)=>{var De;const nt=V.transaction([vs],"readwrite").objectStore(vs),_t=O.createCompositeKey(T);try{const At=nt.delete(_t);At.onerror=ct=>{oe(Rc(ct,"storage-delete"))},At.onsuccess=()=>{X()}}catch(At){oe(Wn.create("storage-delete",{originalErrorMessage:null===(De=At)||void 0===De?void 0:De.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Vu{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,k.Z)(function*(){const O=T.storage.getLastFetchStatus(),V=T.storage.getLastSuccessfulFetchTimestampMillis(),X=T.storage.getActiveConfig(),oe=yield O;oe&&(T.lastFetchStatus=oe);const De=yield V;De&&(T.lastSuccessfulFetchTimestampMillis=De);const Oe=yield X;Oe&&(T.activeConfig=Oe)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function cl(){return bh.apply(this,arguments)}function bh(){return(bh=(0,k.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}!function bs(){(0,ue._registerComponent)(new he.wA("remote-config",function w(T,{instanceIdentifier:O}){const V=T.getProvider("app").getImmediate(),X=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Wn.create("registration-window");if(!(0,le.hl)())throw Wn.create("indexed-db-unavailable");const{projectId:oe,apiKey:De,appId:Oe}=V.options;if(!oe)throw Wn.create("registration-project-id");if(!De)throw Wn.create("registration-api-key");if(!Oe)throw Wn.create("registration-app-id");const nt=new Ep(Oe,V.name,O=O||"firebase"),_t=new Vu(nt),At=new ae.Yd(Tr);At.logLevel=ae.in.ERROR;const ct=new Oc(X,ue.SDK_VERSION,O,oe,De,Oe),bn=new _p(ct,nt),fi=new vh(bn,nt,_t,At),uo=new Lu(V,fi,_t,nt,At);return function Sn(w){const T=(0,le.m9)(w);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(uo),uo},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(Tr,"0.3.14"),(0,ue.registerVersion)(Tr,"0.3.14","esm2017")}();const Sr="/firebase-messaging-sw.js",jr="/firebase-cloud-messaging-push-scope",$r="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ha="google.c.a.c_id",ul="google.c.a.c_l",Pc="google.c.a.ts",Eh="google.c.a.e";var Gr=(()=>{return(w=Gr||(Gr={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",Gr;var w})();function Xi(w){const T=new Uint8Array(w);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hi(w){const O=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(O),X=new Uint8Array(V.length);for(let oe=0;oe<V.length;++oe)X[oe]=V.charCodeAt(oe);return X}const Oo="fcm_token_details_db",vi="fcm_token_object_Store";function Ch(w){return Dh.apply(this,arguments)}function Dh(){return Dh=(0,k.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(Oo))return null;let T=null;return(yield(0,fe.X3)(Oo,5,{upgrade:(V=(0,k.Z)(function*(X,oe,De,Oe){var nt;if(oe<2||!X.objectStoreNames.contains(vi))return;const _t=Oe.objectStore(vi),At=yield _t.index("fcmSenderId").get(w);if(yield _t.clear(),At)if(2===oe){const ct=At;if(!ct.auth||!ct.p256dh||!ct.endpoint)return;T={token:ct.fcmToken,createTime:null!==(nt=ct.createTime)&&void 0!==nt?nt:Date.now(),subscriptionOptions:{auth:ct.auth,p256dh:ct.p256dh,endpoint:ct.endpoint,swScope:ct.swScope,vapidKey:"string"==typeof ct.vapidKey?ct.vapidKey:Xi(ct.vapidKey)}}}else if(3===oe){const ct=At;T={token:ct.fcmToken,createTime:ct.createTime,subscriptionOptions:{auth:Xi(ct.auth),p256dh:Xi(ct.p256dh),endpoint:ct.endpoint,swScope:ct.swScope,vapidKey:Xi(ct.vapidKey)}}}else if(4===oe){const ct=At;T={token:ct.fcmToken,createTime:ct.createTime,subscriptionOptions:{auth:Xi(ct.auth),p256dh:Xi(ct.p256dh),endpoint:ct.endpoint,swScope:ct.swScope,vapidKey:Xi(ct.vapidKey)}}}}),function(oe,De,Oe,nt){return V.apply(this,arguments)})})).close(),yield(0,fe.Lj)(Oo),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),Rn(T)?T:null;var V}),Dh.apply(this,arguments)}function Rn(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:T}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const er="firebase-messaging-store";let Ni=null;function fl(){return Ni||(Ni=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(w,T)=>{0===T&&w.createObjectStore(er)}})),Ni}function Js(w){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,k.Z)(function*(w){const T=hr(w),V=yield(yield fl()).transaction(er).objectStore(er).get(T);if(V)return V;{const X=yield Ch(w.appConfig.senderId);if(X)return yield Gt(w,X),X}})).apply(this,arguments)}function Gt(w,T){return pl.apply(this,arguments)}function pl(){return(pl=(0,k.Z)(function*(w,T){const O=hr(w),X=(yield fl()).transaction(er,"readwrite");return yield X.objectStore(er).put(T,O),yield X.done,T})).apply(this,arguments)}function Qs(w){return gl.apply(this,arguments)}function gl(){return(gl=(0,k.Z)(function*(w){const T=hr(w),V=(yield fl()).transaction(er,"readwrite");yield V.objectStore(er).delete(T),yield V.done})).apply(this,arguments)}function hr({appConfig:w}){return w.appId}const In=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function wt(w,T){return _l.apply(this,arguments)}function _l(){return(_l=(0,k.Z)(function*(w,T){var O;const V=yield xc(w),X=Ie(T),oe={method:"POST",headers:V,body:JSON.stringify(X)};let De;try{De=yield(yield fetch(zr(w.appConfig),oe)).json()}catch(Oe){throw In.create("token-subscribe-failed",{errorInfo:null===(O=Oe)||void 0===O?void 0:O.toString()})}if(De.error)throw In.create("token-subscribe-failed",{errorInfo:De.error.message});if(!De.token)throw In.create("token-subscribe-no-token");return De.token})).apply(this,arguments)}function Th(w,T){return yl.apply(this,arguments)}function yl(){return(yl=(0,k.Z)(function*(w,T){var O;const V=yield xc(w),X=Ie(T.subscriptionOptions),oe={method:"PATCH",headers:V,body:JSON.stringify(X)};let De;try{De=yield(yield fetch(`${zr(w.appConfig)}/${T.token}`,oe)).json()}catch(Oe){throw In.create("token-update-failed",{errorInfo:null===(O=Oe)||void 0===O?void 0:O.toString()})}if(De.error)throw In.create("token-update-failed",{errorInfo:De.error.message});if(!De.token)throw In.create("token-update-no-token");return De.token})).apply(this,arguments)}function vl(w,T){return kc.apply(this,arguments)}function kc(){return(kc=(0,k.Z)(function*(w,T){var O;const X={method:"DELETE",headers:yield xc(w)};try{const De=yield(yield fetch(`${zr(w.appConfig)}/${T}`,X)).json();if(De.error)throw In.create("token-unsubscribe-failed",{errorInfo:De.error.message})}catch(oe){throw In.create("token-unsubscribe-failed",{errorInfo:null===(O=oe)||void 0===O?void 0:O.toString()})}})).apply(this,arguments)}function zr({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function xc(w){return fa.apply(this,arguments)}function fa(){return(fa=(0,k.Z)(function*({appConfig:w,installations:T}){const O=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Ie({p256dh:w,auth:T,endpoint:O,vapidKey:V}){const X={web:{endpoint:O,auth:T,p256dh:w}};return V!==$r&&(X.web.applicationPubKey=V),X}const Lt=6048e5;function bl(w){return El.apply(this,arguments)}function El(){return(El=(0,k.Z)(function*(w){const T=yield Fc(w.swRegistration,w.vapidKey),O={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:T.endpoint,auth:Xi(T.getKey("auth")),p256dh:Xi(T.getKey("p256dh"))},V=yield Js(w.firebaseDependencies);if(V){if(ju(V.subscriptionOptions,O))return Date.now()>=V.createTime+Lt?Ro(w,{token:V.token,createTime:Date.now(),subscriptionOptions:O}):V.token;try{yield vl(w.firebaseDependencies,V.token)}catch(X){console.warn(X)}return pa(w.firebaseDependencies,O)}return pa(w.firebaseDependencies,O)})).apply(this,arguments)}function Pn(w){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,k.Z)(function*(w){const T=yield Js(w.firebaseDependencies);T&&(yield vl(w.firebaseDependencies,T.token),yield Qs(w.firebaseDependencies));const O=yield w.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Ro(w,T){return tr.apply(this,arguments)}function tr(){return(tr=(0,k.Z)(function*(w,T){try{const O=yield Th(w.firebaseDependencies,T),V=Object.assign(Object.assign({},T),{token:O,createTime:Date.now()});return yield Gt(w.firebaseDependencies,V),O}catch(O){throw yield Pn(w),O}})).apply(this,arguments)}function pa(w,T){return ga.apply(this,arguments)}function ga(){return(ga=(0,k.Z)(function*(w,T){const V={token:yield wt(w,T),createTime:Date.now(),subscriptionOptions:T};return yield Gt(w,V),V.token})).apply(this,arguments)}function Fc(w,T){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,k.Z)(function*(w,T){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hi(T)})})).apply(this,arguments)}function ju(w,T){return T.vapidKey===w.vapidKey&&T.endpoint===w.endpoint&&T.auth===w.auth&&T.p256dh===w.p256dh}function ma(w){const T={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function kn(w,T){if(!T.notification)return;w.notification={};const O=T.notification.title;O&&(w.notification.title=O);const V=T.notification.body;V&&(w.notification.body=V);const X=T.notification.image;X&&(w.notification.image=X)}(T,w),function Ir(w,T){!T.data||(w.data=T.data)}(T,w),function Bc(w,T){var O,V,X,oe,De;if(!(T.fcmOptions||null!==(O=T.notification)&&void 0!==O&&O.click_action))return;w.fcmOptions={};const Oe=null!==(X=null===(V=T.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==X?X:null===(oe=T.notification)||void 0===oe?void 0:oe.click_action;Oe&&(w.fcmOptions.link=Oe);const nt=null===(De=T.fcmOptions)||void 0===De?void 0:De.analytics_label;nt&&(w.fcmOptions.analyticsLabel=nt)}(T,w),T}function Xs(w){return"object"==typeof w&&!!w&&ha in w}function Zr(w,T){const O=[];for(let V=0;V<w.length;V++)O.push(w.charAt(V)),V<T.length&&O.push(T.charAt(V));return O.join("")}function _a(w){return In.create("missing-app-config-values",{valueName:w})}Zr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Zr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Dp{constructor(T,O,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const X=function Cp(w){if(!w||!w.options)throw _a("App Configuration Object");if(!w.name)throw _a("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:O}=w;for(const V of T)if(!O[V])throw _a(V);return{appName:w.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:X,installations:O,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Vc(w){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,k.Z)(function*(w){var T;try{w.swRegistration=yield navigator.serviceWorker.register(Sr,{scope:jr}),w.swRegistration.update().catch(()=>{})}catch(O){throw In.create("failed-service-worker-registration",{browserErrorMessage:null===(T=O)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function ya(w,T){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,k.Z)(function*(w,T){if(!T&&!w.swRegistration&&(yield Vc(w)),T||!w.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw In.create("invalid-sw-registration");w.swRegistration=T}})).apply(this,arguments)}function va(w,T){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,k.Z)(function*(w,T){T?w.vapidKey=T:w.vapidKey||(w.vapidKey=$r)})).apply(this,arguments)}function Tl(){return(Tl=(0,k.Z)(function*(w,T){if(!navigator)throw In.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw In.create("permission-blocked");return yield va(w,T?.vapidKey),yield ya(w,T?.serviceWorkerRegistration),bl(w)})).apply(this,arguments)}function jc(w,T,O){return $c.apply(this,arguments)}function $c(){return($c=(0,k.Z)(function*(w,T,O){const V=Gc(T);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:O[ha],message_name:O[ul],message_time:O[Pc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Gc(w){switch(w){case Gr.NOTIFICATION_CLICKED:return"notification_open";case Gr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function eo(){return(eo=(0,k.Z)(function*(w,T){const O=T.data;if(!O.isFirebaseMessaging)return;w.onMessageHandler&&O.messageType===Gr.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(ma(O)):w.onMessageHandler.next(ma(O)));const V=O.data;Xs(V)&&"1"===V[Eh]&&(yield jc(w,O.messageType,V))})).apply(this,arguments)}const to="@firebase/messaging",Yn=w=>{const T=new Dp(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function $u(w,T){return eo.apply(this,arguments)}(T,O)),T},ji=w=>{const T=w.getProvider("messaging").getImmediate();return{getToken:V=>function wl(w,T){return Tl.apply(this,arguments)}(T,V)}};function Gu(){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,k.Z)(function*(){try{yield(0,le.eu)()}catch{return!1}return typeof window<"u"&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function mn(){(0,ue._registerComponent)(new he.wA("messaging",Yn,"PUBLIC")),(0,ue._registerComponent)(new he.wA("messaging-internal",ji,"PRIVATE")),(0,ue.registerVersion)(to,"0.9.19"),(0,ue.registerVersion)(to,"0.9.19","esm2017")}();const ko="analytics",Zu="firebase_id",io="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nl="https://www.googletagmanager.com/gtag/js",xn=new ae.Yd("@firebase/analytics");function Ml(w){return Promise.all(w.map(T=>T.catch(O=>O)))}function Ol(w,T){const O=document.createElement("script");O.src=`${Nl}?l=${w}&id=${T}`,O.async=!0,document.head.appendChild(O)}function Ih(w,T,O,V,X,oe){return ro.apply(this,arguments)}function ro(){return(ro=(0,k.Z)(function*(w,T,O,V,X,oe){const De=V[X];try{if(De)yield T[De];else{const nt=(yield Ml(O)).find(_t=>_t.measurementId===X);nt&&(yield T[nt.appId])}}catch(Oe){xn.error(Oe)}w("config",X,oe)})).apply(this,arguments)}function xo(w,T,O,V,X){return so.apply(this,arguments)}function so(){return(so=(0,k.Z)(function*(w,T,O,V,X){try{let oe=[];if(X&&X.send_to){let De=X.send_to;Array.isArray(De)||(De=[De]);const Oe=yield Ml(O);for(const nt of De){const _t=Oe.find(ct=>ct.measurementId===nt),At=_t&&T[_t.appId];if(!At){oe=[];break}oe.push(At)}}0===oe.length&&(oe=Object.values(T)),yield Promise.all(oe),w("event",V,X||{})}catch(oe){xn.error(oe)}})).apply(this,arguments)}function Ku(w){const T=window.document.getElementsByTagName("script");for(const O of Object.values(T))if(O.src&&O.src.includes(Nl)&&O.src.includes(w))return O;return null}const ri=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Da=new class Ar{constructor(T={},O=1e3){this.throttleMetadata=T,this.intervalMillis=O}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,O){this.throttleMetadata[T]=O}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Ju(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function wa(w){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,k.Z)(function*(w){var T;const{appId:O,apiKey:V}=w,X={method:"GET",headers:Ju(V)},oe=io.replace("{app-id}",O),De=yield fetch(oe,X);if(200!==De.status&&304!==De.status){let Oe="";try{const nt=yield De.json();null!==(T=nt.error)&&void 0!==T&&T.message&&(Oe=nt.error.message)}catch{}throw ri.create("config-fetch-failed",{httpStatus:De.status,responseMessage:Oe})}return De.json()})).apply(this,arguments)}function Vn(w){return fr.apply(this,arguments)}function fr(){return(fr=(0,k.Z)(function*(w,T=Da,O){const{appId:V,apiKey:X,measurementId:oe}=w.options;if(!V)throw ri.create("no-app-id");if(!X){if(oe)return{measurementId:oe,appId:V};throw ri.create("no-api-key")}const De=T.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Oe=new xl;return setTimeout((0,k.Z)(function*(){Oe.abort()}),void 0!==O?O:6e4),Pl({appId:V,apiKey:X,measurementId:oe},De,Oe,T)})).apply(this,arguments)}function Pl(w,T,O){return oo.apply(this,arguments)}function oo(){return(oo=(0,k.Z)(function*(w,{throttleEndTimeMillis:T,backoffCount:O},V,X=Da){var oe,De;const{appId:Oe,measurementId:nt}=w;try{yield Ta(V,T)}catch(_t){if(nt)return xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${null===(oe=_t)||void 0===oe?void 0:oe.message}]`),{appId:Oe,measurementId:nt};throw _t}try{const _t=yield wa(w);return X.deleteThrottleMetadata(Oe),_t}catch(_t){const At=_t;if(!kl(At)){if(X.deleteThrottleMetadata(Oe),nt)return xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${At?.message}]`),{appId:Oe,measurementId:nt};throw _t}const ct=503===Number(null===(De=At?.customData)||void 0===De?void 0:De.httpStatus)?(0,le.$s)(O,X.intervalMillis,30):(0,le.$s)(O,X.intervalMillis),bn={throttleEndTimeMillis:Date.now()+ct,backoffCount:O+1};return X.setThrottleMetadata(Oe,bn),xn.debug(`Calling attemptFetch again in ${ct} millis`),Pl(w,bn,V,X)}})).apply(this,arguments)}function Ta(w,T){return new Promise((O,V)=>{const X=Math.max(T-Date.now(),0),oe=setTimeout(O,X);w.addEventListener(()=>{clearTimeout(oe),V(ri.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function kl(w){if(!(w instanceof le.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}class xl{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Ds,Ia;function ws(){return(ws=(0,k.Z)(function*(w,T,O,V,X){if(X&&X.global)w("event",O,V);else{const oe=yield T;w("event",O,Object.assign(Object.assign({},V),{send_to:oe}))}})).apply(this,arguments)}function lo(w){Ia=w}function Kc(w){Ds=w}function Kr(){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,k.Z)(function*(){var w;if(!(0,le.hl)())return xn.warn(ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(T){return xn.warn(ri.create("indexeddb-unavailable",{errorInfo:null===(w=T)||void 0===w?void 0:w.toString()}).message),!1}return!0})).apply(this,arguments)}function Bo(){return(Bo=(0,k.Z)(function*(w,T,O,V,X,oe,De){var Oe;const nt=Vn(w);nt.then(fi=>{O[fi.measurementId]=fi.appId,w.options.measurementId&&fi.measurementId!==w.options.measurementId&&xn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${fi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fi=>xn.error(fi)),T.push(nt);const _t=Kr().then(fi=>{if(fi)return V.getId()}),[At,ct]=yield Promise.all([nt,_t]);Ku(oe)||Ol(oe,At.measurementId),Ia&&(X("consent","default",Ia),lo(void 0)),X("js",new Date);const bn=null!==(Oe=De?.config)&&void 0!==Oe?Oe:{};return bn.origin="firebase",bn.update=!0,null!=ct&&(bn[Zu]=ct),X("config",At.measurementId,bn),Ds&&(X("set",Ds),Kc(void 0)),At.measurementId})).apply(this,arguments)}class Vl{constructor(T){this.app=T}_delete(){return delete $i[this.app.options.appId],Promise.resolve()}}let $i={},Ts=[];const Vo={};let Ho,co,Uo="dataLayer",Aa=!1;function Vm(w,T,O){!function wp(){const w=[];if((0,le.ru)()&&w.push("This is a browser extension environment."),(0,le.zI)()||w.push("Cookies are not available."),w.length>0){const T=w.map((V,X)=>`(${X+1}) ${V}`).join(" "),O=ri.create("invalid-analytics-context",{errorInfo:T});xn.warn(O.message)}}();const V=w.options.appId;if(!V)throw ri.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw ri.create("no-api-key");xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=$i[V])throw ri.create("already-exists",{id:V});if(!Aa){!function qu(w){let T=[];Array.isArray(window[w])?T=window[w]:window[w]=T}(Uo);const{wrappedGtag:oe,gtagCore:De}=function ba(w,T,O,V,X){let oe=function(...De){window[V].push(arguments)};return window[X]&&"function"==typeof window[X]&&(oe=window[X]),window[X]=function Rl(w,T,O,V){function oe(){return(oe=(0,k.Z)(function*(De,Oe,nt){try{"event"===De?yield xo(w,T,O,Oe,nt):"config"===De?yield Ih(w,T,O,V,Oe,nt):"consent"===De?w("consent","update",nt):w("set",Oe)}catch(_t){xn.error(_t)}})).apply(this,arguments)}return function X(De,Oe,nt){return oe.apply(this,arguments)}}(oe,w,T,O),{gtagCore:oe,wrappedGtag:window[X]}}($i,Ts,Vo,Uo,"gtag");co=oe,Ho=De,Aa=!0}return $i[V]=function Lo(w,T,O,V,X,oe,De){return Bo.apply(this,arguments)}(w,Ts,Vo,T,Ho,Uo,O),new Vl(w)}function Hm(){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,k.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}const Je="@firebase/analytics";!function Wt(){(0,ue._registerComponent)(new he.wA(ko,(T,{options:O})=>Vm(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ue._registerComponent)(new he.wA("analytics-internal",function w(T){try{const O=T.getProvider(ko).getImmediate();return{logEvent:(V,X,oe)=>function fn(w,T,O,V){w=(0,le.m9)(w),function Qu(w,T,O,V,X){return ws.apply(this,arguments)}(co,$i[w.app.options.appId],T,O,V).catch(X=>xn.error(X))}(O,V,X,oe)}}catch(O){throw ri.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ue.registerVersion)(Je,"0.8.3"),(0,ue.registerVersion)(Je,"0.8.3","esm2017")}();var pr=F(4408),vn=F(7565);const Hl=new class Ss extends vn.v{}(class Na extends pr.o{constructor(T,O){super(T,O),this.scheduler=T,this.work=O}schedule(T,O=0){return O>0?super.schedule(T,O):(this.delay=O,this.state=T,this.scheduler.flush(this),this)}execute(T,O){return O>0||this.closed?super.execute(T,O):this._execute(T,O)}requestAsyncId(T,O,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(T,O,V):(T.flush(this),0)}});var Yc=F(4986),Ma=F(8505),$o=F(9468),Yr=F(5363);const We=new c.GfV("7.4.1"),Oa="__angularfire_symbol__analyticsIsSupportedValue",Is="__angularfire_symbol__analyticsIsSupported",Go="__angularfire_symbol__remoteConfigIsSupportedValue",Wo="__angularfire_symbol__remoteConfigIsSupported",an="__angularfire_symbol__messagingIsSupportedValue",Jc="__angularfire_symbol__messagingIsSupported";function Ra(w,T,O){if(T){if(1===T.length)return T[0];const oe=T.filter(De=>De.app===O);if(1===oe.length)return oe[0]}return O.container.getProvider(w).getImmediate({optional:!0})}globalThis[Is]||(globalThis[Is]=Hm().then(w=>globalThis[Oa]=w).catch(()=>globalThis[Oa]=!1)),globalThis[Jc]||(globalThis[Jc]=Gu().then(w=>globalThis[an]=w).catch(()=>globalThis[an]=!1)),globalThis[Wo]||(globalThis[Wo]=cl().then(w=>globalThis[Go]=w).catch(()=>globalThis[Go]=!1));const gr=(w,T)=>{const O=T?[T]:(0,te.C6)(),V=[];return O.forEach(X=>{X.container.getProvider(w).instances.forEach(De=>{V.includes(De)||V.push(De)})}),V};function di(){}class mr{constructor(T,O=Hl){this.zone=T,this.delegate=O}now(){return this.delegate.now()}schedule(T,O,V){const X=this.zone;return this.delegate.schedule(function(De){X.runGuarded(()=>{T.apply(this,[De])})},O,V)}}class Xc{constructor(T){this.zone=T,this.task=null}call(T,O){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",di,{},di,di)),O.pipe((0,Ma.b)({next:V,complete:V,error:V})).subscribe(T).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wi=(()=>{class w{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new mr(Zone.current)),this.insideAngular=O.run(()=>new mr(Zone.current,Yc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(O){return new(O||w)(c.LFG(c.R0b))},w.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function hi(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Qr(w){return hi(),function An(w){return function(O){return(O=O.lift(new Xc(w.ngZone))).pipe((0,$o.R)(w.outsideAngular),(0,Yr.Q)(w.insideAngular))}}(hi())(w)}},2090:(ot,Te,F)=>{F.d(Te,{$s:()=>Xe,BH:()=>Ft,DV:()=>Li,Dv:()=>ei,GJ:()=>fs,L:()=>fe,LL:()=>zt,Pz:()=>Kt,Sg:()=>Ze,UG:()=>Ce,UI:()=>No,US:()=>he,Wj:()=>Dt,Wl:()=>nn,Yr:()=>ye,ZB:()=>G,ZR:()=>pn,aH:()=>ht,b$:()=>ge,cI:()=>Nt,dS:()=>Jt,eu:()=>He,g5:()=>k,gK:()=>Bn,gQ:()=>On,h$:()=>ae,hl:()=>Ue,hu:()=>te,jU:()=>tt,lb:()=>Ur,m9:()=>Ot,ne:()=>$n,p$:()=>$,pd:()=>wr,r3:()=>cr,ru:()=>_e,tV:()=>pe,uI:()=>Me,ug:()=>ur,vZ:()=>qe,w1:()=>rt,w9:()=>Si,xO:()=>zn,xb:()=>Ji,z$:()=>Fe,zI:()=>j,zd:()=>Qi});const te=function(W,H){if(!W)throw k(H)},k=function(W){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+W)},ue=function(W){const H=[];let J=0;for(let be=0;be<W.length;be++){let ee=W.charCodeAt(be);ee<128?H[J++]=ee:ee<2048?(H[J++]=ee>>6|192,H[J++]=63&ee|128):55296==(64512&ee)&&be+1<W.length&&56320==(64512&W.charCodeAt(be+1))?(ee=65536+((1023&ee)<<10)+(1023&W.charCodeAt(++be)),H[J++]=ee>>18|240,H[J++]=ee>>12&63|128,H[J++]=ee>>6&63|128,H[J++]=63&ee|128):(H[J++]=ee>>12|224,H[J++]=ee>>6&63|128,H[J++]=63&ee|128)}return H},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,H){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let ee=0;ee<W.length;ee+=3){const $e=W[ee],lt=ee+1<W.length,Zt=lt?W[ee+1]:0,cn=ee+2<W.length,$t=cn?W[ee+2]:0;let kt=(15&Zt)<<2|$t>>6,ti=63&$t;cn||(ti=64,lt||(kt=64)),be.push(J[$e>>2],J[(3&$e)<<4|Zt>>4],J[kt],J[ti])}return be.join("")},encodeString(W,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(W):this.encodeByteArray(ue(W),H)},decodeString(W,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(W):function(W){const H=[];let J=0,be=0;for(;J<W.length;){const ee=W[J++];if(ee<128)H[be++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const $e=W[J++];H[be++]=String.fromCharCode((31&ee)<<6|63&$e)}else if(ee>239&&ee<365){const cn=((7&ee)<<18|(63&W[J++])<<12|(63&W[J++])<<6|63&W[J++])-65536;H[be++]=String.fromCharCode(55296+(cn>>10)),H[be++]=String.fromCharCode(56320+(1023&cn))}else{const $e=W[J++],lt=W[J++];H[be++]=String.fromCharCode((15&ee)<<12|(63&$e)<<6|63&lt)}}return H.join("")}(this.decodeStringToByteArray(W,H))},decodeStringToByteArray(W,H){this.init_();const J=H?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let ee=0;ee<W.length;){const $e=J[W.charAt(ee++)],Zt=ee<W.length?J[W.charAt(ee)]:0;++ee;const $t=ee<W.length?J[W.charAt(ee)]:64;++ee;const je=ee<W.length?J[W.charAt(ee)]:64;if(++ee,null==$e||null==Zt||null==$t||null==je)throw Error();be.push($e<<2|Zt>>4),64!==$t&&(be.push(Zt<<4&240|$t>>2),64!==je&&be.push($t<<6&192|je))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},ae=function(W){const H=ue(W);return he.encodeByteArray(H,!0)},fe=function(W){return ae(W).replace(/\./g,"")},pe=function(W){try{return he.decodeString(W,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function $(W){return G(void 0,W)}function G(W,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return H}for(const J in H)!H.hasOwnProperty(J)||!Q(J)||(W[J]=G(W[J],H[J]));return W}function Q(W){return"__proto__"!==W}function Fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Me(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function Ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function tt(){return"object"==typeof self&&self.self===self}function _e(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rt(){const W=Fe();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function ye(){return!1}function Ue(){return"object"==typeof indexedDB}function He(){return new Promise((W,H)=>{try{let J=!0;const be="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(be);ee.onsuccess=()=>{ee.result.close(),J||self.indexedDB.deleteDatabase(be),W(!0)},ee.onupgradeneeded=()=>{J=!1},ee.onerror=()=>{var $e;H((null===($e=ee.error)||void 0===$e?void 0:$e.message)||"")}}catch(J){H(J)}})}function j(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const se=()=>{try{return function me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;let W;try{W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=W&&pe(W[1]);return H&&JSON.parse(H)})()}catch(W){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${W}`)}},ht=()=>{var W;return null===(W=se())||void 0===W?void 0:W.config},Kt=W=>{var H;return null===(H=se())||void 0===H?void 0:H[`_${W}`]};class Ft{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,J)=>{this.resolve=H,this.reject=J})}wrapCallback(H){return(J,be)=>{J?this.reject(J):this.resolve(be),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(J):H(J,be))}}}function Ze(W,H){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=H||"demo-project",ee=W.iat||0,$e=W.sub||W.user_id;if(!$e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const lt=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:ee,exp:ee+3600,auth_time:ee,sub:$e,user_id:$e,firebase:{sign_in_provider:"custom",identities:{}}},W);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(lt)),""].join(".")}class pn extends Error{constructor(H,J,be){super(J),this.code=H,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zt.prototype.create)}}class zt{constructor(H,J,be){this.service=H,this.serviceName=J,this.errors=be}create(H,...J){const be=J[0]||{},ee=`${this.service}/${H}`,$e=this.errors[H],lt=$e?function Yt(W,H){return W.replace(wi,(J,be)=>{const ee=H[be];return null!=ee?String(ee):`<${be}?>`})}($e,be):"Error";return new pn(ee,`${this.serviceName}: ${lt} (${ee}).`,be)}}const wi=/\{\$([^}]+)}/g;function Nt(W){return JSON.parse(W)}function nn(W){return JSON.stringify(W)}const Vr=function(W){let H={},J={},be={},ee="";try{const $e=W.split(".");H=Nt(pe($e[0])||""),J=Nt(pe($e[1])||""),ee=$e[2],be=J.d||{},delete J.d}catch{}return{header:H,claims:J,data:be,signature:ee}},Si=function(W){const J=Vr(W).claims;return!!J&&"object"==typeof J&&J.hasOwnProperty("iat")},fs=function(W){const H=Vr(W).claims;return"object"==typeof H&&!0===H.admin};function cr(W,H){return Object.prototype.hasOwnProperty.call(W,H)}function Li(W,H){if(Object.prototype.hasOwnProperty.call(W,H))return W[H]}function Ji(W){for(const H in W)if(Object.prototype.hasOwnProperty.call(W,H))return!1;return!0}function No(W,H,J){const be={};for(const ee in W)Object.prototype.hasOwnProperty.call(W,ee)&&(be[ee]=H.call(J,W[ee],ee,W));return be}function qe(W,H){if(W===H)return!0;const J=Object.keys(W),be=Object.keys(H);for(const ee of J){if(!be.includes(ee))return!1;const $e=W[ee],lt=H[ee];if(_i($e)&&_i(lt)){if(!qe($e,lt))return!1}else if($e!==lt)return!1}for(const ee of be)if(!J.includes(ee))return!1;return!0}function _i(W){return null!==W&&"object"==typeof W}function zn(W){const H=[];for(const[J,be]of Object.entries(W))Array.isArray(be)?be.forEach(ee=>{H.push(encodeURIComponent(J)+"="+encodeURIComponent(ee))}):H.push(encodeURIComponent(J)+"="+encodeURIComponent(be));return H.length?"&"+H.join("&"):""}function Qi(W){const H={};return W.replace(/^\?/,"").split("&").forEach(be=>{if(be){const[ee,$e]=be.split("=");H[decodeURIComponent(ee)]=decodeURIComponent($e)}}),H}function wr(W){const H=W.indexOf("?");if(!H)return"";const J=W.indexOf("#",H);return W.substring(H,J>0?J:void 0)}class On{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(H,J){J||(J=0);const be=this.W_;if("string"==typeof H)for(let je=0;je<16;je++)be[je]=H.charCodeAt(J)<<24|H.charCodeAt(J+1)<<16|H.charCodeAt(J+2)<<8|H.charCodeAt(J+3),J+=4;else for(let je=0;je<16;je++)be[je]=H[J]<<24|H[J+1]<<16|H[J+2]<<8|H[J+3],J+=4;for(let je=16;je<80;je++){const kt=be[je-3]^be[je-8]^be[je-14]^be[je-16];be[je]=4294967295&(kt<<1|kt>>>31)}let $t,Be,ee=this.chain_[0],$e=this.chain_[1],lt=this.chain_[2],Zt=this.chain_[3],cn=this.chain_[4];for(let je=0;je<80;je++){je<40?je<20?($t=Zt^$e&(lt^Zt),Be=1518500249):($t=$e^lt^Zt,Be=1859775393):je<60?($t=$e&lt|Zt&($e|lt),Be=2400959708):($t=$e^lt^Zt,Be=3395469782);const kt=(ee<<5|ee>>>27)+$t+cn+Be+be[je]&4294967295;cn=Zt,Zt=lt,lt=4294967295&($e<<30|$e>>>2),$e=ee,ee=kt}this.chain_[0]=this.chain_[0]+ee&4294967295,this.chain_[1]=this.chain_[1]+$e&4294967295,this.chain_[2]=this.chain_[2]+lt&4294967295,this.chain_[3]=this.chain_[3]+Zt&4294967295,this.chain_[4]=this.chain_[4]+cn&4294967295}update(H,J){if(null==H)return;void 0===J&&(J=H.length);const be=J-this.blockSize;let ee=0;const $e=this.buf_;let lt=this.inbuf_;for(;ee<J;){if(0===lt)for(;ee<=be;)this.compress_(H,ee),ee+=this.blockSize;if("string"==typeof H){for(;ee<J;)if($e[lt]=H.charCodeAt(ee),++lt,++ee,lt===this.blockSize){this.compress_($e),lt=0;break}}else for(;ee<J;)if($e[lt]=H[ee],++lt,++ee,lt===this.blockSize){this.compress_($e),lt=0;break}}this.inbuf_=lt,this.total_+=J}digest(){const H=[];let J=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ee=this.blockSize-1;ee>=56;ee--)this.buf_[ee]=255&J,J/=256;this.compress_(this.buf_);let be=0;for(let ee=0;ee<5;ee++)for(let $e=24;$e>=0;$e-=8)H[be]=this.chain_[ee]>>$e&255,++be;return H}}function $n(W,H){const J=new dn(W,H);return J.subscribe.bind(J)}class dn{constructor(H,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{H(this)}).catch(be=>{this.error(be)})}next(H){this.forEachObserver(J=>{J.next(H)})}error(H){this.forEachObserver(J=>{J.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,J,be){let ee;if(void 0===H&&void 0===J&&void 0===be)throw new Error("Missing Observer.");ee=function at(W,H){if("object"!=typeof W||null===W)return!1;for(const J of H)if(J in W&&"function"==typeof W[J])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:J,complete:be},void 0===ee.next&&(ee.next=en),void 0===ee.error&&(ee.error=en),void 0===ee.complete&&(ee.complete=en);const $e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),$e}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,H)}sendOne(H,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{J(this.observers[H])}catch(be){typeof console<"u"&&console.error&&console.error(be)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function en(){}const ei=function(W,H,J,be){let ee;if(be<H?ee="at least "+H:be>J&&(ee=0===J?"none":"no more than "+J),ee)throw new Error(W+" failed: Was called with "+be+(1===be?" argument.":" arguments.")+" Expects "+ee+".")};function Bn(W,H){return`${W} failed: ${H} argument `}function Dt(W,H,J,be){if((!be||J)&&"function"!=typeof J)throw new Error(Bn(W,H)+"must be a valid function.")}function Ur(W,H,J,be){if((!be||J)&&("object"!=typeof J||null===J))throw new Error(Bn(W,H)+"must be a valid context object.")}const Jt=function(W){const H=[];let J=0;for(let be=0;be<W.length;be++){let ee=W.charCodeAt(be);if(ee>=55296&&ee<=56319){const $e=ee-55296;be++,te(be<W.length,"Surrogate pair missing trail surrogate."),ee=65536+($e<<10)+(W.charCodeAt(be)-56320)}ee<128?H[J++]=ee:ee<2048?(H[J++]=ee>>6|192,H[J++]=63&ee|128):ee<65536?(H[J++]=ee>>12|224,H[J++]=ee>>6&63|128,H[J++]=63&ee|128):(H[J++]=ee>>18|240,H[J++]=ee>>12&63|128,H[J++]=ee>>6&63|128,H[J++]=63&ee|128)}return H},ur=function(W){let H=0;for(let J=0;J<W.length;J++){const be=W.charCodeAt(J);be<128?H++:be<2048?H+=2:be>=55296&&be<=56319?(H+=4,J++):H+=3}return H};function Xe(W,H=1e3,J=2){const be=H*Math.pow(J,W),ee=Math.round(.5*be*(Math.random()-.5)*2);return Math.min(144e5,be+ee)}function Ot(W){return W&&W._delegate?W._delegate:W}},4393:(ot,Te,F)=>{var c=F(4650);let te=null;function k(){return te}const ae=new c.OlP("DocumentToken");let fe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function pe(){return(0,c.LFG)(G)}()},providedIn:"platform"}),n})();const $=new c.OlP("Location Initialized");let G=(()=>{class n extends fe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(e){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){Q()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){Q()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Fe(){return new G((0,c.LFG)(ae))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Me(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ce(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function tt(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Qe)},providedIn:"root"}),n})();const ge=new c.OlP("appBaseHref");let Qe=(()=>{class n extends _e{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Me(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+tt(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,l){const d=this.prepareExternalUrl(r+tt(l));this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,l){const d=this.prepareExternalUrl(r+tt(l));this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(fe),c.LFG(ge,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rt=(()=>{class n extends _e{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Me(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,l){let d=this.prepareExternalUrl(r+tt(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,l){let d=this.prepareExternalUrl(r+tt(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(fe),c.LFG(ge,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n{constructor(e){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Ce(Ue(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+tt(i))}normalize(e){return n.stripTrailingSlash(function we(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ue(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+tt(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+tt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=tt,n.joinWithSlash=Me,n.stripTrailingSlash=Ce,n.\u0275fac=function(e){return new(e||n)(c.LFG(_e))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ye(){return new Ae((0,c.LFG)(_e))}()},providedIn:"root"}),n})();function Ue(n){return n.replace(/\/index.html$/,"")}function ca(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,l]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(l)}return null}class ua{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ui=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,l,d)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ua(r.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===l?void 0:l);else if(null!==l){const p=i.get(l);i.move(p,d),ys(p,r)}});for(let r=0,l=i.length;r<l;r++){const p=i.get(r).context;p.index=r,p.count=l,p.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{ys(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ys(n,t){n.context.$implicit=t.item}let Sn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Nc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ni("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ni("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Nc{constructor(){this.$implicit=null,this.ngIf=null}}function ni(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}let ii=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Gr="browser";let hl=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new wh((0,c.LFG)(ae),window)}),n})();class wh{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Ni(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const l=r.shadowRoot;if(l){const d=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(d)return d}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],r-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=er(this.window.history)||er(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function er(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Js{}class eo extends class $u extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function le(n){te||(te=n)}(new eo)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Sl(){return to=to||document.querySelector("base"),to?to.getAttribute("href"):null}();return null==e?null:function ji(n){Yn=Yn||document.createElement("a"),Yn.setAttribute("href",n);const t=Yn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){to=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ca(document.cookie,t)}}let Yn,to=null;const mn=new c.OlP("TRANSITION_ID"),Wc=[{provide:c.ip1,useFactory:function Gu(n,t,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const i=k(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<r.length;l++)i.remove(r[l])})}},deps:[mn,ae,c.zs3],multi:!0}];let zc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Il=new c.OlP("EventManagerPlugins");let Wu=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let l=0;l<r.length;l++){const d=r[l];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Il),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Al{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=k().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let no=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Po=(()=>{class n extends no{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,r.push(i.appendChild(d))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(zu),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(zu))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function zu(n){k().remove(n)}const ko={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Zu=/%COMP%/g;function Ol(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ol(n,r,e):(r=r.replace(Zu,n),e.push(r))}return e}function qu(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ro=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new xo(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Ku(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case c.ifc.ShadowDom:return new Yu(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ol(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Wu),c.LFG(Po),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class xo{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ko[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(ba(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(ba(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const l=ko[r];l?t.setAttributeNS(l,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ko[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,i,r&c.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,qu(i)):this.eventManager.addEventListener(t,e,qu(i))}}function ba(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ku extends xo{constructor(t,e,i,r){super(t),this.component=i;const l=Ol(r+"-"+i.id,i.styles,[]);e.addStyles(l),this.contentAttr=function xn(n){return"_ngcontent-%COMP%".replace(Zu,n)}(r+"-"+i.id),this.hostAttr=function Ml(n){return"_nghost-%COMP%".replace(Zu,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Yu extends xo{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ol(r.id,r.styles,[]);for(let d=0;d<l.length;d++){const p=document.createElement("style");p.textContent=l[d],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ri=(()=>{class n extends Al{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ea=["alt","control","meta","shift"],Ca={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ar={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Da=(()=>{class n extends Al{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const l=n.parseEventName(i),d=n.eventCallback(l.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(e,l.domEventName,d))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const l=n._normalizeKey(i.pop());let d="",p=i.indexOf("code");if(p>-1&&(i.splice(p,1),d="code."),Ea.forEach(C=>{const N=i.indexOf(C);N>-1&&(i.splice(N,1),d+=C+".")}),d+=l,0!=i.length||0===l.length)return null;const _={};return _.domEventName=r,_.fullKey=d,_}static matchEventFullKeyCode(e,i){let r=Ca[e.key]||e.key,l="";return i.indexOf("code.")>-1&&(r=e.code,l="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ea.forEach(d=>{d!==r&&(0,Ar[d])(e)&&(l+=d+".")}),l+=r,l===i)}static eventCallback(e,i,r){return l=>{n.matchEventFullKeyCode(l,e)&&r.runGuarded(()=>i(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const xl=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Gr},{provide:c.g9A,useValue:function Pl(){eo.makeCurrent()},multi:!0},{provide:ae,useFactory:function Ta(){return(0,c.RDi)(document),document},deps:[]}]),Ds=new c.OlP(""),Qu=[{provide:c.rWj,useClass:class Sh{addToWindow(t){c.dqk.getAngularTestability=(i,r=!0)=>{const l=t.findTestabilityInTree(i,r);if(null==l)throw new Error("Could not find testability for element.");return l},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let l=r.length,d=!1;const p=function(_){d=d||_,l--,0==l&&i(d)};r.forEach(function(_){_.whenStable(p)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?k().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],ws=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function oo(){return new c.qLn},deps:[]},{provide:Il,useClass:ri,multi:!0,deps:[ae,c.R0b,c.Lbi]},{provide:Il,useClass:Da,multi:!0,deps:[ae]},{provide:ro,useClass:ro,deps:[Wu,Po,c.AFp]},{provide:c.FYo,useExisting:ro},{provide:no,useExisting:Po},{provide:Po,useClass:Po,deps:[ae]},{provide:Wu,useClass:Wu,deps:[Il,c.R0b]},{provide:Js,useClass:zc,deps:[]},[]];let Fl=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId},{provide:mn,useExisting:c.AFp},Wc]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ds,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...ws,...Qu],imports:[ii,c.hGG]}),n})(),qr=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Fo(){return new qr((0,c.LFG)(ae))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;var fn=F(8996),Gi=F(3269);function Je(...n){const t=(0,Gi.yG)(n);return(0,fn.D)(n,t)}var un=F(7579);class Wt extends un.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const Na=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var vn=F(9751);const{isArray:Ss}=Array,{getPrototypeOf:Hl,prototype:Ap,keys:Yc}=Object;function Ma(n){if(1===n.length){const t=n[0];if(Ss(t))return{args:t,keys:null};if(function $o(n){return n&&"object"==typeof n&&Hl(n)===Ap}(t)){const e=Yc(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Yr=F(4671),We=F(4004);const{isArray:Oa}=Array;function Go(n){return(0,We.U)(t=>function Is(n,t){return Oa(t)?n(...t):n(t)}(n,t))}function Wo(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var an=F(5403),Jc=F(9672);function Jr(...n){const t=(0,Gi.yG)(n),e=(0,Gi.jO)(n),{args:i,keys:r}=Ma(n);if(0===i.length)return(0,fn.D)([],t);const l=new vn.y(function Np(n,t,e=Yr.y){return i=>{Qc(t,()=>{const{length:r}=n,l=new Array(r);let d=r,p=r;for(let _=0;_<r;_++)Qc(t,()=>{const C=(0,fn.D)(n[_],t);let N=!1;C.subscribe((0,an.x)(i,M=>{l[_]=M,N||(N=!0,p--),p||i.next(e(l.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,t,r?d=>Wo(r,d):Yr.y));return e?l.pipe(Go(e)):l}function Qc(n,t,e){n?(0,Jc.f)(e,n,t):t()}var jl=F(8189);function gr(...n){return function Ra(){return(0,jl.J)(1)}()((0,fn.D)(n,(0,Gi.yG)(n)))}var di=F(8421);function mr(n){return new vn.y(t=>{(0,di.Xf)(n()).subscribe(t)})}var Xc=F(9635),Wi=F(576);function hi(n,t){const e=(0,Wi.m)(n)?n:()=>n,i=r=>r.error(e());return new vn.y(t?r=>t.schedule(i,0,r):i)}var _r=F(515),Nr=F(727),Un=F(4482);function As(){return(0,Un.e)((n,t)=>{let e=null;n._refCount++;const i=(0,an.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,l=e;e=null,r&&(!l||r===l)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Qr extends vn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Un.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Nr.w0;const e=this.getSubject();t.add(this.source.subscribe((0,an.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Nr.w0.EMPTY)}return t}refCount(){return As()(this)}}function An(n,t){return(0,Un.e)((e,i)=>{let r=null,l=0,d=!1;const p=()=>d&&!r&&i.complete();e.subscribe((0,an.x)(i,_=>{r?.unsubscribe();let C=0;const N=l++;(0,di.Xf)(n(_,N)).subscribe(r=(0,an.x)(i,M=>i.next(t?t(_,M,N,C++):M),()=>{r=null,p()}))},()=>{d=!0,p()}))})}function xt(n){return n<=0?()=>_r.E:(0,Un.e)((t,e)=>{let i=0;t.subscribe((0,an.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Pa(...n){const t=(0,Gi.yG)(n);return(0,Un.e)((e,i)=>{(t?gr(n,e,t):gr(n,e)).subscribe(i)})}function w(n,t){return(0,Un.e)((e,i)=>{let r=0;e.subscribe((0,an.x)(i,l=>n.call(t,l,r++)&&i.next(l)))})}var T=F(5577);function O(n){return(0,Un.e)((t,e)=>{let i=!1;t.subscribe((0,an.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function V(n=X){return(0,Un.e)((t,e)=>{let i=!1;t.subscribe((0,an.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function X(){return new Na}function oe(n,t){const e=arguments.length>=2;return i=>i.pipe(n?w((r,l)=>n(r,l,i)):Yr.y,xt(1),e?O(t):V(()=>new Na))}function De(n,t){return(0,Wi.m)(t)?(0,T.z)(n,t,1):(0,T.z)(n,1)}var Oe=F(8505);function nt(n){return(0,Un.e)((t,e)=>{let l,i=null,r=!1;i=t.subscribe((0,an.x)(e,void 0,void 0,d=>{l=(0,di.Xf)(n(d,nt(n)(t))),i?(i.unsubscribe(),i=null,l.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,l.subscribe(e))})}function _t(n,t,e,i,r){return(l,d)=>{let p=e,_=t,C=0;l.subscribe((0,an.x)(d,N=>{const M=C++;_=p?n(_,N,M):(p=!0,N),i&&d.next(_)},r&&(()=>{p&&d.next(_),d.complete()})))}}function At(n,t){return(0,Un.e)(_t(n,t,arguments.length>=2,!0))}function ct(n){return n<=0?()=>_r.E:(0,Un.e)((t,e)=>{let i=[];t.subscribe((0,an.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function bn(n,t){const e=arguments.length>=2;return i=>i.pipe(n?w((r,l)=>n(r,l,i)):Yr.y,ct(1),e?O(t):V(()=>new Na))}function Xr(n){return(0,Un.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const It="primary",Mr=Symbol("RouteTitle");class Ns{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function nr(n){return new Ns(n)}function zo(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let l=0;l<i.length;l++){const d=i[l],p=n[l];if(d.startsWith(":"))r[d.substring(1)]=p;else if(d!==p.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function yr(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let l=0;l<e.length;l++)if(r=e[l],!Nh(n[r],t[r]))return!1;return!0}function Nh(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,l)=>i[l]===r)}return n===t}function Mp(n){return Array.prototype.concat.apply([],n)}function Op(n){return n.length>0?n[n.length-1]:null}function Jn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Or(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,fn.D)(Promise.resolve(n)):Je(n)}const k0={exact:function Pp(n,t,e){if(!po(n.segments,t.segments)||!fo(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Pp(n.children[i],t.children[i],e))return!1;return!0},subset:ka},Oh={exact:function Rh(n,t){return yr(n,t)},subset:function kp(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Nh(n[e],t[e]))},ignored:()=>!0};function $m(n,t,e){return k0[e.paths](n.root,t.root,e.matrixParams)&&Oh[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function ka(n,t,e){return ed(n,t,t.segments,e)}function ed(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!po(r,e)||t.hasChildren()||!fo(r,e,i))}if(n.segments.length===e.length){if(!po(n.segments,e)||!fo(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!ka(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(po(n.segments,r)&&fo(n.segments,r,i)&&n.children[It])&&ed(n.children[It],t,l,i)}}function fo(n,t,e){return t.every((i,r)=>Oh[e](n[r].parameters,i.parameters))}class xa{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nr(this.queryParams)),this._queryParamMap}toString(){return go.serialize(this)}}class Bt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Jn(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return id(this)}}class td{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=nr(this.parameters)),this._parameterMap}toString(){return xh(this)}}function po(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Ph=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new nd},providedIn:"root"}),n})();class nd{parse(t){const e=new La(t);return new xa(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Fa(t.root,!0)}`,i=function zm(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${tu(e)}=${tu(r)}`).join("&"):`${tu(e)}=${tu(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Gm(n){return encodeURI(n)}(t.fragment)}`:""}`}}const go=new nd;function id(n){return n.segments.map(t=>xh(t)).join("/")}function Fa(n,t){if(!n.hasChildren())return id(n);if(t){const e=n.children[It]?Fa(n.children[It],!1):"",i=[];return Jn(n.children,(r,l)=>{l!==It&&i.push(`${l}:${Fa(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function xp(n,t){let e=[];return Jn(n.children,(i,r)=>{r===It&&(e=e.concat(t(i,r)))}),Jn(n.children,(i,r)=>{r!==It&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===It?[Fa(n.children[It],!1)]:[`${r}:${Fa(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[It]?`${id(n)}/${e[0]}`:`${id(n)}/(${e.join("//")})`}}function Fp(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tu(n){return Fp(n).replace(/%3B/gi,";")}function vr(n){return Fp(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mo(n){return decodeURIComponent(n)}function kh(n){return mo(n.replace(/\+/g,"%20"))}function xh(n){return`${vr(n.path)}${function Wm(n){return Object.keys(n).map(t=>`;${vr(t)}=${vr(n[t])}`).join("")}(n.parameters)}`}const Zm=/^[^\/()?;=#]+/;function rd(n){const t=n.match(Zm);return t?t[0]:""}const Lp=/^[^=?&#]+/,qm=/^[^&#]+/;class La{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[It]=new Bt(t,e)),i}parseSegment(){const t=rd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(t),new td(mo(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=rd(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=rd(this.remaining);r&&(i=r,this.capture(i))}t[mo(e)]=mo(i)}parseQueryParam(t){const e=function Bp(n){const t=n.match(Lp);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const d=function x0(n){const t=n.match(qm);return t?t[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const r=kh(e),l=kh(i);if(t.hasOwnProperty(r)){let d=t[r];Array.isArray(d)||(d=[d],t[r]=d),d.push(l)}else t[r]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=rd(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,!1);let l;i.indexOf(":")>-1?(l=i.slice(0,i.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=It);const d=this.parseChildren();e[l]=1===Object.keys(d).length?d[It]:new Bt([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new c.vHH(4011,!1)}}function $l(n){return n.segments.length>0?new Bt([],{[It]:n}):n}function Rr(n){const t={};for(const i of Object.keys(n.children)){const l=Rr(n.children[i]);(l.segments.length>0||l.hasChildren())&&(t[i]=l)}return function Ba(n){if(1===n.numberOfChildren&&n.children[It]){const t=n.children[It];return new Bt(n.segments.concat(t.segments),t.children)}return n}(new Bt(n.segments,t))}function Zo(n){return n instanceof xa}function L0(n,t,e,i,r){if(0===e.length)return nu(t.root,t.root,t.root,i,r);const l=function Up(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Fh(!0,0,n);let t=0,e=!1;const i=n.reduce((r,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const p={};return Jn(l.outlets,(_,C)=>{p[C]="string"==typeof _?_.split("/"):_}),[...r,{outlets:p}]}if(l.segmentPath)return[...r,l.segmentPath]}return"string"!=typeof l?[...r,l]:0===d?(l.split("/").forEach((p,_)=>{0==_&&"."===p||(0==_&&""===p?e=!0:".."===p?t++:""!=p&&r.push(p))}),r):[...r,l]},[]);return new Fh(e,t,i)}(e);return l.toRoot()?nu(t.root,t.root,new Bt([],{}),i,r):function d(_){const C=function Lh(n,t,e,i){if(n.isAbsolute)return new Wl(t.root,!0,0);if(-1===i)return new Wl(e,e===t.root,0);return function Bh(n,t,e){let i=n,r=t,l=e;for(;l>r;){if(l-=r,i=i.parent,!i)throw new c.vHH(4005,!1);r=i.segments.length}return new Wl(i,!1,r-l)}(e,i+(Va(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,t,n.snapshot?._urlSegment,_),N=C.processChildren?yo(C.segmentGroup,C.index,l.commands):zl(C.segmentGroup,C.index,l.commands);return nu(t.root,C.segmentGroup,N,i,r)}(n.snapshot?._lastPathIndex)}function Va(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function _o(n){return"object"==typeof n&&null!=n&&n.outlets}function nu(n,t,e,i,r){let d,l={};i&&Jn(i,(_,C)=>{l[C]=Array.isArray(_)?_.map(N=>`${N}`):`${_}`}),d=n===t?e:Ym(n,t,e);const p=$l(Rr(d));return new xa(p,l,r)}function Ym(n,t,e){const i={};return Jn(n.children,(r,l)=>{i[l]=r===t?e:Ym(r,t,e)}),new Bt(n.segments,i)}class Fh{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Va(i[0]))throw new c.vHH(4003,!1);const r=i.find(_o);if(r&&r!==Op(i))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wl{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function zl(n,t,e){if(n||(n=new Bt([],{})),0===n.segments.length&&n.hasChildren())return yo(n,t,e);const i=function Jm(n,t,e){let i=0,r=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return l;const d=n.segments[r],p=e[i];if(_o(p))break;const _=`${p}`,C=i<e.length-1?e[i+1]:null;if(r>0&&void 0===_)break;if(_&&C&&"object"==typeof C&&void 0===C.outlets){if(!ad(_,C,d))return l;i+=2}else{if(!ad(_,{},d))return l;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const l=new Bt(n.segments.slice(0,i.pathIndex),{});return l.children[It]=new Bt(n.segments.slice(i.pathIndex),n.children),yo(l,0,r)}return i.match&&0===r.length?new Bt(n.segments,{}):i.match&&!n.hasChildren()?Fn(n,t,e):i.match?yo(n,0,r):Fn(n,t,e)}function yo(n,t,e){if(0===e.length)return new Bt(n.segments,{});{const i=function sd(n){return _o(n[0])?n[0].outlets:{[It]:n}}(e),r={};return Jn(i,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(r[d]=zl(n.children[d],t,l))}),Jn(n.children,(l,d)=>{void 0===i[d]&&(r[d]=l)}),new Bt(n.segments,r)}}function Fn(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const l=e[r];if(_o(l)){const _=od(l.outlets);return new Bt(i,_)}if(0===r&&Va(e[0])){i.push(new td(n.segments[t].path,jp(e[0]))),r++;continue}const d=_o(l)?l.outlets[It]:`${l}`,p=r<e.length-1?e[r+1]:null;d&&p&&Va(p)?(i.push(new td(d,jp(p))),r+=2):(i.push(new td(d,{})),r++)}return new Bt(i,{})}function od(n){const t={};return Jn(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Fn(new Bt([],{}),0,e))}),t}function jp(n){const t={};return Jn(n,(e,i)=>t[i]=`${e}`),t}function ad(n,t,e){return n==e.path&&yr(t,e.parameters)}class Ms{constructor(t,e){this.id=t,this.url=e}}class ld extends Ms{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ua extends Ms{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cd extends Ms{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $p extends Ms{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qm extends Ms{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ud extends Ms{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B0 extends Ms{constructor(t,e,i,r,l){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Zl extends Ms{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vh extends Ms{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gp{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wp{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zp{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zp{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dd{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hd{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iu{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class fd{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ru(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=ru(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Mi(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Mi(t,this._root).map(e=>e.value)}}function ru(n,t){if(n===t.value)return t;for(const e of t.children){const i=ru(n,e);if(i)return i}return null}function Mi(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Mi(n,e);if(i.length)return i.unshift(t),i}return[]}class ir{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function br(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class qp extends fd{constructor(t,e){super(t),this.snapshot=e,ou(this,t)}toString(){return this.snapshot.toString()}}function ql(n,t){const e=function Kl(n,t){const d=new bi([],{},{},"",{},It,t,null,n.root,-1,{});return new gd("",new ir(d,[]))}(n,t),i=new Wt([new td("",{})]),r=new Wt({}),l=new Wt({}),d=new Wt({}),p=new Wt(""),_=new vo(i,r,d,p,l,It,t,e.root);return _.snapshot=e.root,new qp(new ir(_,[]),e)}class vo{constructor(t,e,i,r,l,d,p,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=l,this.outlet=d,this.component=p,this.title=this.data?.pipe((0,We.U)(C=>C[Mr]))??Je(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,We.U)(t=>nr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,We.U)(t=>nr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function su(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],l=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(l.component)break;i--}}return function pd(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class bi{constructor(t,e,i,r,l,d,p,_,C,N,M,x){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=l,this.outlet=d,this.component=p,this.title=this.data?.[Mr],this.routeConfig=_,this._urlSegment=C,this._lastPathIndex=N,this._correctedLastPathIndex=x??N,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gd extends fd{constructor(t,e){super(e),this.url=t,ou(this,e)}toString(){return Kp(this._root)}}function ou(n,t){t.value._routerState=n,t.children.forEach(e=>ou(n,e))}function Kp(n){const t=n.children.length>0?` { ${n.children.map(Kp).join(", ")} } `:"";return`${n.value}${t}`}function Uh(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,yr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),yr(t.params,e.params)||n.params.next(e.params),function ho(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!yr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),yr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function au(n,t){const e=yr(n.params,t.params)&&function eu(n,t){return po(n,t)&&n.every((e,i)=>yr(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||au(n.parent,t.parent))}function Ha(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Hh(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ha(n,i,r);return Ha(n,i)})}(n,t,e);return new ir(i,r)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(p=>Ha(n,p)),d}}const i=function Xm(n){return new vo(new Wt(n.url),new Wt(n.params),new Wt(n.queryParams),new Wt(n.fragment),new Wt(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(l=>Ha(n,l));return new ir(i,r)}}const es="ngNavigationCancelingError";function qo(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Zo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=jh(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function jh(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[es]=!0,i.cancellationCode=t,e&&(i.url=e),i}function md(n){return Yp(n)&&Zo(n.url)}function Yp(n){return n&&n[es]}class _d{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new yd,this.attachRef=null}}let yd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new _d,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vd=!1;let ja=(()=>{class n{constructor(e,i,r,l,d){this.parentContexts=e,this.location=i,this.changeDetector=l,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=r||It,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,vd);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,vd);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,vd);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new c.vHH(4013,vd);this._activatedRoute=e;const r=this.location,d=e._futureSnapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,_=new e_(e,p,r.injector);if(i&&function y(n){return!!n.resolveComponentFactory}(i)){const C=i.resolveComponentFactory(d);this.activated=r.createComponent(C,r.length,_)}else this.activated=r.createComponent(d,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(yd),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class e_{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===vo?this.route:t===yd?this.childContexts:this.parent.get(t,e)}}let f=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(e,i){1&e&&c._UZ(0,"router-outlet")},dependencies:[ja],encapsulation:2}),n})();function m(n,t){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function ut(n){const t=n.children&&n.children.map(ut),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==It&&(e.component=f),e}function rn(n){return n.outlet||It}function rr(n,t){const e=n.filter(i=>rn(i)===t);return e.push(...n.filter(i=>rn(i)!==t)),e}function $a(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class lu{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Uh(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=br(e);t.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,r[d],i),delete r[d]}),Jn(r,(l,d)=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(t,e,i){const r=t.value,l=e?e.value:null;if(r===l)if(r.component){const d=i.getContext(r.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,i);else l&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,l=br(t);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],r);if(i&&i.outlet){const d=i.outlet.detach(),p=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:p})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,l=br(t);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=br(e);t.children.forEach(l=>{this.activateRoutes(l,r[l.value.outlet],i),this.forwardEvent(new hd(l.value.snapshot))}),t.children.length&&this.forwardEvent(new Zp(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,l=e?e.value:null;if(Uh(r),r===l)if(r.component){const d=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const d=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const p=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),d.children.onOutletReAttached(p.contexts),d.attachRef=p.componentRef,d.route=p.route.value,d.outlet&&d.outlet.attach(p.componentRef,p.route.value),Uh(p.route.value),this.activateChildRoutes(t,null,d.children)}else{const p=$a(r.snapshot),_=p?.get(c._Vd)??null;d.attachRef=null,d.route=r,d.resolver=_,d.injector=p,d.outlet&&d.outlet.activateWith(r,d.injector),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,i)}}class Jp{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class bd{constructor(t,e){this.component=t,this.route=e}}function Qp(n,t,e){const i=n._root;return Ga(i,t?t._root:null,e,[i.value])}function Yl(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,c.Z0I)(n)?t.get(n):n:i}function Ga(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const l=br(t);return n.children.forEach(d=>{(function $h(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=t?t.value:null,p=e?e.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const _=function Gh(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!po(n.url,t.url);case"pathParamsOrQueryParamsChange":return!po(n.url,t.url)||!yr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!au(n,t)||!yr(n.queryParams,t.queryParams);default:return!au(n,t)}}(d,l,l.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new Jp(i)):(l.data=d.data,l._resolvedData=d._resolvedData),Ga(n,t,l.component?p?p.children:null:e,i,r),_&&p&&p.outlet&&p.outlet.isActivated&&r.canDeactivateChecks.push(new bd(p.outlet.component,d))}else d&&Ko(t,p,r),r.canActivateChecks.push(new Jp(i)),Ga(n,null,l.component?p?p.children:null:e,i,r)})(d,l[d.value.outlet],e,i.concat([d.value]),r),delete l[d.value.outlet]}),Jn(l,(d,p)=>Ko(d,e.getContext(p),r)),r}function Ko(n,t,e){const i=br(n),r=n.value;Jn(i,(l,d)=>{Ko(l,r.component?t?t.children.getContext(d):null:t,e)}),e.canDeactivateChecks.push(new bd(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Jl(n){return"function"==typeof n}function Xp(n){return n instanceof Na||"EmptyError"===n?.name}const eg=Symbol("INITIAL_VALUE");function Ed(){return An(n=>Jr(n.map(t=>t.pipe(xt(1),Pa(eg)))).pipe((0,We.U)(t=>{for(const e of t)if(!0!==e){if(e===eg)return eg;if(!1===e||e instanceof xa)return e}return!0}),w(t=>t!==eg),xt(1)))}function sr(n){return(0,Xc.z)((0,Oe.b)(t=>{if(Zo(t))throw qo(0,t)}),(0,We.U)(t=>!0===t))}const tg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ng(n,t,e,i,r){const l=Oi(n,t,e);return l.matched?function o_(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Je(r.map(d=>{const p=Yl(d,n);return Or(function YD(n){return n&&Jl(n.canMatch)}(p)?p.canMatch(t,e):n.runInContext(()=>p(t,e)))})).pipe(Ed(),sr()):Je(!0)}(i=m(t,i),t,e).pipe((0,We.U)(d=>!0===d?l:{...tg})):Je(l)}function Oi(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...tg}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||zo)(e,n,t);if(!r)return{...tg};const l={};Jn(r.posParams,(p,_)=>{l[_]=p.path});const d=r.consumed.length>0?{...l,...r.consumed[r.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:d,positionalParamSegments:r.posParams??{}}}function Ql(n,t,e,i,r="corrected"){if(e.length>0&&function ow(n,t,e){return e.some(i=>ig(n,t,i)&&rn(i)!==It)}(n,e,i)){const d=new Bt(t,function sw(n,t,e,i){const r={};r[It]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const l of e)if(""===l.path&&rn(l)!==It){const d=new Bt([],{});d._sourceSegment=n,d._segmentIndexShift=t.length,r[rn(l)]=d}return r}(n,t,i,new Bt(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function $0(n,t,e){return e.some(i=>ig(n,t,i))}(n,e,i)){const d=new Bt(n.segments,function j0(n,t,e,i,r,l){const d={};for(const p of i)if(ig(n,e,p)&&!r[rn(p)]){const _=new Bt([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===l?n.segments.length:t.length,d[rn(p)]=_}return{...r,...d}}(n,t,e,i,n.children,r));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const l=new Bt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function ig(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function a_(n,t,e,i){return!!(rn(n)===i||i!==It&&ig(t,e,n))&&("**"===n.path||Oi(t,n,e).matched)}function G0(n,t,e){return 0===t.length&&!n.children[e]}const zh=!1;class rg{constructor(t){this.segmentGroup=t||null}}class W0{constructor(t){this.urlTree=t}}function Zh(n){return hi(new rg(n))}function z0(n){return hi(new W0(n))}class lw{constructor(t,e,i,r,l){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=l,this.allowRedirects=!0}apply(){const t=Ql(this.urlTree.root,[],[],this.config).segmentGroup,e=new Bt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,It).pipe((0,We.U)(l=>this.createUrlTree(Rr(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(nt(l=>{if(l instanceof W0)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof rg?this.noMatchError(l):l}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,It).pipe((0,We.U)(r=>this.createUrlTree(Rr(r),t.queryParams,t.fragment))).pipe(nt(r=>{throw r instanceof rg?this.noMatchError(r):r}))}noMatchError(t){return new c.vHH(4002,zh)}createUrlTree(t,e,i){const r=$l(t);return new xa(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,We.U)(l=>new Bt([],l))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const l of Object.keys(i.children))"primary"===l?r.unshift(l):r.push(l);return(0,fn.D)(r).pipe(De(l=>{const d=i.children[l],p=rr(e,l);return this.expandSegmentGroup(t,p,d,l).pipe((0,We.U)(_=>({segment:_,outlet:l})))}),At((l,d)=>(l[d.outlet]=d.segment,l),{}),bn())}expandSegment(t,e,i,r,l,d){return(0,fn.D)(i).pipe(De(p=>this.expandSegmentAgainstRoute(t,e,i,p,r,l,d).pipe(nt(C=>{if(C instanceof rg)return Je(null);throw C}))),oe(p=>!!p),nt((p,_)=>{if(Xp(p))return G0(e,r,l)?Je(new Bt([],{})):Zh(e);throw p}))}expandSegmentAgainstRoute(t,e,i,r,l,d,p){return a_(r,e,l,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,l,d):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,l,d):Zh(e):Zh(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,l,d){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const l=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?z0(l):this.lineralizeSegments(i,l).pipe((0,T.z)(d=>{const p=new Bt(d,{});return this.expandSegment(t,p,e,d,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,l,d){const{matched:p,consumedSegments:_,remainingSegments:C,positionalParamSegments:N}=Oi(e,r,l);if(!p)return Zh(e);const M=this.applyRedirectCommands(_,r.redirectTo,N);return r.redirectTo.startsWith("/")?z0(M):this.lineralizeSegments(r,M).pipe((0,T.z)(x=>this.expandSegment(t,e,i,x.concat(C),d,!1)))}matchSegmentAgainstRoute(t,e,i,r,l){return"**"===i.path?(t=m(i,t),i.loadChildren?(i._loadedRoutes?Je({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,We.U)(p=>(i._loadedRoutes=p.routes,i._loadedInjector=p.injector,new Bt(r,{})))):Je(new Bt(r,{}))):ng(e,i,r,t).pipe(An(({matched:d,consumedSegments:p,remainingSegments:_})=>d?this.getChildConfig(t=i._injector??t,i,r).pipe((0,T.z)(N=>{const M=N.injector??t,x=N.routes,{segmentGroup:U,slicedSegments:K}=Ql(e,p,_,x),re=new Bt(U.segments,U.children);if(0===K.length&&re.hasChildren())return this.expandChildren(M,x,re).pipe((0,We.U)(dt=>new Bt(p,dt)));if(0===x.length&&0===K.length)return Je(new Bt(p,{}));const Ee=rn(i)===l;return this.expandSegment(M,re,x,K,Ee?It:l,!0).pipe((0,We.U)(Ve=>new Bt(p.concat(Ve.segments),Ve.children)))})):Zh(e)))}getChildConfig(t,e,i){return e.children?Je({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Je({routes:e._loadedRoutes,injector:e._loadedInjector}):function rw(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Je(!0):Je(r.map(d=>{const p=Yl(d,n);return Or(function i_(n){return n&&Jl(n.canLoad)}(p)?p.canLoad(t,e):n.runInContext(()=>p(t,e)))})).pipe(Ed(),sr())}(t,e,i).pipe((0,T.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Oe.b)(l=>{e._loadedRoutes=l.routes,e._loadedInjector=l.injector})):function Cd(n){return hi(jh(zh,3))}())):Je({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Je(i);if(r.numberOfChildren>1||!r.children[It])return hi(new c.vHH(4e3,zh));r=r.children[It]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const l=this.createSegmentGroup(t,e.root,i,r);return new xa(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Jn(t,(r,l)=>{if("string"==typeof r&&r.startsWith(":")){const p=r.substring(1);i[l]=e[p]}else i[l]=r}),i}createSegmentGroup(t,e,i,r){const l=this.createSegments(t,e.segments,i,r);let d={};return Jn(e.children,(p,_)=>{d[_]=this.createSegmentGroup(t,p,i,r)}),new Bt(l,d)}createSegments(t,e,i,r){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,r):this.findOrReturn(l,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new c.vHH(4001,zh);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class fI{}class Yo{constructor(t,e,i,r,l,d,p,_){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=p,this.urlSerializer=_}recognize(){const t=Ql(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,It).pipe((0,We.U)(e=>{if(null===e)return null;const i=new bi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},It,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ir(i,e),l=new gd(this.url,r);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(t){const e=t.value,i=su(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,fn.D)(Object.keys(i.children)).pipe(De(r=>{const l=i.children[r],d=rr(e,r);return this.processSegmentGroup(t,d,l,r)}),At((r,l)=>r&&l?(r.push(...l),r):null),function fi(n,t=!1){return(0,Un.e)((e,i)=>{let r=0;e.subscribe((0,an.x)(i,l=>{const d=n(l,r++);(d||t)&&i.next(l),!d&&i.complete()}))})}(r=>null!==r),O(null),bn(),(0,We.U)(r=>{if(null===r)return null;const l=d_(r);return function c_(n){n.sort((t,e)=>t.value.outlet===It?-1:e.value.outlet===It?1:t.value.outlet.localeCompare(e.value.outlet))}(l),l}))}processSegment(t,e,i,r,l){return(0,fn.D)(e).pipe(De(d=>this.processSegmentAgainstRoute(d._injector??t,d,i,r,l)),oe(d=>!!d),nt(d=>{if(Xp(d))return G0(i,r,l)?Je([]):Je(null);throw d}))}processSegmentAgainstRoute(t,e,i,r,l){if(e.redirectTo||!a_(e,i,r,l))return Je(null);let d;if("**"===e.path){const p=r.length>0?Op(r).parameters:{},_=q0(i)+r.length;d=Je({snapshot:new bi(r,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sg(e),rn(e),e.component??e._loadedComponent??null,e,Dd(i),_,og(e),_),consumedSegments:[],remainingSegments:[]})}else d=ng(i,e,r,t).pipe((0,We.U)(({matched:p,consumedSegments:_,remainingSegments:C,parameters:N})=>{if(!p)return null;const M=q0(i)+_.length;return{snapshot:new bi(_,N,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sg(e),rn(e),e.component??e._loadedComponent??null,e,Dd(i),M,og(e),M),consumedSegments:_,remainingSegments:C}}));return d.pipe(An(p=>{if(null===p)return Je(null);const{snapshot:_,consumedSegments:C,remainingSegments:N}=p;t=e._injector??t;const M=e._loadedInjector??t,x=function u_(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:U,slicedSegments:K}=Ql(i,C,N,x.filter(Ee=>void 0===Ee.redirectTo),this.relativeLinkResolution);if(0===K.length&&U.hasChildren())return this.processChildren(M,x,U).pipe((0,We.U)(Ee=>null===Ee?null:[new ir(_,Ee)]));if(0===x.length&&0===K.length)return Je([new ir(_,[])]);const re=rn(e)===l;return this.processSegment(M,x,U,K,re?It:l).pipe((0,We.U)(Ee=>null===Ee?null:[new ir(_,Ee)]))}))}}function uw(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function d_(n){const t=[],e=new Set;for(const i of n){if(!uw(i)){t.push(i);continue}const r=t.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=d_(i.children);t.push(new ir(i.value,r))}return t.filter(i=>!e.has(i))}function Dd(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function q0(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function sg(n){return n.data||{}}function og(n){return n.resolve||{}}function gI(n,t){return(0,T.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Je(e);let l=0;return(0,fn.D)(r).pipe(De(d=>function wd(n,t,e,i){const r=n.routeConfig,l=n._resolve;return void 0!==r?.title&&!ag(r)&&(l[Mr]=r.title),function h_(n,t,e,i){const r=function J0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Je({});const l={};return(0,fn.D)(r).pipe((0,T.z)(d=>function hw(n,t,e,i){const r=$a(t)??i,l=Yl(n,r);return Or(l.resolve?l.resolve(t,e):r.runInContext(()=>l(t,e)))}(n[d],t,e,i).pipe(oe(),(0,Oe.b)(p=>{l[d]=p}))),ct(1),function uo(n){return(0,We.U)(()=>n)}(l),nt(d=>Xp(d)?_r.E:hi(d)))}(l,n,t,i).pipe((0,We.U)(d=>(n._resolvedData=d,n.data=su(n,e).resolve,r&&ag(r)&&(n.data[Mr]=r.title),null)))}(d.route,i,n,t)),(0,Oe.b)(()=>l++),ct(1),(0,T.z)(d=>l===r.length?Je(e):_r.E))})}function ag(n){return"string"==typeof n.title||null===n.title}function f_(n){return An(t=>{const e=n(t);return e?(0,fn.D)(e).pipe((0,We.U)(()=>t)):Je(t)})}let Q0=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(l=>l.outlet===It);return i}getResolvedTitleForRoute(e){return e.data[Mr]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(X0)},providedIn:"root"}),n})(),X0=(()=>{class n extends Q0{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(qr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class fw{}class eb extends class pw{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const qh=new c.OlP("",{providedIn:"root",factory:()=>({})}),g_=new c.OlP("ROUTES");let m_=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Je(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Or(e.loadComponent()).pipe((0,Oe.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=l}),Xr(()=>{this.componentLoaders.delete(e)})),r=new Qr(i,()=>new un.x).pipe(As());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Je({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const l=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,We.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,C,N=!1;Array.isArray(p)?C=p:(_=p.create(e).injector,C=Mp(_.get(g_,[],c.XFs.Self|c.XFs.Optional)));return{routes:C.map(ut),injector:_}}),Xr(()=>{this.childrenLoaders.delete(i)})),d=new Qr(l,()=>new un.x).pipe(As());return this.childrenLoaders.set(i,d),d}loadModuleFactoryOrRoutes(e){return Or(e()).pipe((0,T.z)(i=>i instanceof c.YKP||Array.isArray(i)?Je(i):(0,fn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class tb{}class nb{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ib(n){throw n}function rb(n,t,e){return t.parse("/")}const gw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_I={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function sb(){const n=(0,c.f3M)(Ph),t=(0,c.f3M)(yd),e=(0,c.f3M)(Ae),i=(0,c.f3M)(c.zs3),r=(0,c.f3M)(c.Sil),l=(0,c.f3M)(g_,{optional:!0})??[],d=(0,c.f3M)(qh,{optional:!0})??{},p=(0,c.f3M)(X0),_=(0,c.f3M)(Q0,{optional:!0}),C=(0,c.f3M)(tb,{optional:!0}),N=(0,c.f3M)(fw,{optional:!0}),M=new En(null,n,t,e,i,r,Mp(l));return C&&(M.urlHandlingStrategy=C),N&&(M.routeReuseStrategy=N),M.titleStrategy=_??p,function cg(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(d,M),M}let En=(()=>{class n{constructor(e,i,r,l,d,p,_){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=l,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new un.x,this.errorHandler=ib,this.malformedUriErrorHandler=rb,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Je(void 0),this.urlHandlingStrategy=new nb,this.routeReuseStrategy=new eb,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(m_),this.configLoader.onLoadEndListener=x=>this.triggerEvent(new Wp(x)),this.configLoader.onLoadStartListener=x=>this.triggerEvent(new Gp(x)),this.ngModule=d.get(c.h0i),this.console=d.get(c.c2e);const M=d.get(c.R0b);this.isNgZoneEnabled=M instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function Rp(){return new xa(new Bt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ql(this.currentUrlTree,this.rootComponentType),this.transitions=new Wt({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(w(r=>0!==r.id),(0,We.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),An(r=>{let l=!1,d=!1;return Je(r).pipe((0,Oe.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),An(p=>{const _=this.browserUrlTree.toString(),C=!this.navigated||p.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return __(p.source)&&(this.browserUrlTree=p.extractedUrl),Je(p).pipe(An(M=>{const x=this.transitions.getValue();return i.next(new ld(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),x!==this.transitions.getValue()?_r.E:Promise.resolve(M)}),function cw(n,t,e,i){return An(r=>function Wa(n,t,e,i,r){return new lw(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,We.U)(l=>({...r,urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Oe.b)(M=>{this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},r.urlAfterRedirects=M.urlAfterRedirects}),function Y0(n,t,e,i,r,l){return(0,T.z)(d=>function pI(n,t,e,i,r,l,d="emptyOnly",p="legacy"){return new Yo(n,t,e,i,r,d,p,l).recognize().pipe(An(_=>null===_?function Z0(n){return new vn.y(t=>t.error(n))}(new fI):Je(_)))}(n,t,e,d.urlAfterRedirects,i.serialize(d.urlAfterRedirects),i,r,l).pipe((0,We.U)(p=>({...d,targetSnapshot:p}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Oe.b)(M=>{if(r.targetSnapshot=M.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const U=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(U,M)}this.browserUrlTree=M.urlAfterRedirects}const x=new Qm(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);i.next(x)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:x,extractedUrl:U,source:K,restoredState:re,extras:Ee}=p,Re=new ld(x,this.serializeUrl(U),K,re);i.next(Re);const Ve=ql(U,this.rootComponentType).snapshot;return Je(r={...p,targetSnapshot:Ve,urlAfterRedirects:U,extras:{...Ee,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=p.rawUrl,p.resolve(null),_r.E}),(0,Oe.b)(p=>{const _=new ud(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),(0,We.U)(p=>r={...p,guards:Qp(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),function QD(n,t){return(0,T.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:l,canDeactivateChecks:d}}=e;return 0===d.length&&0===l.length?Je({...e,guardsResult:!0}):function XD(n,t,e,i){return(0,fn.D)(n).pipe((0,T.z)(r=>function iw(n,t,e,i,r){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return l&&0!==l.length?Je(l.map(p=>{const _=$a(t)??r,C=Yl(p,_);return Or(function Wh(n){return n&&Jl(n.canDeactivate)}(C)?C.canDeactivate(n,t,e,i):_.runInContext(()=>C(n,t,e,i))).pipe(oe())})).pipe(Ed()):Je(!0)}(r.component,r.route,e,t,i)),oe(r=>!0!==r,!0))}(d,i,r,n).pipe((0,T.z)(p=>p&&function U0(n){return"boolean"==typeof n}(p)?function s_(n,t,e,i){return(0,fn.D)(t).pipe(De(r=>gr(function tw(n,t){return null!==n&&t&&t(new zp(n)),Je(!0)}(r.route.parent,i),function ew(n,t){return null!==n&&t&&t(new dd(n)),Je(!0)}(r.route,i),function H0(n,t,e){const i=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(d=>function n_(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>mr(()=>Je(d.guards.map(_=>{const C=$a(d.node)??e,N=Yl(_,C);return Or(function r_(n){return n&&Jl(n.canActivateChild)}(N)?N.canActivateChild(i,n):C.runInContext(()=>N(i,n))).pipe(oe())})).pipe(Ed())));return Je(l).pipe(Ed())}(n,r.path,e),function nw(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Je(!0);const r=i.map(l=>mr(()=>{const d=$a(t)??e,p=Yl(l,d);return Or(function KD(n){return n&&Jl(n.canActivate)}(p)?p.canActivate(t,n):d.runInContext(()=>p(t,n))).pipe(oe())}));return Je(r).pipe(Ed())}(n,r.route,e))),oe(r=>!0!==r,!0))}(i,l,n,t):Je(p)),(0,We.U)(p=>({...e,guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,Oe.b)(p=>{if(r.guardsResult=p.guardsResult,Zo(p.guardsResult))throw qo(0,p.guardsResult);const _=new B0(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(_)}),w(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",3),!1)),f_(p=>{if(p.guards.canActivateChecks.length)return Je(p).pipe((0,Oe.b)(_=>{const C=new Zl(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(C)}),An(_=>{let C=!1;return Je(_).pipe(gI(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Oe.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,Oe.b)(_=>{const C=new Vh(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(C)}))}),f_(p=>{const _=C=>{const N=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&N.push(this.configLoader.loadComponent(C.routeConfig).pipe((0,Oe.b)(M=>{C.component=M}),(0,We.U)(()=>{})));for(const M of C.children)N.push(..._(M));return N};return Jr(_(p.targetSnapshot.root)).pipe(O(),xt(1))}),f_(()=>this.afterPreactivation()),(0,We.U)(p=>{const _=function oi(n,t,e){const i=Ha(n,t._root,e?e._root:void 0);return new qp(i,t)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return r={...p,targetRouterState:_}}),(0,Oe.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,t,e)=>(0,We.U)(i=>(new lu(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,Oe.b)({next(){l=!0},complete(){l=!0}}),Xr(()=>{l||d||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),nt(p=>{if(d=!0,Yp(p)){md(p)||(this.navigated=!0,this.restoreHistory(r,!0));const _=new cd(r.id,this.serializeUrl(r.extractedUrl),p.message,p.cancellationCode);if(i.next(_),md(p)){const C=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),N={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||__(r.source)};this.scheduleNavigation(C,"imperative",null,N,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new $p(r.id,this.serializeUrl(r.extractedUrl),p,r.targetSnapshot??void 0);i.next(_);try{r.resolve(this.errorHandler(p))}catch(C){r.reject(C)}}return _r.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},l=e.state?.navigationId?e.state:null;if(l){const p={...l};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(r.state=p)}const d=this.parseUrl(e.url);this.scheduleNavigation(d,i,l,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(ut),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:l,fragment:d,queryParamsHandling:p,preserveFragment:_}=i,C=r||this.routerState.root,N=_?this.currentUrlTree.fragment:d;let M=null;switch(p){case"merge":M={...this.currentUrlTree.queryParams,...l};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=l||null}return null!==M&&(M=this.removeEmptyProps(M)),L0(C,this.currentUrlTree,e,M,N??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Zo(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function ob(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new c.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...gw}:!1===i?{..._I}:i,Zo(e))return $m(this.currentUrlTree,e,r);const l=this.parseUrl(e);return $m(this.currentUrlTree,l,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const l=e[r];return null!=l&&(i[r]=l),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ua(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,l,d){if(this.disposed)return Promise.resolve(!1);let p,_,C;d?(p=d.resolve,_=d.reject,C=d.promise):C=new Promise((x,U)=>{p=x,_=U});const N=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),M=r&&r.\u0275routerPageId?r.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):M=0,this.setTransition({id:N,targetPageId:M,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:p,reject:_,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(x=>Promise.reject(x))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),l={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",l):this.location.go(r,"",l)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const l=new cd(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(l),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:function(){return sb()},providedIn:"root"}),n})();function __(n){return"imperative"!==n}let Yh=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new un.x,this.subscription=e.events.subscribe(l=>{l instanceof Ua&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,c.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,c.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,c.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,l,d){return!!(0!==e||i||r||l||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(En),c.Y36(vo),c.Y36(_e))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&c.NdJ("click",function(l){return i.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&e&&c.uIk("target",i.target)("href",i.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class y_{}let v_=(()=>{class n{constructor(e,i,r,l,d){this.router=e,this.injector=r,this.preloadingStrategy=l,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(w(e=>e instanceof Ua),De(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const l of i){l.providers&&!l._injector&&(l._injector=(0,c.MMx)(l.providers,e,`Route: ${l.path}`));const d=l._injector??e,p=l._loadedInjector??d;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?r.push(this.preloadConfig(d,l)):(l.children||l._loadedRoutes)&&r.push(this.processRoutes(p,l.children??l._loadedRoutes))}return(0,fn.D)(r).pipe((0,jl.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Je(null);const l=r.pipe((0,T.z)(d=>null===d?Je(void 0):(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));if(i.loadComponent&&!i._loadedComponent){const d=this.loader.loadComponent(i);return(0,fn.D)([l,d]).pipe((0,jl.J)())}return l})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(En),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(y_),c.LFG(m_))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cu=new c.OlP("");let lb=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ld?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ua&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof iu&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new iu(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function uu(n,t){return{\u0275kind:n,\u0275providers:t}}function Qh(n){return[{provide:g_,multi:!0,useValue:n}]}function yw(){const n=(0,c.f3M)(c.zs3);return t=>{const e=n.get(c.z2F);if(t!==e.components[0])return;const i=n.get(En),r=n.get(b_);1===n.get(E_)&&i.initialNavigation(),n.get(Os,null,c.XFs.Optional)?.setUpPreloading(),n.get(cu,null,c.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const b_=new c.OlP("",{factory:()=>new un.x}),E_=new c.OlP("",{providedIn:"root",factory:()=>1});const Os=new c.OlP("");function Ew(n){return uu(0,[{provide:Os,useExisting:v_},{provide:y_,useExisting:n}])}const db=new c.OlP("ROUTER_FORROOT_GUARD"),Dw=[Ae,{provide:Ph,useClass:nd},{provide:En,useFactory:sb},yd,{provide:vo,useFactory:function cb(n){return n.routerState.root},deps:[En]},m_];function hb(){return new c.PXZ("Router",En)}let fb=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Dw,[],Qh(e),{provide:db,useFactory:pb,deps:[[En,new c.FiY,new c.tp0]]},{provide:qh,useValue:i||{}},i?.useHash?{provide:_e,useClass:rt}:{provide:_e,useClass:Qe},{provide:cu,useFactory:()=>{const n=(0,c.f3M)(En),t=(0,c.f3M)(hl),e=(0,c.f3M)(qh);return e.scrollOffset&&t.setOffset(e.scrollOffset),new lb(n,t,e)}},i?.preloadingStrategy?Ew(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:hb},i?.initialNavigation?gb(i):[],[{provide:C_,useFactory:yw},{provide:c.tb,multi:!0,useExisting:C_}]]}}static forChild(e){return{ngModule:n,providers:[Qh(e)]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(db,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[f]}),n})();function pb(n){return"guarded"}function gb(n){return["disabled"===n.initialNavigation?uu(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const t=(0,c.f3M)(En);return()=>{t.setUpLocationChangeListener()}}},{provide:E_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?uu(2,[{provide:E_,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:t=>{const e=t.get($,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(l=>{const d=t.get(En),p=t.get(b_);(function r(l){t.get(En).events.pipe(w(p=>p instanceof Ua||p instanceof cd||p instanceof $p),(0,We.U)(p=>p instanceof Ua||p instanceof cd&&(0===p.code||1===p.code)&&null),w(p=>null!==p),xt(1)).subscribe(()=>{l()})})(()=>{l(!0),i=!0}),d.afterPreactivation=()=>(l(!0),i||p.closed?Je(void 0):p),d.initialNavigation()}))}}]).\u0275providers:[]]}const C_=new c.OlP("");class Td{constructor(t,e,i,r,l,d){this.name=e,this.quantity=i,this.purchasePrice=r,this.sellingPrice=l,this.imgPath=d}}const Xl_firebase={apiKey:"AIzaSyDfHAspTY4Pv0Ce38TjSuaFNUUh6JnDymA",authDomain:"bmk-store.firebaseapp.com",databaseURL:"https://bmk-store-default-rtdb.europe-west1.firebasedatabase.app",projectId:"bmk-store",storageBucket:"bmk-store.appspot.com",messagingSenderId:"907054465264",appId:"1:907054465264:web:ea64633d401dd5bd0c4235",measurementId:"G-ESVBTPFRFD"},Xl_databaseURL="https://bmk-store-default-rtdb.europe-west1.firebasedatabase.app/";class D_{}class mb{}class za{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),l=r.toLowerCase(),d=e.slice(i+1).trim();this.maybeSetNormalizedName(r,l),this.headers.has(l)?this.headers.get(l).push(d):this.headers.set(l,[d])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof za?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new za;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof za?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const l=t.value;if(l){let d=this.headers.get(e);if(!d)return;d=d.filter(p=>-1===l.indexOf(p)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class _b{encodeKey(t){return fg(t)}encodeValue(t){return fg(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const du=/%(\d[a-f0-9])/gi,Iw={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fg(n){return encodeURIComponent(n).replace(du,(t,e)=>Iw[e]??t)}function Sd(n){return`${n}`}class Za{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new _b,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function yb(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const l=r.indexOf("="),[d,p]=-1==l?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,l)),t.decodeValue(r.slice(l+1))],_=e.get(d)||[];_.push(p),e.set(d,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(Sd):[Sd(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(l=>{e.push({param:i,value:l,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Za({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Sd(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Sd(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class EI{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function vb(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function w_(n){return typeof Blob<"u"&&n instanceof Blob}function Aw(n){return typeof FormData<"u"&&n instanceof FormData}class Qo{constructor(t,e,i,r){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function CI(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,l=r):l=i,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new za),this.context||(this.context=new EI),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const p=e.indexOf("?");this.urlWithParams=e+(-1===p?"?":p<e.length-1?"&":"")+d}}else this.params=new Za,this.urlWithParams=e}serializeBody(){return null===this.body?null:vb(this.body)||w_(this.body)||Aw(this.body)||function Nw(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Za?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Aw(this.body)?null:w_(this.body)?this.body.type||null:vb(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Za?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,l=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,p=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let _=t.headers||this.headers,C=t.params||this.params;const N=t.context??this.context;return void 0!==t.setHeaders&&(_=Object.keys(t.setHeaders).reduce((M,x)=>M.set(x,t.setHeaders[x]),_)),t.setParams&&(C=Object.keys(t.setParams).reduce((M,x)=>M.set(x,t.setParams[x]),C)),new Qo(e,i,l,{params:C,headers:_,context:N,reportProgress:p,responseType:r,withCredentials:d})}}var pi=(()=>((pi=pi||{})[pi.Sent=0]="Sent",pi[pi.UploadProgress=1]="UploadProgress",pi[pi.ResponseHeader=2]="ResponseHeader",pi[pi.DownloadProgress=3]="DownloadProgress",pi[pi.Response=4]="Response",pi[pi.User=5]="User",pi))();class pg{constructor(t,e=200,i="OK"){this.headers=t.headers||new za,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Id extends pg{constructor(t={}){super(t),this.type=pi.ResponseHeader}clone(t={}){return new Id({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class gg extends pg{constructor(t={}){super(t),this.type=pi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new gg({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class T_ extends pg{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function S_(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ad=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let l;if(e instanceof Qo)l=e;else{let _,C;_=r.headers instanceof za?r.headers:new za(r.headers),r.params&&(C=r.params instanceof Za?r.params:new Za({fromObject:r.params})),l=new Qo(e,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:C,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const d=Je(l).pipe(De(_=>this.handler.handle(_)));if(e instanceof Qo||"events"===r.observe)return d;const p=d.pipe(w(_=>_ instanceof gg));switch(r.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return p.pipe((0,We.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return p.pipe((0,We.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return p.pipe((0,We.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return p.pipe((0,We.U)(_=>_.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Za).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,S_(r,i))}post(e,i,r={}){return this.request("POST",e,S_(r,i))}put(e,i,r={}){return this.request("PUT",e,S_(r,i))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(D_))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class bb{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const I_=new c.OlP("HTTP_INTERCEPTORS");let Mw=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Nd=/^\)\]\}',?\n/;let A_=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new vn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((U,K)=>r.setRequestHeader(U,K.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const U=e.detectContentTypeHeader();null!==U&&r.setRequestHeader("Content-Type",U)}if(e.responseType){const U=e.responseType.toLowerCase();r.responseType="json"!==U?U:"text"}const l=e.serializeBody();let d=null;const p=()=>{if(null!==d)return d;const U=r.statusText||"OK",K=new za(r.getAllResponseHeaders()),re=function Db(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return d=new Id({headers:K,status:r.status,statusText:U,url:re}),d},_=()=>{let{headers:U,status:K,statusText:re,url:Ee}=p(),Re=null;204!==K&&(Re=typeof r.response>"u"?r.responseText:r.response),0===K&&(K=Re?200:0);let Ve=K>=200&&K<300;if("json"===e.responseType&&"string"==typeof Re){const dt=Re;Re=Re.replace(Nd,"");try{Re=""!==Re?JSON.parse(Re):null}catch(ze){Re=dt,Ve&&(Ve=!1,Re={error:ze,text:Re})}}Ve?(i.next(new gg({body:Re,headers:U,status:K,statusText:re,url:Ee||void 0})),i.complete()):i.error(new T_({error:Re,headers:U,status:K,statusText:re,url:Ee||void 0}))},C=U=>{const{url:K}=p(),re=new T_({error:U,status:r.status||0,statusText:r.statusText||"Unknown Error",url:K||void 0});i.error(re)};let N=!1;const M=U=>{N||(i.next(p()),N=!0);let K={type:pi.DownloadProgress,loaded:U.loaded};U.lengthComputable&&(K.total=U.total),"text"===e.responseType&&!!r.responseText&&(K.partialText=r.responseText),i.next(K)},x=U=>{let K={type:pi.UploadProgress,loaded:U.loaded};U.lengthComputable&&(K.total=U.total),i.next(K)};return r.addEventListener("load",_),r.addEventListener("error",C),r.addEventListener("timeout",C),r.addEventListener("abort",C),e.reportProgress&&(r.addEventListener("progress",M),null!==l&&r.upload&&r.upload.addEventListener("progress",x)),r.send(l),i.next({type:pi.Sent}),()=>{r.removeEventListener("error",C),r.removeEventListener("abort",C),r.removeEventListener("load",_),r.removeEventListener("timeout",C),e.reportProgress&&(r.removeEventListener("progress",M),null!==l&&r.upload&&r.upload.removeEventListener("progress",x)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Js))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Md=new c.OlP("XSRF_COOKIE_NAME"),ts=new c.OlP("XSRF_HEADER_NAME");class N_{}let kw=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ca(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ae),c.LFG(c.Lbi),c.LFG(Md))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Xh=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const l=this.tokenService.getToken();return null!==l&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,l)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(N_),c.LFG(ts))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),qa=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(I_,[]);this.chain=i.reduceRight((r,l)=>new bb(r,l),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(mb),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),M_=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Xh,useClass:Mw}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Md,useValue:e.cookieName}:[],e.headerName?{provide:ts,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Xh,{provide:I_,useExisting:Xh,multi:!0},{provide:N_,useClass:kw},{provide:Md,useValue:"XSRF-TOKEN"},{provide:ts,useValue:"X-XSRF-TOKEN"}]}),n})(),TI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Ad,{provide:D_,useClass:qa},A_,{provide:mb,useExisting:A_}],imports:[M_.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),Ka=(()=>{class n{constructor(e){this.http=e,this.url=Xl_databaseURL+"articles.json/"}getAll(){return this.http.get(this.url)}get(e){return this.http.get(Xl_databaseURL+"articles/"+e+".json")}create(e){return this.http.post(this.url,e)}update(e,i){return this.http.put(Xl_databaseURL+"articles/"+e+".json",i)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ad))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xo=(()=>{class n{constructor(e){this.articleService=e,this.stock=[],this.orders=[],this.sales=[],this.stockChanged=new Wt([]),this.stockChanged$=this.stockChanged.asObservable(),this.orderChanged=new Wt([]),this.orderChanged$=this.orderChanged.asObservable()}getStock(){return Object.assign([],this.stock)}getOrders(){return Object.assign([],this.orders)}getSales(){return Object.assign([],this.sales)}getSelectedArticle(){return{...this.selectedArticle}}setSelectedArticle(e){}setStock(e){this.stock=[...e],this.stockChanged.next(this.stock.slice())}setOrders(e){this.orders=[...e]}setSales(e){this.sales=[...e]}addArticle(e){this.stock.push({...e}),this.stockChanged.next(Object.assign([],this.stock))}updateArticle(e,i){const r=this.stock.findIndex(l=>l.key===e);this.stock[r]=i,this.stockChanged.next(Object.assign([],this.stock))}updateArticleQty(e){this.articleService.get(e).subscribe(i=>{const l=new Td("1",i.name,i.quantity-1,i.purchasePrice,i.sellingPrice,i.imgPath),d=this.stock.findIndex(p=>p.name==l.name);this.stock[d]=l,this.articleService.update(e,JSON.stringify(l)).subscribe(p=>{}),this.stockChanged.next(Object.assign([],this.stock))})}addOrder(e){this.orders.push({...e})}addSale(e){this.sales.push({...e})}deleteOrder(e){const i=this.orders.find(r=>r.key===e);1==this.orders.length?this.orders=[]:this.orders.splice(this.orders.indexOf(i)),this.orderChanged.next(Object.assign([],this.orders))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ka))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const O_=["app-article-item",""];let R_=(()=>{class n{constructor(e,i){this.router=e,this.route=i}ngOnInit(){}placeOrder(){localStorage.setItem("currentArticle",JSON.stringify(this.article)),this.router.navigate(["add-order"],{relativeTo:this.route})}onEdit(){localStorage.setItem("currentArticle",JSON.stringify(this.article)),this.router.navigate(["edit-article"])}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(En),c.Y36(vo))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","app-article-item",""]],inputs:{article:"article"},attrs:O_,decls:16,vars:6,consts:[[1,"center"],["alt","",2,"max-height","40px",3,"src"],[1,"d-flex","flex-row","gap-2"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"]],template:function(e,i){1&e&&(c.TgZ(0,"td",0),c._uU(1),c.qZA(),c.TgZ(2,"td",0),c._uU(3),c.qZA(),c.TgZ(4,"td",0),c._uU(5),c.qZA(),c.TgZ(6,"td",0),c._uU(7),c.qZA(),c.TgZ(8,"td",0),c._UZ(9,"img",1),c.qZA(),c.TgZ(10,"td",0)(11,"div",2)(12,"button",3),c.NdJ("click",function(){return i.onEdit()}),c._uU(13,"Edit"),c.qZA(),c.TgZ(14,"button",4),c.NdJ("click",function(){return i.placeOrder()}),c._uU(15,"Order"),c.qZA()()()),2&e&&(c.xp6(1),c.Oqu(i.article.name),c.xp6(2),c.Oqu(i.article.quantity),c.xp6(2),c.Oqu(i.article.purchasePrice),c.xp6(2),c.Oqu(i.article.sellingPrice),c.xp6(2),c.Q6J("src",i.article.imgPath,c.LSH),c.xp6(5),c.Q6J("disabled",0===i.article.quantity))},styles:["@media (max-width: 750px){td[_ngcontent-%COMP%]{font-size:.7rem;font-weight:500}button[_ngcontent-%COMP%]{font-size:.5rem;font-weight:500}}"]}),n})();function P_(n,t){1&n&&c._UZ(0,"tr",12),2&n&&c.Q6J("article",t.$implicit)}let SI=(()=>{class n{constructor(e,i,r,l){this.articleService=e,this.stockService=i,this.router=r,this.route=l}ngOnInit(){this.articleService.getAll().subscribe(e=>{this.stock=Object.keys(e).map(i=>(e[i].key=i,e[i]))})}onNewProduct(){this.router.navigate(["add-article"],{relativeTo:this.route})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ka),c.Y36(Xo),c.Y36(En),c.Y36(vo))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-articles-list"]],decls:28,vars:1,consts:[[1,"d-flex","flex-column"],[1,"container-fluid"],[1,"text-dark","mb-4"],[1,"card","shadow"],[1,"card-header","py-3"],[1,"text-primary","m-0","font-weight-bold"],[1,"btn","btn-primary","float-end","align-content-end",3,"click"],[1,"card-body"],[1,"table-responsive","table","mt-2"],[1,"table","my-0"],["scope","col"],["app-article-item","",3,"article",4,"ngFor","ngForOf"],["app-article-item","",3,"article"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),c._uU(3,"Products"),c.qZA(),c.TgZ(4,"div",3)(5,"div",4)(6,"p",5),c._uU(7,"Products "),c.TgZ(8,"button",6),c.NdJ("click",function(){return i.onNewProduct()}),c._uU(9,"Add Product"),c.qZA()()(),c.TgZ(10,"div",7)(11,"div",8)(12,"table",9)(13,"thead")(14,"th",10),c._uU(15,"Name"),c.qZA(),c.TgZ(16,"th",10),c._uU(17,"Qty"),c.qZA(),c.TgZ(18,"th",10),c._uU(19,"Purchase price"),c.qZA(),c.TgZ(20,"th",10),c._uU(21,"Selling price "),c.qZA(),c.TgZ(22,"th",10),c._uU(23,"image"),c.qZA(),c.TgZ(24,"th",10),c._uU(25,"Actions"),c.qZA()(),c.TgZ(26,"tbody"),c.YNc(27,P_,1,1,"tr",11),c.qZA()()()()()()()),2&e&&(c.xp6(27),c.Q6J("ngForOf",i.stock))},dependencies:[Ui,R_]}),n})(),Lw=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-stock"]],features:[c._Bn([Xo])],decls:1,vars:0,template:function(e,i){1&e&&c._UZ(0,"app-articles-list")},dependencies:[SI]}),n})();var mg=F(4986),k_=F(6451),x_=F(3099);function II(n,t){return n===t}var _g=F(5032);function F_(...n){const t=(0,Gi.jO)(n);return(0,Un.e)((e,i)=>{const r=n.length,l=new Array(r);let d=n.map(()=>!1),p=!1;for(let _=0;_<r;_++)(0,di.Xf)(n[_]).subscribe((0,an.x)(i,C=>{l[_]=C,!p&&!d[_]&&(d[_]=!0,(p=d.every(Yr.y))&&(d=null))},_g.Z));e.subscribe((0,an.x)(i,_=>{if(p){const C=[_,...l];i.next(t?t(...C):C)}}))})}var ns=F(5813),Rs=F(2011),AI=(F(9545),F(3942)),Od=F(4859),Rd=F(5861),Pd=F(9681),B=F(2090),L_=F(1877);const Bw="@firebase/database";let Ib="";function Uw(n){Ib=n}class ec{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,B.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,B.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class B_{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,B.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Ab=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ec(t)}}catch{}return new B_},tc=Ab("localStorage"),tf=Ab("sessionStorage"),hu=new L_.Yd("@firebase/database"),yg=function(){let n=1;return function(){return n++}}(),Nb=function(n){const t=(0,B.dS)(n),e=new B.gQ;e.update(t);const i=e.digest();return B.US.encodeByteArray(i)},Ps=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Ps.apply(null,i):t+="object"==typeof i?(0,B.Wl)(i):i,t+=" "}return t};let nc=null,Mb=!0;const Ob=function(n,t){(0,B.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(hu.logLevel=L_.in.VERBOSE,nc=hu.log.bind(hu),t&&tf.set("logging_enabled",!0)):"function"==typeof n?nc=n:(nc=null,tf.remove("logging_enabled"))},Ei=function(...n){if(!0===Mb&&(Mb=!1,null===nc&&!0===tf.get("logging_enabled")&&Ob(!0)),nc){const t=Ps.apply(null,n);nc(t)}},nf=function(n){return function(...t){Ei(n,...t)}},V_=function(...n){const t="FIREBASE INTERNAL ERROR: "+Ps(...n);hu.error(t)},is=function(...n){const t=`FIREBASE FATAL ERROR: ${Ps(...n)}`;throw hu.error(t),new Error(t)},ai=function(...n){const t="FIREBASE WARNING: "+Ps(...n);hu.warn(t)},Ya=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ks="[MIN_NAME]",bo="[MAX_NAME]",ic=function(n,t){if(n===t)return 0;if(n===ks||t===bo)return-1;if(t===ks||n===bo)return 1;{const e=or(n),i=or(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},j_=function(n,t){return n===t?0:n<t?-1:1},fu=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,B.Wl)(t))},vg=function(n){if("object"!=typeof n||null===n)return(0,B.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,B.Wl)(t[i]),e+=":",e+=vg(n[t[i]]);return e+="}",e},bg=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Ri(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Hw=function(n){(0,B.hu)(!Ya(n),"Invalid JSON number");const i=1023;let r,l,d,p,_;0===n?(l=0,d=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(p=Math.min(Math.floor(Math.log(n)/Math.LN2),i),l=p+i,d=Math.round(n*Math.pow(2,52-p)-Math.pow(2,52))):(l=0,d=Math.round(n/Math.pow(2,-1074))));const C=[];for(_=52;_;_-=1)C.push(d%2?1:0),d=Math.floor(d/2);for(_=11;_;_-=1)C.push(l%2?1:0),l=Math.floor(l/2);C.push(r?1:0),C.reverse();const N=C.join("");let M="";for(_=0;_<64;_+=8){let x=parseInt(N.substr(_,8),2).toString(16);1===x.length&&(x="0"+x),M+=x}return M.toLowerCase()},Pb=new RegExp("^-?(0*)\\d{1,10}$"),$_=-2147483648,G_=2147483647,or=function(n){if(Pb.test(n)){const t=Number(n);if(t>=$_&&t<=G_)return t}return null},pu=function(n){try{n()}catch(t){setTimeout(()=>{throw ai("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Eg=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class Ww{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ai(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class W_{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Ei("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ai(t)}}let kd=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Z_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,q_="websocket",Vb="long_polling";class xs{constructor(t,e,i,r,l=!1,d="",p=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=l,this.persistenceKey=d,this.includeNamespaceInQueryParams=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=tc.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&tc.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Ub(n,t,e){let i;if((0,B.hu)("string"==typeof t,"typeof type must == string"),(0,B.hu)("object"==typeof e,"typeof params must == object"),t===q_)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Vb)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function K_(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Ri(e,(l,d)=>{r.push(l+"="+d)}),i+r.join("&")}class zw{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,B.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,B.p$)(this.counters_)}}const Hb={},wg={};function Y_(n){const t=n.toString();return Hb[t]||(Hb[t]=new zw),Hb[t]}class qw{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&pu(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Fs{constructor(t,e,i,r,l,d,p){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=l,this.transportSessionId=d,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nf(t),this.stats_=Y_(e),this.urlFn=_=>(this.appCheckToken&&(_.ac=this.appCheckToken),Ub(e,Vb,_))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new qw(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,B.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new X_((...l)=>{const[d,p,_,C,N]=l;if(this.incrementIncomingBytes_(l),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===d)this.id=p,this.password=_;else{if("close"!==d)throw new Error("Unrecognized command received: "+d);p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_()}},(...l)=>{const[d,p]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(d,p)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Z_.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fs.forceAllow_=!0}static forceDisallow(){Fs.forceDisallow_=!0}static isAvailable(){return!((0,B.Yr)()||!Fs.forceAllow_&&(Fs.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,B.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,B.h$)(e),r=bg(i,1840);for(let l=0;l<r.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[l]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,B.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,B.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class X_{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,B.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=yg(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=X_.createIFrame_();let l="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(l='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(p){Ei("frame writing exception"),p.stack&&Ei(p.stack),Ei(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Ei("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const d=this.pendingSegs.shift();i=i+"&seg"+r+"="+d.seg+"&ts"+r+"="+d.ts+"&d"+r+"="+d.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,B.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Ei("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let Og=null;typeof MozWebSocket<"u"?Og=MozWebSocket:typeof WebSocket<"u"&&(Og=WebSocket);let xd=(()=>{class n{constructor(e,i,r,l,d,p,_){this.connId=e,this.applicationId=r,this.appCheckToken=l,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nf(this.connId),this.stats_=Y_(i),this.connURL=n.connectionURL_(i,p,_,l,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,l,d){const p={v:"5"};return!(0,B.Yr)()&&typeof location<"u"&&location.hostname&&Z_.test(location.hostname)&&(p.r="f"),i&&(p.s=i),r&&(p.ls=r),l&&(p.ac=l),d&&(p.p=d),Ub(e,q_,p)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,tc.set("previous_websocket_failure",!0);try{let r;if((0,B.Yr)()){r={headers:{"User-Agent":`Firebase/5/${Ib}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const d=process.env,p=0===this.connURL.indexOf("wss://")?d.HTTPS_PROXY||d.https_proxy:d.HTTP_PROXY||d.http_proxy;p&&(r.proxy={origin:p})}this.mySock=new Og(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const l=r.message||r.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Og&&!n.forceDisallow_}static previouslyFailed(){return tc.isInMemoryStorage||!0===tc.get("previous_websocket_failure")}markConnectionHealthy(){tc.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,B.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,B.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,B.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=bg(i,16384);r.length>1&&this.sendString_(String(r.length));for(let l=0;l<r.length;l++)this.sendString_(r[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Fd=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Fs,xd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=xd&&xd.isAvailable();let r=i&&!xd.previouslyFailed();if(e.webSocketOnly&&(i||ai("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[xd];else{const l=this.transports_=[];for(const d of n.ALL_TRANSPORTS)d&&d.isAvailable()&&l.push(d);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Yb{constructor(t,e,i,r,l,d,p,_,C,N){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=l,this.onMessage_=d,this.onReady_=p,this.onDisconnect_=_,this.onKill_=C,this.lastSessionId=N,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nf("c:"+this.id+":"),this.transportManager_=new Fd(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Eg(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=fu("t",t),i=fu("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=fu("t",t),i=fu("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=fu("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?V_("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):V_("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&ai("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Eg(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Eg(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(tc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Jb{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class Qb{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,B.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let l=0;l<r.length;l++)if(r[l].callback===e&&(!i||i===r[l].context))return void r.splice(l,1)}validateEventType_(t){(0,B.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class gu extends Qb{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,B.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new gu}getInitialEvent(t){return(0,B.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Xt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function sn(){return new Xt("")}function Ut(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ea(n){return n.pieces_.length-n.pieceNum_}function Cn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Xt(n.pieces_,t)}function Ls(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function gi(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function sc(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Xt(t,0)}function Dn(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Xt)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Xt(e,0)}function Tt(n){return n.pieceNum_>=n.pieces_.length}function zi(n,t){const e=Ut(n),i=Ut(t);if(null===e)return t;if(e===i)return zi(Cn(n),Cn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Ld(n,t){const e=gi(n,0),i=gi(t,0);for(let r=0;r<e.length&&r<i.length;r++){const l=ic(e[r],i[r]);if(0!==l)return l}return e.length===i.length?0:e.length<i.length?-1:1}function oc(n,t){if(ea(n)!==ea(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Zi(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(ea(n)>ea(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Bd{constructor(t,e){this.errorPrefix_=e,this.parts_=gi(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,B.ug)(this.parts_[i]);mu(this)}}function mu(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Bs(n))}function Bs(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class ac extends Qb{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new ac}getInitialEvent(t){return(0,B.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Hd=1e3;let kg,lc=(()=>{class n extends Jb{constructor(e,i,r,l,d,p,_,C){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=l,this.onServerInfoUpdate_=d,this.authTokenProvider_=p,this.appCheckTokenProvider_=_,this.authOverride_=C,this.id=n.nextPersistentConnectionId_++,this.log_=nf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,C&&!(0,B.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ac.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&gu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const l=++this.requestNumber_,d={r:l,a:e,b:i};this.log_((0,B.Wl)(d)),(0,B.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),r&&(this.requestCBHash_[l]=r)}get(e){this.initConnection_();const i=new B.BH,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:p=>{const _=p.d;"ok"===p.s?i.resolve(_):i.reject(_)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,l){this.initConnection_();const d=e._queryIdentifier,p=e._path.toString();this.log_("Listen called for "+p+" "+d),this.listens.has(p)||this.listens.set(p,new Map),(0,B.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,B.hu)(!this.listens.get(p).has(d),"listen() called twice for same path/queryId.");const _={onComplete:l,hashFn:i,query:e,tag:r};this.listens.get(p).set(d,_),this.connected_&&this.sendListen_(_)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+r+" for "+l);const d={p:r};e.tag&&(d.q=i._queryObject,d.t=e.tag),d.h=e.hashFn(),this.sendRequest("q",d,_=>{const C=_.d,N=_.s;n.warnOnListenWarnings_(C,i),(this.listens.get(r)&&this.listens.get(r).get(l))===e&&(this.log_("listen response",_),"ok"!==N&&this.removeListen_(r,l),e.onComplete&&e.onComplete(N,C))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,B.r3)(e,"w")){const r=(0,B.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',d=i._path.toString();ai(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,B.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,B.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,l=>{const d=l.s,p=l.d||"error";this.authToken_===e&&("ok"===d?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,p))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+l),(0,B.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,l)&&this.connected_&&this.sendUnlisten_(r,l,e._queryObject,i)}sendUnlisten_(e,i,r,l){this.log_("Unlisten on "+e+" for "+i);const d={p:e};l&&(d.q=r,d.t=l),this.sendRequest("n",d)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,l){const d={p:i,d:r};this.log_("onDisconnect "+e,d),this.sendRequest(e,d,p=>{l&&setTimeout(()=>{l(p.s,p.d)},Math.floor(0))})}put(e,i,r,l){this.putInternal("p",e,i,r,l)}merge(e,i,r,l){this.putInternal("m",e,i,r,l)}putInternal(e,i,r,l,d){this.initConnection_();const p={p:i,d:r};void 0!==d&&(p.h=d),this.outstandingPuts_.push({action:e,request:p,onComplete:l}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,d=>{this.log_(i+" response",d),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),l&&l(d.s,d.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,B.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):V_("Unrecognized action received from server: "+(0,B.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,B.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Hd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Hd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Rd.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),l=e.onRealtimeDisconnect_.bind(e),d=e.id+":"+n.nextConnectionId_++,p=e.lastSessionId;let _=!1,C=null;const N=function(){C?C.close():(_=!0,l())};e.realtime_={close:N,sendRequest:function(U){(0,B.hu)(C,"sendRequest call when we're not connected not allowed."),C.sendRequest(U)}};const x=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[U,K]=yield Promise.all([e.authTokenProvider_.getToken(x),e.appCheckTokenProvider_.getToken(x)]);_?Ei("getToken() completed but was canceled"):(Ei("getToken() completed. Creating connection."),e.authToken_=U&&U.accessToken,e.appCheckToken_=K&&K.token,C=new Yb(d,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,l,re=>{ai(re+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},p))}catch(U){e.log_("Failed to get token: "+U),_||(e.repoInfo_.nodeAdmin&&ai(U),N())}}})()}interrupt(e){Ei("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ei("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,B.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Hd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(d=>vg(d)).join("$"):"default";const l=this.removeListen_(e,r);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const r=new Xt(e).toString();let l;if(this.listens.has(r)){const d=this.listens.get(r);l=d.get(i),d.delete(i),0===d.size&&this.listens.delete(r)}else l=void 0;return l}onAuthRevoked_(e,i){Ei("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Ei("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,B.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+Ib.replace(/\./g,"-")]=1,(0,B.uI)()?e["framework.cordova"]=1:(0,B.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gu.getInstance().currentlyOnline();return(0,B.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ht{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Ht(t,e)}}class Pg{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Ht(ks,t),r=new Ht(ks,e);return 0!==this.compare(i,r)}minPost(){return Ht.MIN}}class oy extends Pg{static get __EMPTY_NODE(){return kg}static set __EMPTY_NODE(t){kg=t}compare(t,e){return ic(t.name,e.name)}isDefinedOn(t){throw(0,B.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Ht.MIN}maxPost(){return new Ht(bo,kg)}makePost(t,e){return(0,B.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ht(t,kg)}toString(){return".key"}}const ta=new oy;class af{constructor(t,e,i,r,l=null){this.isReverse_=r,this.resultGenerator_=l,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(d=e?i(t.key,e):1,r&&(d*=-1),d<0)t=this.isReverse_?t.left:t.right;else{if(0===d){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let lf,rs=(()=>{class n{constructor(e,i,r,l,d){this.key=e,this.value=i,this.color=r??n.RED,this.left=l??Pr.EMPTY_NODE,this.right=d??Pr.EMPTY_NODE}copy(e,i,r,l,d){return new n(e??this.key,i??this.value,r??this.color,l??this.left,d??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const d=r(e,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(e,i,r),null):0===d?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,l;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Pr.EMPTY_NODE;l=r.right.min_(),r=r.copy(l.key,l.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Pr{constructor(t,e=Pr.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Pr(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,rs.BLACK,null,null))}remove(t){return new Pr(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,rs.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new af(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new af(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new af(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new af(this.root_,null,this.comparator_,!0,t)}}function xg(n,t){return ic(n.name,t.name)}function jd(n,t){return ic(n,t)}Pr.EMPTY_NODE=new class ay{copy(t,e,i,r,l){return this}insert(t,e,i){return new rs(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Fg=function(n){return"number"==typeof n?"number:"+Hw(n):"string:"+n},Lg=function(n){if(n.isLeafNode()){const t=n.val();(0,B.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,B.r3)(t,".sv"),"Priority must be a string or number.")}else(0,B.hu)(n===lf||n.isEmpty(),"priority of unexpected type.");(0,B.hu)(n===lf||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ly,Bg,cy,_u=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,B.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Lg(this.priorityNode_)}static set __childrenNodeConstructor(e){ly=e}static get __childrenNodeConstructor(){return ly}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Tt(e)?this:".priority"===Ut(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Ut(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,B.hu)(".priority"!==r||1===ea(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Cn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Fg(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Hw(this.value_):this.value_,this.lazyHash_=Nb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,B.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,l=n.VALUE_TYPE_ORDER.indexOf(i),d=n.VALUE_TYPE_ORDER.indexOf(r);return(0,B.hu)(l>=0,"Unknown leaf type: "+i),(0,B.hu)(d>=0,"Unknown leaf type: "+r),l===d?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:d-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Nn=new class rE extends Pg{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),l=i.compareTo(r);return 0===l?ic(t.name,e.name):l}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Ht.MIN}maxPost(){return new Ht(bo,new _u("[PRIORITY-POST]",cy))}makePost(t,e){const i=Bg(t);return new Ht(e,new _u("[PRIORITY-POST]",i))}toString(){return".priority"}},sE=Math.log(2);class oE{constructor(t){this.count=parseInt(Math.log(t+1)/sE,10),this.current_=this.count-1;const r=(l=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const cf=function(n,t,e,i){n.sort(t);const r=function(_,C){const N=C-_;let M,x;if(0===N)return null;if(1===N)return M=n[_],x=e?e(M):M,new rs(x,M.node,rs.BLACK,null,null);{const U=parseInt(N/2,10)+_,K=r(_,U),re=r(U+1,C);return M=n[U],x=e?e(M):M,new rs(x,M.node,rs.BLACK,K,re)}},p=function(_){let C=null,N=null,M=n.length;const x=function(K,re){const Ee=M-K,Re=M;M-=K;const Ve=r(Ee+1,Re),dt=n[Ee],ze=e?e(dt):dt;U(new rs(ze,dt.node,re,null,Ve))},U=function(K){C?(C.left=K,C=K):(N=K,C=K)};for(let K=0;K<_.count;++K){const re=_.nextBitIsOne(),Ee=Math.pow(2,_.count-(K+1));re?x(Ee,rs.BLACK):(x(Ee,rs.BLACK),x(Ee,rs.RED))}return N}(new oE(n.length));return new Pr(i||t,p)};let Vg;const $d={};class na{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,B.hu)($d&&Nn,"ChildrenNode.ts has not been loaded"),Vg=Vg||new na({".priority":$d},{".priority":Nn}),Vg}get(t){const e=(0,B.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Pr?e:null}hasIndex(t){return(0,B.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,B.hu)(t!==ta,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const l=e.getIterator(Ht.Wrap);let p,d=l.getNext();for(;d;)r=r||t.isDefinedOn(d.node),i.push(d),d=l.getNext();p=r?cf(i,t.getCompare()):$d;const _=t.toString(),C=Object.assign({},this.indexSet_);C[_]=t;const N=Object.assign({},this.indexes_);return N[_]=p,new na(N,C)}addToIndexes(t,e){const i=(0,B.UI)(this.indexes_,(r,l)=>{const d=(0,B.DV)(this.indexSet_,l);if((0,B.hu)(d,"Missing index implementation for "+l),r===$d){if(d.isDefinedOn(t.node)){const p=[],_=e.getIterator(Ht.Wrap);let C=_.getNext();for(;C;)C.name!==t.name&&p.push(C),C=_.getNext();return p.push(t),cf(p,d.getCompare())}return $d}{const p=e.get(t.name);let _=r;return p&&(_=_.remove(new Ht(t.name,p))),_.insert(t,t.node)}});return new na(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,B.UI)(this.indexes_,r=>{if(r===$d)return r;{const l=e.get(t.name);return l?r.remove(new Ht(t.name,l)):r}});return new na(i,this.indexSet_)}}let Gd,Mt=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Lg(this.priorityNode_),this.children_.isEmpty()&&(0,B.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Gd||(Gd=new n(new Pr(jd),null,na.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Gd}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Gd:i}}getChild(e){const i=Ut(e);return null===i?this:this.getImmediateChild(i).getChild(Cn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,B.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Ht(e,i);let l,d;i.isEmpty()?(l=this.children_.remove(e),d=this.indexMap_.removeFromIndexes(r,this.children_)):(l=this.children_.insert(e,i),d=this.indexMap_.addToIndexes(r,this.children_));const p=l.isEmpty()?Gd:this.priorityNode_;return new n(l,p,d)}}updateChild(e,i){const r=Ut(e);if(null===r)return i;{(0,B.hu)(".priority"!==Ut(e)||1===ea(e),".priority must be the last token in a path");const l=this.getImmediateChild(r).updateChild(Cn(e),i);return this.updateImmediateChild(r,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,l=0,d=!0;if(this.forEachChild(Nn,(p,_)=>{i[p]=_.val(e),r++,d&&n.INTEGER_REGEXP_.test(p)?l=Math.max(l,Number(p)):d=!1}),!e&&d&&l<2*r){const p=[];for(const _ in i)p[_]=i[_];return p}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Fg(this.getPriority().val())+":"),this.forEachChild(Nn,(i,r)=>{const l=r.hash();""!==l&&(e+=":"+i+":"+l)}),this.lazyHash_=""===e?"":Nb(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const l=this.resolveIndex_(r);if(l){const d=l.getPredecessorKey(new Ht(e,i));return d?d.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Ht(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Ht(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,Ht.Wrap);let d=l.peek();for(;null!=d&&i.compare(d,e)<0;)l.getNext(),d=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,Ht.Wrap);let d=l.peek();for(;null!=d&&i.compare(d,e)>0;)l.getNext(),d=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Wd?-1:0}withIndex(e){if(e===ta||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===ta||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Nn),l=i.getIterator(Nn);let d=r.getNext(),p=l.getNext();for(;d&&p;){if(d.name!==p.name||!d.node.equals(p.node))return!1;d=r.getNext(),p=l.getNext()}return null===d&&null===p}return!1}return!1}}resolveIndex_(e){return e===ta?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Wd=new class Ug extends Mt{constructor(){super(new Pr(jd),Mt.EMPTY_NODE,na.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Mt.EMPTY_NODE}isEmpty(){return!1}};function Hn(n,t=null){if(null===n)return Mt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,B.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new _u(n,Hn(t));if(n instanceof Array){let e=Mt.EMPTY_NODE;return Ri(n,(i,r)=>{if((0,B.r3)(n,i)&&"."!==i.substring(0,1)){const l=Hn(r);(l.isLeafNode()||!l.isEmpty())&&(e=e.updateImmediateChild(i,l))}}),e.updatePriority(Hn(t))}{const e=[];let i=!1;if(Ri(n,(d,p)=>{if("."!==d.substring(0,1)){const _=Hn(p);_.isEmpty()||(i=i||!_.getPriority().isEmpty(),e.push(new Ht(d,_)))}}),0===e.length)return Mt.EMPTY_NODE;const l=cf(e,xg,d=>d.name,jd);if(i){const d=cf(e,Nn.getCompare());return new Mt(l,Hn(t),new na({".priority":d},{".priority":Nn}))}return new Mt(l,Hn(t),na.Default)}}Object.defineProperties(Ht,{MIN:{value:new Ht(ks,Mt.EMPTY_NODE)},MAX:{value:new Ht(bo,Wd)}}),oy.__EMPTY_NODE=Mt.EMPTY_NODE,_u.__childrenNodeConstructor=Mt,function iT(n){lf=n}(Wd),function uy(n){cy=n}(Wd),function iE(n){Bg=n}(Hn);class Hg extends Pg{constructor(t){super(),this.indexPath_=t,(0,B.hu)(!Tt(t)&&".priority"!==Ut(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),l=i.compareTo(r);return 0===l?ic(t.name,e.name):l}makePost(t,e){const i=Hn(t),r=Mt.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ht(e,r)}maxPost(){const t=Mt.EMPTY_NODE.updateChild(this.indexPath_,Wd);return new Ht(bo,t)}toString(){return gi(this.indexPath_,0).join("/")}}const jg=new class lE extends Pg{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?ic(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Ht.MIN}maxPost(){return Ht.MAX}makePost(t,e){const i=Hn(t);return new Ht(e,i)}toString(){return".value"}},yu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",sT=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const l=new Array(8);for(r=7;r>=0;r--)l[r]=yu.charAt(e%64),e=Math.floor(e/64);(0,B.hu)(0===e,"Cannot push at time == 0");let d=l.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)d+=yu.charAt(t[r]);return(0,B.hu)(20===d.length,"nextPushId: Length should be 20."),d}}(),dy=function(n){if(n===""+G_)return"-";const t=or(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let d=0;d<e.length;d++)e[d]=n.charAt(d);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return bo;const l=yu.charAt(yu.indexOf(e[i])+1);return e[i]=l,e.slice(0,i+1).join("")},uE=function(n){if(n===""+$_)return ks;const t=or(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+G_:(delete e[e.length-1],e.join("")):(e[e.length-1]=yu.charAt(yu.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function mi(n){return{type:"value",snapshotNode:n}}function vu(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function uf(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function df(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class hy{constructor(t){this.index_=t}updateChild(t,e,i,r,l,d){(0,B.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=t.getImmediateChild(e);return p.getChild(r).equals(i.getChild(r))&&p.isEmpty()===i.isEmpty()||(null!=d&&(i.isEmpty()?t.hasChild(e)?d.trackChildChange(uf(e,p)):(0,B.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?d.trackChildChange(vu(e,i)):d.trackChildChange(df(e,i,p))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Nn,(r,l)=>{e.hasChild(r)||i.trackChildChange(uf(r,l))}),e.isLeafNode()||e.forEachChild(Nn,(r,l)=>{if(t.hasChild(r)){const d=t.getImmediateChild(r);d.equals(l)||i.trackChildChange(df(r,l,d))}else i.trackChildChange(vu(r,l))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Mt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class zd{constructor(t){this.indexedFilter_=new hy(t.getIndex()),this.index_=t.getIndex(),this.startPost_=zd.getStartPost_(t),this.endPost_=zd.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,l,d){return this.matches(new Ht(e,i))||(i=Mt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,l,d)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Mt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Mt.EMPTY_NODE);const l=this;return e.forEachChild(Nn,(d,p)=>{l.matches(new Ht(d,p))||(r=r.updateImmediateChild(d,Mt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class hE{constructor(t){this.rangedFilter_=new zd(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,l,d){return this.rangedFilter_.matches(new Ht(e,i))||(i=Mt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,l,d):this.fullLimitUpdateChild_(t,e,i,l,d)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Mt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let l;r=Mt.EMPTY_NODE.withIndex(this.index_),l=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;l.hasNext()&&d<this.limit_;){const p=l.getNext();let _;if(_=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),p)<=0:this.index_.compare(p,this.rangedFilter_.getEndPost())<=0,!_)break;r=r.updateImmediateChild(p.name,p.node),d++}}else{let l,d,p,_;if(r=e.withIndex(this.index_),r=r.updatePriority(Mt.EMPTY_NODE),this.reverse_){_=r.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();const M=this.index_.getCompare();p=(x,U)=>M(U,x)}else _=r.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),p=this.index_.getCompare();let C=0,N=!1;for(;_.hasNext();){const M=_.getNext();!N&&p(l,M)<=0&&(N=!0),N&&C<this.limit_&&p(M,d)<=0?C++:r=r.updateImmediateChild(M.name,Mt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,l){let d;if(this.reverse_){const M=this.index_.getCompare();d=(x,U)=>M(U,x)}else d=this.index_.getCompare();const p=t;(0,B.hu)(p.numChildren()===this.limit_,"");const _=new Ht(e,i),C=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),N=this.rangedFilter_.matches(_);if(p.hasChild(e)){const M=p.getImmediateChild(e);let x=r.getChildAfterChild(this.index_,C,this.reverse_);for(;null!=x&&(x.name===e||p.hasChild(x.name));)x=r.getChildAfterChild(this.index_,x,this.reverse_);const U=null==x?1:d(x,_);if(N&&!i.isEmpty()&&U>=0)return l?.trackChildChange(df(e,i,M)),p.updateImmediateChild(e,i);{l?.trackChildChange(uf(e,M));const re=p.updateImmediateChild(e,Mt.EMPTY_NODE);return null!=x&&this.rangedFilter_.matches(x)?(l?.trackChildChange(vu(x.name,x.node)),re.updateImmediateChild(x.name,x.node)):re}}return i.isEmpty()?t:N&&d(C,_)>=0?(null!=l&&(l.trackChildChange(uf(C.name,C.node)),l.trackChildChange(vu(e,i))),p.updateImmediateChild(e,i).updateImmediateChild(C.name,Mt.EMPTY_NODE)):t}}class Qa{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ks}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,B.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Nn}copy(){const t=new Qa;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function fy(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function gE(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function Zd(n,t){const e=n.copy();return e.index_=t,e}function Eo(n){const t={};if(n.isDefault())return t;let e;return n.index_===Nn?e="$priority":n.index_===jg?e="$value":n.index_===ta?e="$key":((0,B.hu)(n.index_ instanceof Hg,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,B.Wl)(e),n.startSet_&&(t.startAt=(0,B.Wl)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,B.Wl)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,B.Wl)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,B.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function mE(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Nn&&(t.i=n.index_.toString()),t}class hf extends Jb{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=nf("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,B.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const l=t._path.toString();this.log_("Listen called for "+l+" "+t._queryIdentifier);const d=hf.getListenId_(t,i),p={};this.listens_[d]=p;const _=Eo(t._queryParams);this.restRequest_(l+".json",_,(C,N)=>{let M=N;if(404===C&&(M=null,C=null),null===C&&this.onDataUpdate_(l,M,!1,i),(0,B.DV)(this.listens_,d)===p){let x;x=C?401===C?"permission_denied":"rest_error:"+C:"ok",r(x,null)}})}unlisten(t,e){const i=hf.getListenId_(t,e);delete this.listens_[i]}get(t){const e=Eo(t._queryParams),i=t._path.toString(),r=new B.BH;return this.restRequest_(i+".json",e,(l,d)=>{let p=d;404===l&&(p=null,l=null),null===l?(this.onDataUpdate_(i,p,!1,null),r.resolve(p)):r.reject(new Error(p))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,l])=>{r&&r.accessToken&&(e.auth=r.accessToken),l&&l.token&&(e.ac=l.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,B.xO)(e);this.log_("Sending REST request for "+d);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(i&&4===p.readyState){this.log_("REST Response for "+d+" received. status:",p.status,"response:",p.responseText);let _=null;if(p.status>=200&&p.status<300){try{_=(0,B.cI)(p.responseText)}catch{ai("Failed to parse JSON response for "+d+": "+p.responseText)}i(null,_)}else 401!==p.status&&404!==p.status&&ai("Got unsuccessful REST response for "+d+" Status: "+p.status),i(p.status);i=null}},p.open("GET",d,!0),p.send()})}}class ia{constructor(){this.rootNode_=Mt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function kr(){return{value:null,children:new Map}}function ar(n,t,e){if(Tt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Ut(t);n.children.has(i)||n.children.set(i,kr()),ar(n.children.get(i),t=Cn(t),e)}}function Gg(n,t){if(Tt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Nn,(i,r)=>{ar(n,new Xt(i),r)}),Gg(n,t)}}if(n.children.size>0){const e=Ut(t);return t=Cn(t),n.children.has(e)&&Gg(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Wg(n,t,e){null!==n.value?e(t,n.value):function lT(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{Wg(r,new Xt(t.toString()+"/"+i),e)})}class cT{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Ri(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class ff{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new cT(t);const i=1e4+2e4*Math.random();Eg(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Ri(t,(r,l)=>{l>0&&(0,B.r3)(this.statsToReport_,r)&&(e[r]=l,i=!0)}),i&&this.server_.reportStats(e),Eg(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Vs=(()=>{return(n=Vs||(Vs={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Vs;var n})();function Zg(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class pf{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Vs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Tt(this.path)){if(null!=this.affectedTree.value)return(0,B.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Xt(t));return new pf(sn(),e,this.revert)}}return(0,B.hu)(Ut(this.path)===t,"operationForChild called for unrelated child."),new pf(Cn(this.path),this.affectedTree,this.revert)}}class cc{constructor(t,e){this.source=t,this.path=e,this.type=Vs.LISTEN_COMPLETE}operationForChild(t){return Tt(this.path)?new cc(this.source,sn()):new cc(this.source,Cn(this.path))}}class bu{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Vs.OVERWRITE}operationForChild(t){return Tt(this.path)?new bu(this.source,sn(),this.snap.getImmediateChild(t)):new bu(this.source,Cn(this.path),this.snap)}}class Eu{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Vs.MERGE}operationForChild(t){if(Tt(this.path)){const e=this.children.subtree(new Xt(t));return e.isEmpty()?null:e.value?new bu(this.source,sn(),e.value):new Eu(this.source,sn(),e)}return(0,B.hu)(Ut(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Eu(this.source,Cn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Xa{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Tt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Ut(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class _y{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function qd(n,t,e,i,r,l){const d=i.filter(p=>p.type===e);d.sort((p,_)=>function vE(n,t,e){if(null==t.childName||null==e.childName)throw(0,B.g5)("Should only compare child_ events.");const i=new Ht(t.childName,t.snapshotNode),r=new Ht(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,p,_)),d.forEach(p=>{const _=function yE(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,p,l);r.forEach(C=>{C.respondsTo(p.type)&&t.push(C.createEvent(_,n.query_))})})}function gf(n,t){return{eventCache:n,serverCache:t}}function Kd(n,t,e,i){return gf(new Xa(t,e,i),n.serverCache)}function yy(n,t,e,i){return gf(n.eventCache,new Xa(t,e,i))}function mf(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function uc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let vy;class Mn{constructor(t,e=(()=>(vy||(vy=new Pr(j_)),vy))()){this.value=t,this.children=e}static fromObject(t){let e=new Mn(null);return Ri(t,(i,r)=>{e=e.set(new Xt(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:sn(),value:this.value};if(Tt(t))return null;{const i=Ut(t),r=this.children.get(i);if(null!==r){const l=r.findRootMostMatchingPathAndValue(Cn(t),e);return null!=l?{path:Dn(new Xt(i),l.path),value:l.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Tt(t))return this;{const e=Ut(t),i=this.children.get(e);return null!==i?i.subtree(Cn(t)):new Mn(null)}}set(t,e){if(Tt(t))return new Mn(e,this.children);{const i=Ut(t),l=(this.children.get(i)||new Mn(null)).set(Cn(t),e),d=this.children.insert(i,l);return new Mn(this.value,d)}}remove(t){if(Tt(t))return this.children.isEmpty()?new Mn(null):new Mn(null,this.children);{const e=Ut(t),i=this.children.get(e);if(i){const r=i.remove(Cn(t));let l;return l=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&l.isEmpty()?new Mn(null):new Mn(this.value,l)}return this}}get(t){if(Tt(t))return this.value;{const e=Ut(t),i=this.children.get(e);return i?i.get(Cn(t)):null}}setTree(t,e){if(Tt(t))return e;{const i=Ut(t),l=(this.children.get(i)||new Mn(null)).setTree(Cn(t),e);let d;return d=l.isEmpty()?this.children.remove(i):this.children.insert(i,l),new Mn(this.value,d)}}fold(t){return this.fold_(sn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,l)=>{i[r]=l.fold_(Dn(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,sn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Tt(t))return null;{const l=Ut(t),d=this.children.get(l);return d?d.findOnPath_(Cn(t),Dn(e,l),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,sn(),e)}foreachOnPath_(t,e,i){if(Tt(t))return this;{this.value&&i(e,this.value);const r=Ut(t),l=this.children.get(r);return l?l.foreachOnPath_(Cn(t),Dn(e,r),i):new Mn(null)}}foreach(t){this.foreach_(sn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Dn(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Co{constructor(t){this.writeTree_=t}static empty(){return new Co(new Mn(null))}}function _f(n,t,e){if(Tt(t))return new Co(new Mn(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let l=i.value;const d=zi(r,t);return l=l.updateChild(d,e),new Co(n.writeTree_.set(r,l))}{const r=new Mn(e),l=n.writeTree_.setTree(t,r);return new Co(l)}}}function by(n,t,e){let i=n;return Ri(e,(r,l)=>{i=_f(i,Dn(t,r),l)}),i}function bE(n,t){if(Tt(t))return Co.empty();{const e=n.writeTree_.setTree(t,new Mn(null));return new Co(e)}}function Ey(n,t){return null!=Cu(n,t)}function Cu(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(zi(e.path,t)):null}function EE(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Nn,(i,r)=>{t.push(new Ht(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Ht(i,r.value))}),t}function dc(n,t){if(Tt(t))return n;{const e=Cu(n,t);return new Co(null!=e?new Mn(e):n.writeTree_.subtree(t))}}function Cy(n){return n.writeTree_.isEmpty()}function Yd(n,t){return CE(sn(),n.writeTree_,t)}function CE(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,l)=>{".priority"===r?((0,B.hu)(null!==l.value,"Priority writes must always be leaf nodes"),i=l.value):e=CE(Dn(n,r),l,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Dn(n,".priority"),i)),e}}function Kg(n,t){return My(t,n)}function wE(n,t){if(n.snap)return Zi(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Zi(Dn(n.path,e),t))return!0;return!1}function SE(n){return n.visible}function Dy(n,t,e){let i=Co.empty();for(let r=0;r<n.length;++r){const l=n[r];if(t(l)){const d=l.path;let p;if(l.snap)Zi(e,d)?(p=zi(e,d),i=_f(i,p,l.snap)):Zi(d,e)&&(p=zi(d,e),i=_f(i,sn(),l.snap.getChild(p)));else{if(!l.children)throw(0,B.g5)("WriteRecord should have .snap or .children");if(Zi(e,d))p=zi(e,d),i=by(i,p,l.children);else if(Zi(d,e))if(p=zi(d,e),Tt(p))i=by(i,sn(),l.children);else{const _=(0,B.DV)(l.children,Ut(p));if(_){const C=_.getChild(Cn(p));i=_f(i,sn(),C)}}}}}return i}function wy(n,t,e,i,r){if(i||r){const l=dc(n.visibleWrites,t);return!r&&Cy(l)?e:r||null!=e||Ey(l,sn())?Yd(Dy(n.allWrites,function(C){return(C.visible||r)&&(!i||!~i.indexOf(C.writeId))&&(Zi(C.path,t)||Zi(t,C.path))},t),e||Mt.EMPTY_NODE):null}{const l=Cu(n.visibleWrites,t);if(null!=l)return l;{const d=dc(n.visibleWrites,t);return Cy(d)?e:null!=e||Ey(d,sn())?Yd(d,e||Mt.EMPTY_NODE):null}}}function Yg(n,t,e,i){return wy(n.writeTree,n.treePath,t,e,i)}function Sy(n,t){return function IE(n,t,e){let i=Mt.EMPTY_NODE;const r=Cu(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Nn,(l,d)=>{i=i.updateImmediateChild(l,d)}),i;if(e){const l=dc(n.visibleWrites,t);return e.forEachChild(Nn,(d,p)=>{const _=Yd(dc(l,new Xt(d)),p);i=i.updateImmediateChild(d,_)}),EE(l).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}return EE(dc(n.visibleWrites,t)).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}(n.writeTree,n.treePath,t)}function wu(n,t,e,i){return function AE(n,t,e,i,r){(0,B.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const l=Dn(t,e);if(Ey(n.visibleWrites,l))return null;{const d=dc(n.visibleWrites,l);return Cy(d)?r.getChild(e):Yd(d,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function Iy(n,t){return function Ty(n,t){return Cu(n.visibleWrites,t)}(n.writeTree,Dn(n.treePath,t))}function OE(n,t,e){return function NE(n,t,e,i){const r=Dn(t,e),l=Cu(n.visibleWrites,r);return null!=l?l:i.isCompleteForChild(e)?Yd(dc(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Ny(n,t){return My(Dn(n.treePath,t),n.writeTree)}function My(n,t){return{treePath:n,writeTree:t}}class RI{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,B.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,B.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const l=r.type;if("child_added"===e&&"child_removed"===l)this.changeMap.set(i,df(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===l)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===l)this.changeMap.set(i,uf(i,r.oldSnap));else if("child_changed"===e&&"child_added"===l)this.changeMap.set(i,vu(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==l)throw(0,B.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,df(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const RE=new class bt{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class Oy{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Xa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return OE(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:uc(this.viewCache_),l=function Ay(n,t,e,i,r,l){return function ME(n,t,e,i,r,l,d){let p;const _=dc(n.visibleWrites,t),C=Cu(_,sn());if(null!=C)p=C;else{if(null==e)return[];p=Yd(_,e)}if(p=p.withIndex(d),p.isEmpty()||p.isLeafNode())return[];{const N=[],M=d.getCompare(),x=l?p.getReverseIteratorFrom(i,d):p.getIteratorFrom(i,d);let U=x.getNext();for(;U&&N.length<r;)0!==M(U,i)&&N.push(U),U=x.getNext();return N}}(n.writeTree,n.treePath,t,e,i,r,l)}(this.writes_,r,e,1,i,t);return 0===l.length?null:l[0]}}function yf(n,t,e,i,r,l){const d=t.eventCache;if(null!=Iy(i,e))return t;{let p,_;if(Tt(e))if((0,B.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const C=uc(t),M=Sy(i,C instanceof Mt?C:Mt.EMPTY_NODE);p=n.filter.updateFullNode(t.eventCache.getNode(),M,l)}else{const C=Yg(i,uc(t));p=n.filter.updateFullNode(t.eventCache.getNode(),C,l)}else{const C=Ut(e);if(".priority"===C){(0,B.hu)(1===ea(e),"Can't have a priority with additional path components");const N=d.getNode();_=t.serverCache.getNode();const M=wu(i,e,N,_);p=null!=M?n.filter.updatePriority(N,M):d.getNode()}else{const N=Cn(e);let M;if(d.isCompleteForChild(C)){_=t.serverCache.getNode();const x=wu(i,e,d.getNode(),_);M=null!=x?d.getNode().getImmediateChild(C).updateChild(N,x):d.getNode().getImmediateChild(C)}else M=OE(i,C,t.serverCache);p=null!=M?n.filter.updateChild(d.getNode(),C,M,N,r,l):d.getNode()}}return Kd(t,p,d.isFullyInitialized()||Tt(e),n.filter.filtersNodes())}}function Ln(n,t,e,i,r,l,d,p){const _=t.serverCache;let C;const N=d?n.filter:n.filter.getIndexedFilter();if(Tt(e))C=N.updateFullNode(_.getNode(),i,null);else if(N.filtersNodes()&&!_.isFiltered()){const U=_.getNode().updateChild(e,i);C=N.updateFullNode(_.getNode(),U,null)}else{const U=Ut(e);if(!_.isCompleteForPath(e)&&ea(e)>1)return t;const K=Cn(e),Ee=_.getNode().getImmediateChild(U).updateChild(K,i);C=".priority"===U?N.updatePriority(_.getNode(),Ee):N.updateChild(_.getNode(),U,Ee,K,RE,null)}const M=yy(t,C,_.isFullyInitialized()||Tt(e),N.filtersNodes());return yf(n,M,e,r,new Oy(r,M,l),p)}function PE(n,t,e,i,r,l,d){const p=t.eventCache;let _,C;const N=new Oy(r,t,l);if(Tt(e))C=n.filter.updateFullNode(t.eventCache.getNode(),i,d),_=Kd(t,C,!0,n.filter.filtersNodes());else{const M=Ut(e);if(".priority"===M)C=n.filter.updatePriority(t.eventCache.getNode(),i),_=Kd(t,C,p.isFullyInitialized(),p.isFiltered());else{const x=Cn(e),U=p.getNode().getImmediateChild(M);let K;if(Tt(x))K=i;else{const re=N.getCompleteChild(M);K=null!=re?".priority"===Ls(x)&&re.getChild(sc(x)).isEmpty()?re:re.updateChild(x,i):Mt.EMPTY_NODE}_=U.equals(K)?t:Kd(t,n.filter.updateChild(p.getNode(),M,K,x,N,d),p.isFullyInitialized(),n.filter.filtersNodes())}}return _}function Ry(n,t){return n.eventCache.isCompleteForChild(t)}function xE(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function Qg(n,t,e,i,r,l,d,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let C,_=t;C=Tt(e)?i:new Mn(null).setTree(e,i);const N=t.serverCache.getNode();return C.children.inorderTraversal((M,x)=>{if(N.hasChild(M)){const K=xE(0,t.serverCache.getNode().getImmediateChild(M),x);_=Ln(n,_,new Xt(M),K,r,l,d,p)}}),C.children.inorderTraversal((M,x)=>{const U=!t.serverCache.isCompleteForChild(M)&&null===x.value;if(!N.hasChild(M)&&!U){const re=xE(0,t.serverCache.getNode().getImmediateChild(M),x);_=Ln(n,_,new Xt(M),re,r,l,d,p)}}),_}class _T{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new hy(i.getIndex()),l=function oT(n){return n.loadsAllData()?new hy(n.getIndex()):n.hasLimit()?new hE(n):new zd(n)}(i);this.processor_=function gT(n){return{filter:n}}(l);const d=e.serverCache,p=e.eventCache,_=r.updateFullNode(Mt.EMPTY_NODE,d.getNode(),null),C=l.updateFullNode(Mt.EMPTY_NODE,p.getNode(),null),N=new Xa(_,d.isFullyInitialized(),r.filtersNodes()),M=new Xa(C,p.isFullyInitialized(),l.filtersNodes());this.viewCache_=gf(M,N),this.eventGenerator_=new _y(this.query_)}get query(){return this.query_}}function vf(n,t){const e=uc(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Tt(t)&&!e.getImmediateChild(Ut(t)).isEmpty())?e.getChild(t):null}function VE(n){return 0===n.eventRegistrations_.length}function UE(n,t,e){const i=[];if(e){(0,B.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(l=>{const d=l.createCancelEvent(e,r);d&&i.push(d)})}if(t){let r=[];for(let l=0;l<n.eventRegistrations_.length;++l){const d=n.eventRegistrations_[l];if(d.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(l+1));break}}else r.push(d)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function bf(n,t,e,i){t.type===Vs.MERGE&&null!==t.source.queryId&&((0,B.hu)(uc(n.viewCache_),"We should always have a full cache before handling merges"),(0,B.hu)(mf(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,l=function mT(n,t,e,i,r){const l=new RI;let d,p;if(e.type===Vs.OVERWRITE){const C=e;C.source.fromUser?d=PE(n,t,C.path,C.snap,i,r,l):((0,B.hu)(C.source.fromServer,"Unknown source."),p=C.source.tagged||t.serverCache.isFiltered()&&!Tt(C.path),d=Ln(n,t,C.path,C.snap,i,r,p,l))}else if(e.type===Vs.MERGE){const C=e;C.source.fromUser?d=function kE(n,t,e,i,r,l,d){let p=t;return i.foreach((_,C)=>{const N=Dn(e,_);Ry(t,Ut(N))&&(p=PE(n,p,N,C,r,l,d))}),i.foreach((_,C)=>{const N=Dn(e,_);Ry(t,Ut(N))||(p=PE(n,p,N,C,r,l,d))}),p}(n,t,C.path,C.children,i,r,l):((0,B.hu)(C.source.fromServer,"Unknown source."),p=C.source.tagged||t.serverCache.isFiltered(),d=Qg(n,t,C.path,C.children,i,r,p,l))}else if(e.type===Vs.ACK_USER_WRITE){const C=e;d=C.revert?function BE(n,t,e,i,r,l){let d;if(null!=Iy(i,e))return t;{const p=new Oy(i,t,r),_=t.eventCache.getNode();let C;if(Tt(e)||".priority"===Ut(e)){let N;if(t.serverCache.isFullyInitialized())N=Yg(i,uc(t));else{const M=t.serverCache.getNode();(0,B.hu)(M instanceof Mt,"serverChildren would be complete if leaf node"),N=Sy(i,M)}C=n.filter.updateFullNode(_,N,l)}else{const N=Ut(e);let M=OE(i,N,t.serverCache);null==M&&t.serverCache.isCompleteForChild(N)&&(M=_.getImmediateChild(N)),C=null!=M?n.filter.updateChild(_,N,M,Cn(e),p,l):t.eventCache.getNode().hasChild(N)?n.filter.updateChild(_,N,Mt.EMPTY_NODE,Cn(e),p,l):_,C.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=Yg(i,uc(t)),d.isLeafNode()&&(C=n.filter.updateFullNode(C,d,l)))}return d=t.serverCache.isFullyInitialized()||null!=Iy(i,sn()),Kd(t,C,d,n.filter.filtersNodes())}}(n,t,C.path,i,r,l):function FE(n,t,e,i,r,l,d){if(null!=Iy(r,e))return t;const p=t.serverCache.isFiltered(),_=t.serverCache;if(null!=i.value){if(Tt(e)&&_.isFullyInitialized()||_.isCompleteForPath(e))return Ln(n,t,e,_.getNode().getChild(e),r,l,p,d);if(Tt(e)){let C=new Mn(null);return _.getNode().forEachChild(ta,(N,M)=>{C=C.set(new Xt(N),M)}),Qg(n,t,e,C,r,l,p,d)}return t}{let C=new Mn(null);return i.foreach((N,M)=>{const x=Dn(e,N);_.isCompleteForPath(x)&&(C=C.set(N,_.getNode().getChild(x)))}),Qg(n,t,e,C,r,l,p,d)}}(n,t,C.path,C.affectedTree,i,r,l)}else{if(e.type!==Vs.LISTEN_COMPLETE)throw(0,B.g5)("Unknown operation type: "+e.type);d=function LE(n,t,e,i,r){const l=t.serverCache;return yf(n,yy(t,l.getNode(),l.isFullyInitialized()||Tt(e),l.isFiltered()),e,i,RE,r)}(n,t,e.path,i,l)}const _=l.getChanges();return function Jg(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=mf(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&e.push(mi(mf(t)))}}(t,d,_),{viewCache:d,changes:_}}(n.processor_,r,t,e,i);return function Jd(n,t){(0,B.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,B.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,l.viewCache),(0,B.hu)(l.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,Py(n,l.changes,l.viewCache.eventCache.getNode(),null)}function Py(n,t,e,i){return function qg(n,t,e,i){const r=[],l=[];return t.forEach(d=>{"child_changed"===d.type&&n.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&l.push(function dE(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(d.childName,d.snapshotNode))}),qd(n,r,"child_removed",t,i,e),qd(n,r,"child_added",t,i,e),qd(n,r,"child_moved",l,i,e),qd(n,r,"child_changed",t,i,e),qd(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let Ef,By;class jE{constructor(){this.views=new Map}}function ky(n,t,e,i){const r=t.source.queryId;if(null!==r){const l=n.views.get(r);return(0,B.hu)(null!=l,"SyncTree gave us an op for an invalid query."),bf(l,t,e,i)}{let l=[];for(const d of n.views.values())l=l.concat(bf(d,t,e,i));return l}}function $E(n,t,e,i,r){const d=n.views.get(t._queryIdentifier);if(!d){let p=Yg(e,r?i:null),_=!1;p?_=!0:i instanceof Mt?(p=Sy(e,i),_=!1):(p=Mt.EMPTY_NODE,_=!1);const C=gf(new Xa(p,_,!1),new Xa(i,r,!1));return new _T(t,C)}return d}function xy(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function hc(n,t){let e=null;for(const i of n.views.values())e=e||vf(i,t);return e}function Fy(n,t){return t._queryParams.loadsAllData()?Ly(n):n.views.get(t._queryIdentifier)}function zE(n,t){return null!=Fy(n,t)}function fc(n){return null!=Ly(n)}function Ly(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let ZE=1;class wf{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Mn(null),this.pendingWriteTree_=function Du(){return{visibleWrites:Co.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Vy(n,t,e,i,r){return function hT(n,t,e,i,r){(0,B.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=_f(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Qd(n,new bu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function el(n,t,e=!1){const i=function pT(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function DE(n,t){const e=n.allWrites.findIndex(p=>p.writeId===t);(0,B.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,l=!1,d=n.allWrites.length-1;for(;r&&d>=0;){const p=n.allWrites[d];p.visible&&(d>=e&&wE(p,i.path)?r=!1:Zi(i.path,p.path)&&(l=!0)),d--}return!!r&&(l?(function TE(n){n.visibleWrites=Dy(n.allWrites,SE,sn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=bE(n.visibleWrites,i.path):Ri(i.children,_=>{n.visibleWrites=bE(n.visibleWrites,Dn(i.path,_))}),!0))}(n.pendingWriteTree_,t)){let l=new Mn(null);return null!=i.snap?l=l.set(sn(),!0):Ri(i.children,d=>{l=l.set(new Xt(d),!0)}),Qd(n,new pf(i.path,l,e))}return[]}function tl(n,t,e){return Qd(n,new bu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Xg(n,t,e,i,r=!1){const l=t._path,d=n.syncPointTree_.get(l);let p=[];if(d&&("default"===t._queryIdentifier||zE(d,t))){const _=function WE(n,t,e,i){const r=t._queryIdentifier,l=[];let d=[];const p=fc(n);if("default"===r)for(const[_,C]of n.views.entries())d=d.concat(UE(C,e,i)),VE(C)&&(n.views.delete(_),C.query._queryParams.loadsAllData()||l.push(C.query));else{const _=n.views.get(r);_&&(d=d.concat(UE(_,e,i)),VE(_)&&(n.views.delete(r),_.query._queryParams.loadsAllData()||l.push(_.query)))}return p&&!fc(n)&&l.push(new(function Df(){return(0,B.hu)(Ef,"Reference.ts has not been loaded"),Ef}())(t._repo,t._path)),{removed:l,events:d}}(d,t,e,i);(function ET(n){return 0===n.views.size})(d)&&(n.syncPointTree_=n.syncPointTree_.remove(l));const C=_.removed;if(p=_.events,!r){const N=-1!==C.findIndex(x=>x._queryParams.loadsAllData()),M=n.syncPointTree_.findOnPath(l,(x,U)=>fc(U));if(N&&!M){const x=n.syncPointTree_.subtree(l);if(!x.isEmpty()){const U=function JE(n){return n.fold((t,e,i)=>{if(e&&fc(e))return[Ly(e)];{let r=[];return e&&(r=xy(e)),Ri(i,(l,d)=>{r=r.concat(d)}),r}})}(x);for(let K=0;K<U.length;++K){const re=U[K],Ee=re.query,Re=jy(n,re);n.listenProvider_.startListening(Xd(Ee),Sf(n,Ee),Re.hashFn,Re.onComplete)}}}!M&&C.length>0&&!i&&(N?n.listenProvider_.stopListening(Xd(t),null):C.forEach(x=>{const U=n.queryToTagMap.get(If(x));n.listenProvider_.stopListening(Xd(x),U)}))}!function ST(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=If(i),l=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(l)}}}(n,C)}return p}function qE(n,t,e,i){const r=$y(n,i);if(null!=r){const l=Af(r),d=l.path,p=l.queryId,_=zi(d,t);return Gy(n,d,new bu(Zg(p),_,e))}return[]}function Uy(n,t,e,i=!1){const r=t._path;let l=null,d=!1;n.syncPointTree_.foreachOnPath(r,(x,U)=>{const K=zi(x,r);l=l||hc(U,K),d=d||fc(U)});let _,p=n.syncPointTree_.get(r);p?(d=d||fc(p),l=l||hc(p,sn())):(p=new jE,n.syncPointTree_=n.syncPointTree_.set(r,p)),null!=l?_=!0:(_=!1,l=Mt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((U,K)=>{const re=hc(K,sn());re&&(l=l.updateImmediateChild(U,re))}));const C=zE(p,t);if(!C&&!t._queryParams.loadsAllData()){const x=If(t);(0,B.hu)(!n.queryToTagMap.has(x),"View does not exist, but we have a tag");const U=function IT(){return ZE++}();n.queryToTagMap.set(x,U),n.tagToQueryMap.set(U,x)}let M=function GE(n,t,e,i,r,l){const d=$E(n,t,i,r,l);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,d),function bT(n,t){n.eventRegistrations_.push(t)}(d,e),function HE(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Nn,(l,d)=>{i.push(vu(l,d))}),e.isFullyInitialized()&&i.push(mi(e.getNode())),Py(n,i,e.getNode(),t)}(d,e)}(p,t,e,Kg(n.pendingWriteTree_,r),l,_);if(!C&&!d&&!i){const x=Fy(p,t);M=M.concat(function AT(n,t,e){const i=t._path,r=Sf(n,t),l=jy(n,e),d=n.listenProvider_.startListening(Xd(t),r,l.hashFn,l.onComplete),p=n.syncPointTree_.subtree(i);if(r)(0,B.hu)(!fc(p.value),"If we're adding a query, it shouldn't be shadowed");else{const _=p.fold((C,N,M)=>{if(!Tt(C)&&N&&fc(N))return[Ly(N).query];{let x=[];return N&&(x=x.concat(xy(N).map(U=>U.query))),Ri(M,(U,K)=>{x=x.concat(K)}),x}});for(let C=0;C<_.length;++C){const N=_[C];n.listenProvider_.stopListening(Xd(N),Sf(n,N))}}return d}(n,t,x))}return M}function em(n,t,e){const r=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(t,(d,p)=>{const C=hc(p,zi(d,t));if(C)return C});return wy(r,t,l,e,!0)}function Qd(n,t){return Hy(t,n.syncPointTree_,null,Kg(n.pendingWriteTree_,sn()))}function Hy(n,t,e,i){if(Tt(n.path))return YE(n,t,e,i);{const r=t.get(sn());null==e&&null!=r&&(e=hc(r,sn()));let l=[];const d=Ut(n.path),p=n.operationForChild(d),_=t.children.get(d);if(_&&p){const C=e?e.getImmediateChild(d):null,N=Ny(i,d);l=l.concat(Hy(p,_,C,N))}return r&&(l=l.concat(ky(r,n,i,e))),l}}function YE(n,t,e,i){const r=t.get(sn());null==e&&null!=r&&(e=hc(r,sn()));let l=[];return t.children.inorderTraversal((d,p)=>{const _=e?e.getImmediateChild(d):null,C=Ny(i,d),N=n.operationForChild(d);N&&(l=l.concat(YE(N,p,_,C)))}),r&&(l=l.concat(ky(r,n,i,e))),l}function jy(n,t){const e=t.query,i=Sf(n,e);return{hashFn:()=>(function yT(n){return n.viewCache_.serverCache.getNode()}(t)||Mt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function TT(n,t,e){const i=$y(n,e);if(i){const r=Af(i),l=r.path,d=r.queryId,p=zi(l,t);return Gy(n,l,new cc(Zg(d),p))}return[]}(n,e._path,i):function wT(n,t){return Qd(n,new cc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const l=function $w(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return Xg(n,e,null,l)}}}}function Sf(n,t){const e=If(t);return n.queryToTagMap.get(e)}function If(n){return n._path.toString()+"$"+n._queryIdentifier}function $y(n,t){return n.tagToQueryMap.get(t)}function Af(n){const t=n.indexOf("$");return(0,B.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Xt(n.substr(0,t))}}function Gy(n,t,e){const i=n.syncPointTree_.get(t);return(0,B.hu)(i,"Missing sync point for query tag that we're tracking"),ky(i,e,Kg(n.pendingWriteTree_,t),null)}function Xd(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function kI(){return(0,B.hu)(By,"Reference.ts has not been loaded"),By}())(n._repo,n._path):n}class Nf{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Nf(e)}node(){return this.node_}}class Wy{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Dn(this.path_,t);return new Wy(this.syncTree_,e)}node(){return em(this.syncTree_,this.path_)}}const XE=function(n,t,e){return n&&"object"==typeof n?((0,B.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?NT(n[".sv"],t,e):"object"==typeof n[".sv"]?MT(n[".sv"],t):void(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},NT=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,B.hu)(!1,"Unexpected server value: "+n)},MT=function(n,t,e){n.hasOwnProperty("increment")||(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,B.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,B.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const d=r.getValue();return"number"!=typeof d?i:d+i},eC=function(n,t,e,i){return Zy(t,new Wy(e,n),i)},zy=function(n,t,e){return Zy(n,new Nf(t),e)};function Zy(n,t,e){const i=n.getPriority().val(),r=XE(i,t.getImmediateChild(".priority"),e);let l;if(n.isLeafNode()){const d=n,p=XE(d.getValue(),t,e);return p!==d.getValue()||r!==d.getPriority().val()?new _u(p,Hn(r)):n}{const d=n;return l=d,r!==d.getPriority().val()&&(l=l.updatePriority(new _u(r))),d.forEachChild(Nn,(p,_)=>{const C=Zy(_,t.getImmediateChild(p),e);C!==_&&(l=l.updateImmediateChild(p,C))}),l}}class qy{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function tm(n,t){let e=t instanceof Xt?t:new Xt(t),i=n,r=Ut(e);for(;null!==r;){const l=(0,B.DV)(i.node.children,r)||{children:{},childCount:0};i=new qy(r,i,l),e=Cn(e),r=Ut(e)}return i}function pc(n){return n.node.value}function nm(n,t){n.node.value=t,Of(n)}function Ky(n){return n.node.childCount>0}function eh(n,t){Ri(n.node.children,(e,i)=>{t(new qy(e,n,i))})}function Yy(n,t,e,i){e&&!i&&t(n),eh(n,r=>{Yy(r,t,!0,i)}),e&&i&&t(n)}function Mf(n){return new Xt(null===n.parent?n.name:Mf(n.parent)+"/"+n.name)}function Of(n){null!==n.parent&&function Jy(n,t,e){const i=function OT(n){return void 0===pc(n)&&!Ky(n)}(e),r=(0,B.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,Of(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,Of(n))}(n.parent,n.name,n)}const tC=/[\[\].#$\/\u0000-\u001F\u007F]/,Qy=/[\[\].#$\u0000-\u001F\u007F]/,Xy=10485760,im=function(n){return"string"==typeof n&&0!==n.length&&!tC.test(n)},rm=function(n){return"string"==typeof n&&0!==n.length&&!Qy.test(n)},th=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Ya(n)||n&&"object"==typeof n&&(0,B.r3)(n,".sv")},Er=function(n,t,e,i){i&&void 0===t||nh((0,B.gK)(n,"value"),t,e)},nh=function(n,t,e){const i=e instanceof Xt?new Bd(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Bs(i));if("function"==typeof t)throw new Error(n+"contains a function "+Bs(i)+" with contents = "+t.toString());if(Ya(t))throw new Error(n+"contains "+t.toString()+" "+Bs(i));if("string"==typeof t&&t.length>Xy/3&&(0,B.ug)(t)>Xy)throw new Error(n+"contains a string greater than "+Xy+" utf8 bytes "+Bs(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,l=!1;if(Ri(t,(d,p)=>{if(".value"===d)r=!0;else if(".priority"!==d&&".sv"!==d&&(l=!0,!im(d)))throw new Error(n+" contains an invalid key ("+d+") "+Bs(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Vd(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,B.ug)(t),mu(n)})(i,d),nh(n,p,i),function Ud(n){const t=n.parts_.pop();n.byteLength_-=(0,B.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&l)throw new Error(n+' contains ".value" child '+Bs(i)+" in addition to actual children.")}},xT=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,B.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const l=[];Ri(t,(d,p)=>{const _=new Xt(d);if(nh(r,p,Dn(e,_)),".priority"===Ls(_)&&!th(p))throw new Error(r+"contains an invalid value for '"+_.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(_)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const l=gi(i);for(let d=0;d<l.length;d++)if((".priority"!==l[d]||d!==l.length-1)&&!im(l[d]))throw new Error(n+"contains an invalid key ("+l[d]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Ld);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Zi(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,l)},sm=function(n,t,e){if(!e||void 0!==t){if(Ya(t))throw new Error((0,B.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!th(t))throw new Error((0,B.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Tu=function(n,t,e,i){if(!(i&&void 0===e||im(e)))throw new Error((0,B.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Rf=function(n,t,e,i){if(!(i&&void 0===e||rm(e)))throw new Error((0,B.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Us=function(n,t){if(".info"===Ut(t))throw new Error(n+" failed = Can't modify data under /.info/")},tv=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!im(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),rm(n)}(e))throw new Error((0,B.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class nv{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Pf(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],l=r.getPath();null!==e&&!oc(l,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:l}),e.events.push(r)}e&&n.eventLists_.push(e)}function iv(n,t,e){Pf(n,e),rv(n,i=>oc(i,t))}function xr(n,t,e){Pf(n,e),rv(n,i=>Zi(i,t)||Zi(t,i))}function rv(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(FT(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function FT(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();nc&&Ei("event: "+e.toString()),pu(i)}}}const nC="repo_interrupt";class BT{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kr(),this.transactionQueueTree_=new qy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function VT(n){const e=n.infoData_.getNode(new Xt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function ih(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:VT(n)})}function rC(n,t,e,i,r){n.dataUpdateCount++;const l=new Xt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let d=[];if(r)if(i){const _=(0,B.UI)(e,C=>Hn(C));d=function KE(n,t,e,i){const r=$y(n,i);if(r){const l=Af(r),d=l.path,p=l.queryId,_=zi(d,t),C=Mn.fromObject(e);return Gy(n,d,new Eu(Zg(p),_,C))}return[]}(n.serverSyncTree_,l,_,r)}else{const _=Hn(e);d=qE(n.serverSyncTree_,l,_,r)}else if(i){const _=(0,B.UI)(e,C=>Hn(C));d=function DT(n,t,e){const i=Mn.fromObject(e);return Qd(n,new Eu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,l,_)}else{const _=Hn(e);d=tl(n.serverSyncTree_,l,_)}let p=l;d.length>0&&(p=rh(n,l)),xr(n.eventQueue_,p,d)}function sC(n,t){oC(n,"connected",t),!1===t&&function lC(n){Su(n,"onDisconnectEvents");const t=ih(n),e=kr();Wg(n.onDisconnect_,sn(),(r,l)=>{const d=eC(r,l,n.serverSyncTree_,t);ar(e,r,d)});let i=[];Wg(e,sn(),(r,l)=>{i=i.concat(tl(n.serverSyncTree_,r,l));const d=av(n,r);rh(n,d)}),n.onDisconnect_=kr(),xr(n.eventQueue_,sn(),i)}(n)}function oC(n,t,e){const i=new Xt("/.info/"+t),r=Hn(e);n.infoData_.updateSnapshot(i,r);const l=tl(n.infoSyncTree_,i,r);xr(n.eventQueue_,i,l)}function om(n){return n.nextWriteId_++}function sv(n,t,e,i,r){Su(n,"set",{path:t.toString(),value:e,priority:i});const l=ih(n),d=Hn(e,i),p=em(n.serverSyncTree_,t),_=zy(d,p,l),C=om(n),N=Vy(n.serverSyncTree_,t,_,C,!0);Pf(n.eventQueue_,N),n.server_.put(t.toString(),d.val(!0),(x,U)=>{const K="ok"===x;K||ai("set at "+t+" failed: "+x);const re=el(n.serverSyncTree_,C,!K);xr(n.eventQueue_,t,re),nl(0,r,x,U)});const M=av(n,t);rh(n,M),xr(n.eventQueue_,M,[])}function cC(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&Gg(n.onDisconnect_,t),nl(0,e,i,r)})}function uC(n,t,e,i){const r=Hn(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(l,d)=>{"ok"===l&&ar(n.onDisconnect_,t,r),nl(0,i,l,d)})}function ov(n,t,e){let i;i=".info"===Ut(t._path)?Xg(n.infoSyncTree_,t,e):Xg(n.serverSyncTree_,t,e),iv(n.eventQueue_,t._path,i)}function dC(n){n.persistentConnection_&&n.persistentConnection_.interrupt(nC)}function Su(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Ei(e,...t)}function nl(n,t,e,i){t&&pu(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let l=r;i&&(l+=": "+i);const d=new Error(l);d.code=r,t(d)}})}function am(n,t,e){return em(n.serverSyncTree_,t,e)||Mt.EMPTY_NODE}function xf(n,t=n.transactionQueueTree_){if(t||lm(n,t),pc(t)){const e=pC(n,t);(0,B.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function GT(n,t,e){const i=e.map(C=>C.currentWriteId),r=am(n,t,i);let l=r;const d=r.hash();for(let C=0;C<e.length;C++){const N=e[C];(0,B.hu)(0===N.status,"tryToSendTransactionQueue_: items in queue should all be run."),N.status=1,N.retryCount++;const M=zi(t,N.path);l=l.updateChild(M,N.currentOutputSnapshotRaw)}const p=l.val(!0),_=t;n.server_.put(_.toString(),p,C=>{Su(n,"transaction put response",{path:_.toString(),status:C});let N=[];if("ok"===C){const M=[];for(let x=0;x<e.length;x++)e[x].status=2,N=N.concat(el(n.serverSyncTree_,e[x].currentWriteId)),e[x].onComplete&&M.push(()=>e[x].onComplete(null,!0,e[x].currentOutputSnapshotResolved)),e[x].unwatcher();lm(n,tm(n.transactionQueueTree_,t)),xf(n,n.transactionQueueTree_),xr(n.eventQueue_,t,N);for(let x=0;x<M.length;x++)pu(M[x])}else{if("datastale"===C)for(let M=0;M<e.length;M++)e[M].status=3===e[M].status?4:0;else{ai("transaction at "+_.toString()+" failed: "+C);for(let M=0;M<e.length;M++)e[M].status=4,e[M].abortReason=C}rh(n,t)}},d)}(n,Mf(t),e)}else Ky(t)&&eh(t,e=>{xf(n,e)})}function rh(n,t){const e=fC(n,t),i=Mf(e);return function FI(n,t,e){if(0===t.length)return;const i=[];let r=[];const d=t.filter(p=>0===p.status).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const _=t[p],C=zi(e,_.path);let M,N=!1;if((0,B.hu)(null!==C,"rerunTransactionsUnderNode_: relativePath should not be null."),4===_.status)N=!0,M=_.abortReason,r=r.concat(el(n.serverSyncTree_,_.currentWriteId,!0));else if(0===_.status)if(_.retryCount>=25)N=!0,M="maxretry",r=r.concat(el(n.serverSyncTree_,_.currentWriteId,!0));else{const x=am(n,_.path,d);_.currentInputSnapshot=x;const U=t[p].update(x.val());if(void 0!==U){nh("transaction failed: Data returned ",U,_.path);let K=Hn(U);"object"==typeof U&&null!=U&&(0,B.r3)(U,".priority")||(K=K.updatePriority(x.getPriority()));const Ee=_.currentWriteId,Re=ih(n),Ve=zy(K,x,Re);_.currentOutputSnapshotRaw=K,_.currentOutputSnapshotResolved=Ve,_.currentWriteId=om(n),d.splice(d.indexOf(Ee),1),r=r.concat(Vy(n.serverSyncTree_,_.path,Ve,_.currentWriteId,_.applyLocally)),r=r.concat(el(n.serverSyncTree_,Ee,!0))}else N=!0,M="nodata",r=r.concat(el(n.serverSyncTree_,_.currentWriteId,!0))}xr(n.eventQueue_,e,r),r=[],N&&(t[p].status=2,setTimeout(t[p].unwatcher,Math.floor(0)),t[p].onComplete&&i.push("nodata"===M?()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot):()=>t[p].onComplete(new Error(M),!1,null)))}lm(n,n.transactionQueueTree_);for(let p=0;p<i.length;p++)pu(i[p]);xf(n,n.transactionQueueTree_)}(n,pC(n,e),i),i}function fC(n,t){let e,i=n.transactionQueueTree_;for(e=Ut(t);null!==e&&void 0===pc(i);)i=tm(i,e),e=Ut(t=Cn(t));return i}function pC(n,t){const e=[];return gC(n,t,e),e.sort((i,r)=>i.order-r.order),e}function gC(n,t,e){const i=pc(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);eh(t,r=>{gC(n,r,e)})}function lm(n,t){const e=pc(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,nm(t,e.length>0?e:void 0)}eh(t,i=>{lm(n,i)})}function av(n,t){const e=Mf(fC(n,t)),i=tm(n.transactionQueueTree_,t);return function RT(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{Iu(n,r)}),Iu(n,i),Yy(i,r=>{Iu(n,r)}),e}function Iu(n,t){const e=pc(t);if(e){const i=[];let r=[],l=-1;for(let d=0;d<e.length;d++)3===e[d].status||(1===e[d].status?((0,B.hu)(l===d-1,"All SENT items should be at beginning of queue."),l=d,e[d].status=3,e[d].abortReason="set"):((0,B.hu)(0===e[d].status,"Unexpected transaction status in abort"),e[d].unwatcher(),r=r.concat(el(n.serverSyncTree_,e[d].currentWriteId,!0)),e[d].onComplete&&i.push(e[d].onComplete.bind(null,new Error("set"),!1,null))));-1===l?nm(t,void 0):e.length=l+1,xr(n.eventQueue_,Mf(t),r);for(let d=0;d<i.length;d++)pu(i[d])}}const Hs=function(n,t){const e=zT(n),i=e.namespace;return"firebase.com"===e.domain&&is(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&is("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ai("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new xs(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Xt(e.pathString)}},zT=function(n){let t="",e="",i="",r="",l="",d=!0,p="https",_=443;if("string"==typeof n){let C=n.indexOf("//");C>=0&&(p=n.substring(0,C-1),n=n.substring(C+2));let N=n.indexOf("/");-1===N&&(N=n.length);let M=n.indexOf("?");-1===M&&(M=n.length),t=n.substring(0,Math.min(N,M)),N<M&&(r=function WT(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(N,M)));const x=function lv(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ai(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,M)));C=t.indexOf(":"),C>=0?(d="https"===p||"wss"===p,_=parseInt(t.substring(C+1),10)):C=t.length;const U=t.slice(0,C);if("localhost"===U.toLowerCase())e="localhost";else if(U.split(".").length<=2)e=U;else{const K=t.indexOf(".");i=t.substring(0,K).toLowerCase(),e=t.substring(K+1),l=i}"ns"in x&&(l=x.ns)}return{host:t,port:_,domain:e,subdomain:i,secure:d,scheme:p,pathString:r,namespace:l}};class cm{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,B.Wl)(this.snapshot.exportVal())}}class sh{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class cv{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,B.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class mC{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new B.BH;return cC(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Us("OnDisconnect.remove",this._path);const t=new B.BH;return uC(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Us("OnDisconnect.set",this._path),Er("OnDisconnect.set",t,this._path,!1);const e=new B.BH;return uC(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Us("OnDisconnect.setWithPriority",this._path),Er("OnDisconnect.setWithPriority",t,this._path,!1),sm("OnDisconnect.setWithPriority",e,!1);const i=new B.BH;return function HT(n,t,e,i,r){const l=Hn(e,i);n.server_.onDisconnectPut(t.toString(),l.val(!0),(d,p)=>{"ok"===d&&ar(n.onDisconnect_,t,l),nl(0,r,d,p)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Us("OnDisconnect.update",this._path),xT("OnDisconnect.update",t,this._path,!1);const e=new B.BH;return function jT(n,t,e,i){if((0,B.xb)(e))return Ei("onDisconnect().update() called with empty data.  Don't do anything."),void nl(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,l)=>{"ok"===r&&Ri(e,(d,p)=>{const _=Hn(p);ar(n.onDisconnect_,Dn(t,d),_)}),nl(0,i,r,l)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Fr{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Tt(this._path)?null:Ls(this._path)}get ref(){return new js(this._repo,this._path)}get _queryIdentifier(){const t=mE(this._queryParams),e=vg(t);return"{}"===e?"default":e}get _queryObject(){return mE(this._queryParams)}isEqual(t){if(!((t=(0,B.m9)(t))instanceof Fr))return!1;const e=this._repo===t._repo,i=oc(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function sf(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Au(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Do(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===ta){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==ks)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==bo)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Nn){if(null!=t&&!th(t)||null!=e&&!th(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,B.hu)(n.getIndex()instanceof Hg||n.getIndex()===jg,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function um(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class js extends Fr{constructor(t,e){super(t,e,new Qa,!1)}get parent(){const t=sc(this._path);return null===t?null:new js(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class gc{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Xt(t),i=mc(this.ref,t);return new gc(this._node.getChild(e),i,Nn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new gc(r,mc(this.ref,i),Nn)))}hasChild(t){const e=new Xt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function uv(n,t){return(n=(0,B.m9)(n))._checkNotDeleted("ref"),void 0!==t?mc(n._root,t):n._root}function dm(n,t){(n=(0,B.m9)(n))._checkNotDeleted("refFromURL");const e=Hs(t,n._repo.repoInfo_.nodeAdmin);tv("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&is("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),uv(n,e.path.toString())}function mc(n,t){return null===Ut((n=(0,B.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Rf("child","path",e,!1)):Rf("child","path",t,!1),new js(n._repo,Dn(n._path,t));var e}function Ff(n,t){n=(0,B.m9)(n),Us("set",n._path),Er("set",t,n._path,!1);const e=new B.BH;return sv(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function hv(n,t){xT("update",t,n._path,!1);const e=new B.BH;return function aC(n,t,e,i){Su(n,"update",{path:t.toString(),value:e});let r=!0;const l=ih(n),d={};if(Ri(e,(p,_)=>{r=!1,d[p]=eC(Dn(t,p),Hn(_),n.serverSyncTree_,l)}),r)Ei("update() called with empty data.  Don't do anything."),nl(0,i,"ok",void 0);else{const p=om(n),_=function CT(n,t,e,i){!function fT(n,t,e,i){(0,B.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=by(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Mn.fromObject(e);return Qd(n,new Eu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,d,p);Pf(n.eventQueue_,_),n.server_.merge(t.toString(),e,(C,N)=>{const M="ok"===C;M||ai("update at "+t+" failed: "+C);const x=el(n.serverSyncTree_,p,!M),U=x.length>0?rh(n,t):t;xr(n.eventQueue_,U,x),nl(0,i,C,N)}),Ri(e,C=>{const N=av(n,Dn(t,C));rh(n,N)}),xr(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function fv(n){n=(0,B.m9)(n);const t=new cv(()=>{}),e=new Lf(t);return function UT(n,t,e){const i=function Tf(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(C,N)=>{const M=zi(C,e);i=i||hc(N,M)});let r=n.syncPointTree_.get(e);r?i=i||hc(r,sn()):(r=new jE,n.syncPointTree_=n.syncPointTree_.set(e,r));const l=null!=i,d=l?new Xa(i,!0,!1):null;return function vT(n){return mf(n.viewCache_)}($E(r,t,Kg(n.pendingWriteTree_,t._path),l?d.getNode():Mt.EMPTY_NODE,l))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const l=Hn(r).withIndex(t._queryParams.getIndex());let d;if(Uy(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())d=tl(n.serverSyncTree_,t._path,l);else{const p=Sf(n.serverSyncTree_,t);d=qE(n.serverSyncTree_,t._path,l,p)}return xr(n.eventQueue_,t._path,d),Xg(n.serverSyncTree_,t,e,null,!0),l},r=>(Su(n,"get for query "+(0,B.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new gc(i,new js(n._repo,n._path),n._queryParams.getIndex()))}class Lf{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new cm("value",this,new gc(t.snapshotNode,new js(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new sh(this,t,e):null}matches(t){return t instanceof Lf&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class hm{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new sh(this,t,e):null}createEvent(t,e){(0,B.hu)(null!=t.childName,"Child events should have a childName.");const i=mc(new js(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new cm(t.type,this,new gc(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof hm&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Bf(n,t,e,i,r){let l;if("object"==typeof i&&(l=void 0,r=i),"function"==typeof i&&(l=i),r&&r.onlyOnce){const _=e,C=(N,M)=>{ov(n._repo,n,p),_(N,M)};C.userCallback=e.userCallback,C.context=e.context,e=C}const d=new cv(e,l||void 0),p="value"===t?new Lf(d):new hm(t,d);return function $T(n,t,e){let i;i=".info"===Ut(t._path)?Uy(n.infoSyncTree_,t,e):Uy(n.serverSyncTree_,t,e),iv(n.eventQueue_,t._path,i)}(n._repo,n,p),()=>ov(n._repo,n,p)}function pv(n,t,e,i){return Bf(n,"value",t,e,i)}function gv(n,t,e,i){return Bf(n,"child_added",t,e,i)}function fm(n,t,e,i){return Bf(n,"child_changed",t,e,i)}function mv(n,t,e,i){return Bf(n,"child_moved",t,e,i)}function _v(n,t,e,i){return Bf(n,"child_removed",t,e,i)}function yv(n,t,e){let i=null;const r=e?new cv(e):null;"value"===t?i=new Lf(r):t&&(i=new hm(t,r)),ov(n._repo,n,i)}class $s{}class yC extends $s{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Er("endAt",this._value,t._path,!0);const e=gE(t._queryParams,this._value,this._key);if(um(e),Do(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fr(t._repo,t._path,e,t._orderByCalled)}}class bC extends $s{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Er("endBefore",this._value,t._path,!1);const e=function py(n,t,e){let i,r;return n.index_===ta?("string"==typeof t&&(t=uE(t)),r=gE(n,t,e)):(i=null==e?ks:uE(e),r=gE(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(um(e),Do(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fr(t._repo,t._path,e,t._orderByCalled)}}class vv extends $s{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Er("startAt",this._value,t._path,!0);const e=fy(t._queryParams,this._value,this._key);if(um(e),Do(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Fr(t._repo,t._path,e,t._orderByCalled)}}class Cr extends $s{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Er("startAfter",this._value,t._path,!1);const e=function pE(n,t,e){let i;if(n.index_===ta)"string"==typeof t&&(t=dy(t)),i=fy(n,t,e);else{let r;r=null==e?bo:dy(e),i=fy(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(um(e),Do(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Fr(t._repo,t._path,e,t._orderByCalled)}}class KT extends $s{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fr(t._repo,t._path,function aT(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class VI extends $s{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fr(t._repo,t._path,function fE(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class CC extends $s{constructor(t){super(),this._path=t}_apply(t){Au(t,"orderByChild");const e=new Xt(this._path);if(Tt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Hg(e),r=Zd(t._queryParams,i);return Do(r),new Fr(t._repo,t._path,r,!0)}}class Vf extends $s{_apply(t){Au(t,"orderByKey");const e=Zd(t._queryParams,ta);return Do(e),new Fr(t._repo,t._path,e,!0)}}class bv extends $s{_apply(t){Au(t,"orderByPriority");const e=Zd(t._queryParams,Nn);return Do(e),new Fr(t._repo,t._path,e,!0)}}class wC extends $s{_apply(t){Au(t,"orderByValue");const e=Zd(t._queryParams,jg);return Do(e),new Fr(t._repo,t._path,e,!0)}}class e1 extends $s{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Er("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new yC(this._value,this._key)._apply(new vv(this._value,this._key)._apply(t))}}function ss(n,...t){let e=(0,B.m9)(n);for(const i of t)e=i._apply(e);return e}(function Cf(n){(0,B.hu)(!Ef,"__referenceConstructor has already been defined"),Ef=n})(js),function PI(n){(0,B.hu)(!By,"__referenceConstructor has already been defined"),By=n}(js);const pm={};function n1(n,t,e,i,r){let l=i||n.options.databaseURL;void 0===l&&(n.options.projectId||is("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ei("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let _,C,d=Hs(l,r),p=d.repoInfo;typeof process<"u"&&process.env&&(C=process.env.FIREBASE_DATABASE_EMULATOR_HOST),C?(_=!0,l=`http://${C}?ns=${p.namespace}`,d=Hs(l,r),p=d.repoInfo):_=!d.repoInfo.secure;const N=r&&_?new kd(kd.OWNER):new W_(n.name,n.options,t);tv("Invalid Firebase Database URL",d),Tt(d.path)||is("Database URL must point to the root of a Firebase Database (not including a child path).");const M=function r1(n,t,e,i){let r=pm[t.name];r||(r={},pm[t.name]=r);let l=r[n.toURLString()];return l&&is("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new BT(n,false,e,i),r[n.toURLString()]=l,l}(p,n,N,new Ww(n.name,e));return new ah(M,n)}class ah{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function iC(n,t,e){if(n.stats_=Y_(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new hf(n.repoInfo_,(i,r,l,d)=>{rC(n,i,r,l,d)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>sC(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,B.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new lc(n.repoInfo_,t,(i,r,l,d)=>{rC(n,i,r,l,d)},i=>{sC(n,i)},i=>{!function xI(n,t){Ri(t,(e,i)=>{oC(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Zw(n,t){const e=n.toString();return wg[e]||(wg[e]=t()),wg[e]}(n.repoInfo_,()=>new ff(n.stats_,n.server_)),n.infoData_=new ia,n.infoSyncTree_=new wf({startListening:(i,r,l,d)=>{let p=[];const _=n.infoData_.getNode(i._path);return _.isEmpty()||(p=tl(n.infoSyncTree_,i._path,_),setTimeout(()=>{d("ok")},0)),p},stopListening:()=>{}}),oC(n,"connected",!1),n.serverSyncTree_=new wf({startListening:(i,r,l,d)=>(n.server_.listen(i,l,r,(p,_)=>{const C=d(p,_);xr(n.eventQueue_,i._path,C)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new js(this._repo,sn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function SC(n,t){const e=pm[t];(!e||e[n.key]!==n)&&is(`Database ${t}(${n.repoInfo_}) has already been deleted.`),dC(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&is("Cannot call "+t+" on a deleted database.")}}function AC(){Fd.IS_TRANSPORT_INITIALIZED&&ai("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function NC(){AC(),Fs.forceDisallow()}function Cv(){AC(),xd.forceDisallow(),Fs.forceAllow()}function o1(n,t){Ob(n,t)}const OC={".sv":"timestamp"};class PC{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}lc.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},lc.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function a1(n){Uw(Pd.SDK_VERSION),(0,Pd._registerComponent)(new Od.wA("database",(t,{instanceIdentifier:e})=>n1(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Pd.registerVersion)(Bw,"0.13.9",n),(0,Pd.registerVersion)(Bw,"0.13.9","esm2017")}();const FC=new L_.Yd("@firebase/database-compat"),Dv=function(n){FC.warn("FIREBASE WARNING: "+n)};class u1{constructor(t){this._delegate=t}cancel(t){(0,B.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,B.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,B.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,B.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,B.Dv)("OnDisconnect.set",1,2,arguments.length),(0,B.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,B.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,B.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),l=>i(l)),r}update(t,e){if((0,B.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let l=0;l<t.length;++l)r[""+l]=t[l];t=r,Dv("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,B.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class d1{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,B.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Nu{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,B.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,B.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,B.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,B.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,B.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Rf("DataSnapshot.child","path",t,!1),new Nu(this._database,this._delegate.child(t))}hasChild(t){return(0,B.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Rf("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,B.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,B.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,B.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Nu(this._database,e)))}hasChildren(){return(0,B.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,B.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,B.Dv)("DataSnapshot.ref",0,0,arguments.length),new Gs(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Pi{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var l;(0,B.Dv)("Query.on",2,4,arguments.length),(0,B.Wj)("Query.on","callback",e,!1);const d=Pi.getCancelAndContextArgs_("Query.on",i,r),p=(C,N)=>{e.call(d.context,new Nu(this.database,C),N)};p.userCallback=e,p.context=d.context;const _=null===(l=d.cancel)||void 0===l?void 0:l.bind(d.context);switch(t){case"value":return pv(this._delegate,p,_),e;case"child_added":return gv(this._delegate,p,_),e;case"child_removed":return _v(this._delegate,p,_),e;case"child_changed":return fm(this._delegate,p,_),e;case"child_moved":return mv(this._delegate,p,_),e;default:throw new Error((0,B.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,B.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,B.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,B.Wj)("Query.off","callback",e,!0),(0,B.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,yv(this._delegate,t,r)}else yv(this._delegate,t)}get(){return fv(this._delegate).then(t=>new Nu(this.database,t))}once(t,e,i,r){(0,B.Dv)("Query.once",1,4,arguments.length),(0,B.Wj)("Query.once","callback",e,!0);const l=Pi.getCancelAndContextArgs_("Query.once",i,r),d=new B.BH,p=(C,N)=>{const M=new Nu(this.database,C);e&&e.call(l.context,M,N),d.resolve(M)};p.userCallback=e,p.context=l.context;const _=C=>{l.cancel&&l.cancel.call(l.context,C),d.reject(C)};switch(t){case"value":pv(this._delegate,p,_,{onlyOnce:!0});break;case"child_added":gv(this._delegate,p,_,{onlyOnce:!0});break;case"child_removed":_v(this._delegate,p,_,{onlyOnce:!0});break;case"child_changed":fm(this._delegate,p,_,{onlyOnce:!0});break;case"child_moved":mv(this._delegate,p,_,{onlyOnce:!0});break;default:throw new Error((0,B.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return d.promise}limitToFirst(t){return(0,B.Dv)("Query.limitToFirst",1,1,arguments.length),new Pi(this.database,ss(this._delegate,function YT(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new KT(n)}(t)))}limitToLast(t){return(0,B.Dv)("Query.limitToLast",1,1,arguments.length),new Pi(this.database,ss(this._delegate,function UI(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new VI(n)}(t)))}orderByChild(t){return(0,B.Dv)("Query.orderByChild",1,1,arguments.length),new Pi(this.database,ss(this._delegate,function DC(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Rf("orderByChild","path",n,!1),new CC(n)}(t)))}orderByKey(){return(0,B.Dv)("Query.orderByKey",0,0,arguments.length),new Pi(this.database,ss(this._delegate,function JT(){return new Vf}()))}orderByPriority(){return(0,B.Dv)("Query.orderByPriority",0,0,arguments.length),new Pi(this.database,ss(this._delegate,function QT(){return new bv}()))}orderByValue(){return(0,B.Dv)("Query.orderByValue",0,0,arguments.length),new Pi(this.database,ss(this._delegate,function XT(){return new wC}()))}startAt(t=null,e){return(0,B.Dv)("Query.startAt",0,2,arguments.length),new Pi(this.database,ss(this._delegate,function EC(n=null,t){return Tu("startAt","key",t,!0),new vv(n,t)}(t,e)))}startAfter(t=null,e){return(0,B.Dv)("Query.startAfter",0,2,arguments.length),new Pi(this.database,ss(this._delegate,function oh(n,t){return Tu("startAfter","key",t,!0),new Cr(n,t)}(t,e)))}endAt(t=null,e){return(0,B.Dv)("Query.endAt",0,2,arguments.length),new Pi(this.database,ss(this._delegate,function vC(n,t){return Tu("endAt","key",t,!0),new yC(n,t)}(t,e)))}endBefore(t=null,e){return(0,B.Dv)("Query.endBefore",0,2,arguments.length),new Pi(this.database,ss(this._delegate,function qT(n,t){return Tu("endBefore","key",t,!0),new bC(n,t)}(t,e)))}equalTo(t,e){return(0,B.Dv)("Query.equalTo",1,2,arguments.length),new Pi(this.database,ss(this._delegate,function t1(n,t){return Tu("equalTo","key",t,!0),new e1(n,t)}(t,e)))}toString(){return(0,B.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,B.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,B.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Pi))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,B.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,B.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,B.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Gs(this.database,new js(this._delegate._repo,this._delegate._path))}}class Gs extends Pi{constructor(t,e){super(t,new Fr(e._repo,e._path,new Qa,!1)),this.database=t,this._delegate=e}getKey(){return(0,B.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,B.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Gs(this.database,mc(this._delegate,t))}getParent(){(0,B.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Gs(this.database,t):null}getRoot(){return(0,B.Dv)("Reference.root",0,0,arguments.length),new Gs(this.database,this._delegate.root)}set(t,e){(0,B.Dv)("Reference.set",1,2,arguments.length),(0,B.Wj)("Reference.set","onComplete",e,!0);const i=Ff(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,B.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let l=0;l<t.length;++l)r[""+l]=t[l];t=r,Dv("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Us("Reference.update",this._delegate._path),(0,B.Wj)("Reference.update","onComplete",e,!0);const i=hv(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,B.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,B.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function _C(n,t,e){if(Us("setWithPriority",n._path),Er("setWithPriority",t,n._path,!1),sm("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new B.BH;return sv(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),l=>i(l)),r}remove(t){(0,B.Dv)("Reference.remove",0,1,arguments.length),(0,B.Wj)("Reference.remove","onComplete",t,!0);const e=function BI(n){return Us("remove",n._path),Ff(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,B.Dv)("Reference.transaction",1,3,arguments.length),(0,B.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,B.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,B.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function kC(n,t,e){var i;if(n=(0,B.m9)(n),Us("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,l=new B.BH,p=pv(n,()=>{});return function hC(n,t,e,i,r,l){Su(n,"transaction on "+t);const d={path:t,update:e,onComplete:i,status:null,order:yg(),applyLocally:l,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},p=am(n,t,void 0);d.currentInputSnapshot=p;const _=d.update(p.val());if(void 0===_)d.unwatcher(),d.currentOutputSnapshotRaw=null,d.currentOutputSnapshotResolved=null,d.onComplete&&d.onComplete(null,!1,d.currentInputSnapshot);else{nh("transaction failed: Data returned ",_,d.path),d.status=0;const C=tm(n.transactionQueueTree_,t),N=pc(C)||[];let M;N.push(d),nm(C,N),"object"==typeof _&&null!==_&&(0,B.r3)(_,".priority")?(M=(0,B.DV)(_,".priority"),(0,B.hu)(th(M),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):M=(em(n.serverSyncTree_,t)||Mt.EMPTY_NODE).getPriority().val();const x=ih(n),U=Hn(_,M),K=zy(U,p,x);d.currentOutputSnapshotRaw=U,d.currentOutputSnapshotResolved=K,d.currentWriteId=om(n);const re=Vy(n.serverSyncTree_,t,K,d.currentWriteId,d.applyLocally);xr(n.eventQueue_,t,re),xf(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(_,C,N)=>{let M=null;_?l.reject(_):(M=new gc(N,new js(n._repo,n._path),Nn),l.resolve(new PC(C,M)))},p,r),l.promise}(this._delegate,t,{applyLocally:i}).then(l=>new d1(l.committed,new Nu(this.database,l.snapshot)));return e&&r.then(l=>e(null,l.committed,l.snapshot),l=>e(l,!1,null)),r}setPriority(t,e){(0,B.Dv)("Reference.setPriority",1,2,arguments.length),(0,B.Wj)("Reference.setPriority","onComplete",e,!0);const i=function dv(n,t){n=(0,B.m9)(n),Us("setPriority",n._path),sm("setPriority",t,!1);const e=new B.BH;return sv(n._repo,Dn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,B.Dv)("Reference.push",0,2,arguments.length),(0,B.Wj)("Reference.push","onComplete",e,!0);const i=function ZT(n,t){n=(0,B.m9)(n),Us("push",n._path),Er("push",t,n._path,!0);const e=VT(n._repo),i=sT(e),r=mc(n,i),l=mc(n,i);let d;return d=null!=t?Ff(l,t).then(()=>l):Promise.resolve(l),r.then=d.then.bind(d),r.catch=d.then.bind(d,void 0),r}(this._delegate,t),r=i.then(d=>new Gs(this.database,d));e&&r.then(()=>e(null),d=>e(d));const l=new Gs(this.database,i);return l.then=r.then.bind(r),l.catch=r.catch.bind(r,void 0),l}onDisconnect(){return Us("Reference.onDisconnect",this._delegate._path),new u1(new mC(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class gm{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:NC,forceLongPolling:Cv}}useEmulator(t,e,i={}){!function MC(n,t,e,i={}){(n=(0,B.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&is("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let l;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&is('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new kd(kd.OWNER);else if(i.mockUserToken){const d="string"==typeof i.mockUserToken?i.mockUserToken:(0,B.Sg)(i.mockUserToken,n.app.options.projectId);l=new kd(d)}!function Ev(n,t,e,i){n.repoInfo_=new xs(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,l)}(this._delegate,t,e,i)}ref(t){if((0,B.Dv)("database.ref",0,1,arguments.length),t instanceof Gs){const e=dm(this._delegate,t.toString());return new Gs(this,e)}{const e=uv(this._delegate,t);return new Gs(this,e)}}refFromURL(t){(0,B.Dv)("database.refFromURL",1,1,arguments.length);const i=dm(this._delegate,t);return new Gs(this,i)}goOffline(){return(0,B.Dv)("database.goOffline",0,0,arguments.length),function HI(n){(n=(0,B.m9)(n))._checkNotDeleted("goOffline"),dC(n._repo)}(this._delegate)}goOnline(){return(0,B.Dv)("database.goOnline",0,0,arguments.length),function s1(n){(n=(0,B.m9)(n))._checkNotDeleted("goOnline"),function kf(n){n.persistentConnection_&&n.persistentConnection_.resume(nC)}(n._repo)}(this._delegate)}}gm.ServerValue={TIMESTAMP:function RC(){return OC}(),increment:n=>function l1(n){return{".sv":{increment:n}}}(n)};var WI=Object.freeze({__proto__:null,initStandalone:function GI({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:l=!1}){Uw(e);const d=new Od.zt("auth-internal",new Od.H0("database-standalone"));return d.setComponent(new Od.wA("auth-internal",()=>i,"PRIVATE")),{instance:new gm(n1(n,d,void 0,t,l),n),namespace:r}}});const zI=gm.ServerValue;!function ZI(n){n.INTERNAL.registerComponent(new Od.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new gm(r,i)},"PUBLIC").setServiceProps({Reference:Gs,Query:Pi,Database:gm,DataSnapshot:Nu,enableLogging:o1,INTERNAL:WI,ServerValue:zI}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.9")}(AI.Z);var wv=F(5363),qI=F(6063);class mm extends un.x{constructor(t=1/0,e=1/0,i=qI.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:l,_windowTime:d}=this;e||(i.push(t),!r&&i.push(l.now()+d)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,l=r.slice();for(let d=0;d<l.length&&!t.closed;d+=i?1:2)t.next(l[d]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,l=(r?1:2)*t;if(t<1/0&&l<i.length&&i.splice(0,i.length-l),!r){const d=e.now();let p=0;for(let _=1;_<i.length&&i[_]<=d;_+=2)p=_;p&&i.splice(0,p+1)}}}function h1(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,x_.B)({connector:()=>new mm(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Tv(n,t){return(0,Wi.m)(t)?An(()=>n,t):An(()=>n)}var lh=F(9468);F(5867);const HC=new Map,eA={activated:!1,tokenObservers:[]},m1={initialized:!1,enabled:!1};function Ci(n){return HC.get(n)||eA}function os(n,t){HC.set(n,t)}function Nv(){return m1}class Ov{constructor(t,e,i,r,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=r,r>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Rd.Z)(function*(){e.stop();try{e.pending=new B.BH,yield function b1(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new B.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const qi=new B.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Rv(n){if(!Ci(n).activated)throw qi.create("use-before-activation",{appName:n.name})}function _m(n,t){return kv.apply(this,arguments)}function kv(){return(kv=(0,Rd.Z)(function*({url:n,body:t},e){var i,r;const l={"Content-Type":"application/json"},d=e.getImmediate({optional:!0});if(d){const U=yield d.getHeartbeatsHeader();U&&(l["X-Firebase-Client"]=U)}const p={method:"POST",body:JSON.stringify(t),headers:l};let _,C;try{_=yield fetch(n,p)}catch(U){throw qi.create("fetch-network-error",{originalErrorMessage:null===(i=U)||void 0===i?void 0:i.message})}if(200!==_.status)throw qi.create("fetch-status-error",{httpStatus:_.status});try{C=yield _.json()}catch(U){throw qi.create("fetch-parse-error",{originalErrorMessage:null===(r=U)||void 0===r?void 0:r.message})}const N=C.ttl.match(/^([\d.]+)(s)$/);if(!N||!N[2]||isNaN(Number(N[1])))throw qi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${C.ttl}`});const M=1e3*Number(N[1]),x=Date.now();return{token:C.token,expireTimeMillis:x+M,issuedAtTimeMillis:x}})).apply(this,arguments)}function xv(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Mu="firebase-app-check-store";let ym=null;function D1(){return ym||(ym=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var l;t(qi.create("storage-open",{originalErrorMessage:null===(l=r.target.error)||void 0===l?void 0:l.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Mu,{keyPath:"compositeKey"})}}catch(i){t(qi.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),ym)}function GC(){return(GC=(0,Rd.Z)(function*(n,t){const i=(yield D1()).transaction(Mu,"readwrite"),l=i.objectStore(Mu).put({compositeKey:n,value:t});return new Promise((d,p)=>{l.onsuccess=_=>{d()},i.onerror=_=>{var C;p(qi.create("storage-set",{originalErrorMessage:null===(C=_.target.error)||void 0===C?void 0:C.message}))}})})).apply(this,arguments)}const vm=new L_.Yd("@firebase/app-check");function Em(n,t){return(0,B.hl)()?function T1(n,t){return function Fv(n,t){return GC.apply(this,arguments)}(function Vv(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{vm.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Hv(){return Nv().enabled}function Gf(){return ch.apply(this,arguments)}function ch(){return(ch=(0,Rd.Z)(function*(){const n=Nv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const A1={error:"UNKNOWN_ERROR"};function ZC(n){return B.US.encodeString(JSON.stringify(n),!1)}function Wf(n){return jv.apply(this,arguments)}function jv(){return(jv=(0,Rd.Z)(function*(n,t=!1){const e=n.app;Rv(e);const i=Ci(e);let l,r=i.token;if(r&&!uh(r)&&(os(e,Object.assign(Object.assign({},i),{token:void 0})),r=void 0),!r){const _=yield i.cachedTokenPromise;_&&(uh(_)?r=_:yield Em(e,void 0))}if(!t&&r&&uh(r))return{token:r.token};let p,d=!1;if(Hv()){i.exchangeTokenPromise||(i.exchangeTokenPromise=_m(xv(e,yield Gf()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),d=!0);const _=yield i.exchangeTokenPromise;return yield Em(e,_),os(e,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),d=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?vm.warn(_.message):vm.error(_),l=_}return r?l?p=uh(r)?{token:r.token,internalError:l}:JC(l):(p={token:r.token},os(e,Object.assign(Object.assign({},i),{token:r})),yield Em(e,r)):p=JC(l),d&&YC(e,p),p})).apply(this,arguments)}function qC(n,t){const e=Ci(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),os(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function N1(n){const{app:t}=n,e=Ci(t);let i=e.tokenRefresher;i||(i=function KC(n){const{app:t}=n;return new Ov((0,Rd.Z)(function*(){let i;if(i=Ci(t).token?yield Wf(n,!0):yield Wf(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Ci(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),os(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function YC(n,t){const e=Ci(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function uh(n){return n.expireTimeMillis-Date.now()>0}function JC(n){return{token:ZC(A1),error:n}}class tA{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Ci(this.app);for(const e of t)qC(this.app,e.next);return Promise.resolve()}}const qv="app-check-internal";!function eD(){(0,Pd._registerComponent)(new Od.wA("app-check",n=>function nA(n,t){return new tA(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(qv).initialize()})),(0,Pd._registerComponent)(new Od.wA(qv,n=>function iA(n){return{getToken:t=>Wf(n,t),addTokenListener:t=>function $v(n,t,e,i){const{app:r}=n,l=Ci(r),d={next:e,error:i,type:t};if(os(r,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&uh(l.token)){const p=l.token;Promise.resolve().then(()=>{e({token:p.token}),N1(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>N1(n))}(n,"INTERNAL",t),removeTokenListener:t=>qC(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Pd.registerVersion)("@firebase/app-check","0.5.15")}();class Tm{constructor(){return(0,ns.vb)("app-check")}}typeof window<"u"&&window;var fA=F(127);const H1=new c.OlP("angularfire2.auth.use-emulator"),j1=new c.OlP("angularfire2.auth.settings"),$1=new c.OlP("angularfire2.auth.tenant-id"),G1=new c.OlP("angularfire2.auth.langugage-code"),rD=new c.OlP("angularfire2.auth.use-device-language"),W1=new c.OlP("angularfire.auth.persistence"),s=(n,t,e,i,r,l,d,p)=>(0,Rs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=t.runOutsideAngular(()=>n.auth());if(e&&_.useEmulator(...e),i&&(_.tenantId=i),_.languageCode=r,l&&_.useDeviceLanguage(),d)for(const[C,N]of Object.entries(d))_.settings[C]=N;return p&&_.setPersistence(p),_},[e,i,r,l,d,p]);let o=(()=>{class n{constructor(e,i,r,l,d,p,_,C,N,M,x,U){const K=new un.x,re=Je(void 0).pipe((0,wv.Q)(d.outsideAngular),An(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9545)))),(0,We.U)(()=>(0,Rs.on)(e,l,i)),(0,We.U)(Ee=>s(Ee,l,p,C,N,M,_,x)),h1({bufferSize:1,refCount:!1}));if(function vi(n){return"server"===n}(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Je(null);else{re.pipe(oe()).subscribe();const Re=re.pipe(An(ze=>ze.getRedirectResult().then(yt=>yt,()=>null)),ns.iC,h1({bufferSize:1,refCount:!1})),Ve=re.pipe(An(ze=>new vn.y(yt=>({unsubscribe:l.runOutsideAngular(()=>ze.onAuthStateChanged(St=>yt.next(St),St=>yt.error(St),()=>yt.complete()))})))),dt=re.pipe(An(ze=>new vn.y(yt=>({unsubscribe:l.runOutsideAngular(()=>ze.onIdTokenChanged(St=>yt.next(St),St=>yt.error(St),()=>yt.complete()))}))));this.authState=Re.pipe(Tv(Ve),(0,lh.R)(d.outsideAngular),(0,wv.Q)(d.insideAngular)),this.user=Re.pipe(Tv(dt),(0,lh.R)(d.outsideAngular),(0,wv.Q)(d.insideAngular)),this.idToken=this.user.pipe(An(ze=>ze?(0,fn.D)(ze.getIdToken()):Je(null))),this.idTokenResult=this.user.pipe(An(ze=>ze?(0,fn.D)(ze.getIdTokenResult()):Je(null))),this.credential=(0,k_.T)(Re,K,this.authState.pipe(w(ze=>!ze))).pipe((0,We.U)(ze=>ze?.user?ze:null),(0,lh.R)(d.outsideAngular),(0,wv.Q)(d.insideAngular))}return(0,Rs.pX)(this,re,l,{spy:{apply:(Ee,Re,Ve)=>{(Ee.startsWith("signIn")||Ee.startsWith("createUser"))&&Ve.then(dt=>K.next(dt))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Rs.Dh),c.LFG(Rs.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(ns.HU),c.LFG(H1,8),c.LFG(j1,8),c.LFG($1,8),c.LFG(G1,8),c.LFG(rD,8),c.LFG(W1,8),c.LFG(Tm,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function g(n){return null==n}function v(n){return"function"==typeof n.set}function E(n,t){return v(t)?t:n.ref(t)}function D(n,t){if(function u(n){return"string"==typeof n}(n))return t.stringCase();if(v(n))return t.firebaseCase();if(function h(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function S(n,t,e="on",i=mg.z){return new vn.y(r=>{let l=null;return l=n[e](t,(d,p)=>{i.schedule(()=>{r.next({snapshot:d,prevKey:p})}),"once"===e&&i.schedule(()=>r.complete())},d=>{i.schedule(()=>r.error(d))}),"on"===e?{unsubscribe(){null!=l&&n.off(t,l)}}:{unsubscribe(){}}}).pipe((0,We.U)(r=>{const{snapshot:l,prevKey:d}=r;let p=null;return l.exists()&&(p=l.key),{type:t,payload:l,prevKey:d,key:p}}),(0,x_.B)())}function L(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function ie(n,t){const{payload:e,prevKey:i,key:r}=t,l=L(n,r),d=function z(n,t){if(g(t))return 0;{const e=L(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let p=null;t.payload.forEach(_=>{const C={payload:_,type:"value",prevKey:p,key:_.key};return p=_.key,n=[...n,C],!1})}return n;case"child_added":if(l>-1){const p=n[l-1];(p&&p.key||null)!==i&&(n=n.filter(_=>_.payload.key!==e.key)).splice(d,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(d,0,t)}return n;case"child_removed":return n.filter(p=>p.payload.key!==e.key);case"child_changed":return n.map(p=>p.payload.key===r?t:p);case"child_moved":if(l>-1){const p=n.splice(l,1)[0];return(n=n.slice()).splice(d,0,p),n}return n;default:return n}}function ve(n){return(g(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function xe(n,t,e){return function R(n,t,e){return S(n,"value","once",e).pipe(An(i=>{const r=[Je(i)];return t.forEach(l=>r.push(S(n,l,"on",e))),(0,k_.T)(...r).pipe(At(ie,[]))}),function ef(n,t=Yr.y){return n=n??II,(0,Un.e)((e,i)=>{let r,l=!0;e.subscribe((0,an.x)(i,d=>{const p=t(d);(l||!n(r,p))&&(l=!1,r=p,i.next(d))}))})}())}(n,t=ve(t),e)}function Ge(n,t,e){const i=(t=ve(t)).map(r=>S(n,r,"on",e));return(0,k_.T)(...i)}function Ct(n,t){return function(i,r){return D(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function ln(n){return function(e){return e?D(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function vc(n,t){return function(){return S(n,"value","on",t)}}const Qv=new c.OlP("angularfire2.realtimeDatabaseURL"),Xv=new c.OlP("angularfire2.database.use-emulator");let Sm=(()=>{class n{constructor(e,i,r,l,d,p,_,C,N,M,x,U,K,re,Ee){this.schedulers=p;const Re=_,Ve=(0,Rs.on)(e,d,i);C&&s(Ve,d,N,x,U,K,M,re),this.database=(0,Rs.cc)(`${Ve.name}.database.${r}`,"AngularFireDatabase",Ve.name,()=>{const dt=d.runOutsideAngular(()=>Ve.database(r||void 0));return Re&&dt.useEmulator(...Re),dt},[Re])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>E(this.database,e));let l=r;return i&&(l=i(r)),function jn(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:Ct(i,"update"),set:Ct(i,"set"),push:r=>i.push(r),remove:ln(i),snapshotChanges:r=>xe(n,r,e).pipe(ns.iC),stateChanges:r=>Ge(n,r,e).pipe(ns.iC),auditTrail:r=>function it(n,t,e){return function Ne(n,t,e){return function gt(n,t){return S(n,"value","on",t).pipe((0,We.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(F_(t),(0,We.U)(([r,l])=>{const d=r.lastKeyToLoad,p=l.map(_=>_.key);return{actions:l,lastKeyToLoad:d,loadedKeys:p}}),function Tb(n){return(0,Un.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,an.x)(e,l=>(i||(i=!n(l,r++)))&&e.next(l)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,We.U)(r=>r.actions))}(n,Ge(n,t).pipe(At((r,l)=>[...r,l],[])),e)}(n,r,e).pipe(ns.iC),valueChanges:(r,l)=>xe(n,r,e).pipe((0,We.U)(p=>p.map(_=>l&&l.idField?Object.assign(Object.assign({},_.payload.val()),{[l.idField]:_.key}):_.payload.val())),ns.iC)}}(l,this)}object(e){return function Jv(n,t){return{query:n,snapshotChanges:()=>vc(n,t.schedulers.outsideAngular)().pipe(ns.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>vc(n,t.schedulers.outsideAngular)().pipe(ns.iC,(0,We.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>E(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Rs.Dh),c.LFG(Rs.xv,8),c.LFG(Qv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(ns.HU),c.LFG(Xv,8),c.LFG(o,8),c.LFG(H1,8),c.LFG(j1,8),c.LFG($1,8),c.LFG(G1,8),c.LFG(rD,8),c.LFG(W1,8),c.LFG(Tm,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),e0=(()=>{class n{constructor(){fA.Z.registerVersion("angularfire",ns.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Sm]}),n})(),Kf=(()=>{class n{constructor(e,i){this.db=e,this.http=i,this.dbPath="/sales",this.url=Xl_databaseURL+"sales.json/",this.salesRef=e.list(this.dbPath)}getAll(){return this.http.get(this.url)}create(e){return this.http.post(this.url,e)}update(e,i){return this.http.put(this.url,+e,i)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Sm),c.LFG(Ad))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const t0=["app-sale-item",""];let n0=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["","app-sale-item",""]],inputs:{sale:"sale"},attrs:t0,decls:17,vars:8,consts:[[1,"center"],["alt","",1,"center",2,"max-height","40px",3,"src"]],template:function(e,i){1&e&&(c.TgZ(0,"td",0),c._uU(1),c.qZA(),c.TgZ(2,"td"),c._UZ(3,"img",1),c.qZA(),c.TgZ(4,"td",0),c._uU(5),c.qZA(),c.TgZ(6,"td",0),c._uU(7),c.qZA(),c.TgZ(8,"td",0),c._uU(9),c.qZA(),c.TgZ(10,"td",0),c._uU(11),c.qZA(),c.TgZ(12,"td",0),c._uU(13),c.qZA(),c.TgZ(14,"td",0),c._uU(15),c.qZA(),c._UZ(16,"td")),2&e&&(c.xp6(1),c.Oqu(i.sale.name),c.xp6(2),c.Q6J("src",i.sale.imgPath,c.LSH),c.xp6(2),c.Oqu(i.sale.quantity),c.xp6(2),c.Oqu(i.sale.sellingPrice),c.xp6(2),c.Oqu(i.sale.orderDetails),c.xp6(2),c.Oqu(i.sale.clientName),c.xp6(2),c.Oqu(i.sale.clientAddress),c.xp6(2),c.Oqu(i.sale.phoneNumber))},styles:["@media (max-width: 750px){td[_ngcontent-%COMP%]{font-size:.7rem;font-weight:500}button[_ngcontent-%COMP%]{font-size:.5rem;font-weight:500}}"]}),n})();function r0(n,t){1&n&&c._UZ(0,"tr",11),2&n&&c.Q6J("sale",t.$implicit)}let ER=(()=>{class n{constructor(e,i){this.saleService=e,this.stockService=i}ngOnInit(){this.saleService.getAll().subscribe(e=>{e&&(this.sales=Object.keys(e).map(i=>(e[i].key=i,e[i])))})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Kf),c.Y36(Xo))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-sales"]],decls:30,vars:1,consts:[[1,"d-flex","flex-column"],[1,"container-fluid"],[1,"text-dark","mb-4"],[1,"card","shadow"],[1,"card-header","py-3"],[1,"text-primary","m-0","font-weight-bold"],[1,"card-body"],[1,"table-responsive","table","mt-2"],[1,"table","my-0"],["scope","col"],["app-sale-item","",3,"sale",4,"ngFor","ngForOf"],["app-sale-item","",3,"sale"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),c._uU(3,"Sales"),c.qZA(),c.TgZ(4,"div",3)(5,"div",4)(6,"p",5),c._uU(7,"Sales "),c.qZA()(),c.TgZ(8,"div",6)(9,"div",7)(10,"table",8)(11,"thead")(12,"th",9),c._uU(13,"Product name"),c.qZA(),c.TgZ(14,"th",9),c._uU(15,"image"),c.qZA(),c.TgZ(16,"th",9),c._uU(17,"Qty"),c.qZA(),c.TgZ(18,"th",9),c._uU(19,"Selling price "),c.qZA(),c.TgZ(20,"th",9),c._uU(21,"Order details"),c.qZA(),c.TgZ(22,"th",9),c._uU(23,"Client Name"),c.qZA(),c.TgZ(24,"th",9),c._uU(25,"Client Address "),c.qZA(),c.TgZ(26,"th",9),c._uU(27,"Phone number"),c.qZA()(),c.TgZ(28,"tbody"),c.YNc(29,r0,1,1,"tr",10),c.qZA()()()()()()()),2&e&&(c.xp6(29),c.Q6J("ngForOf",i.sales))},dependencies:[Ui,n0]}),n})();let gA=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Yf=(()=>{class n extends gA{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const bc=new c.OlP("NgValueAccessor"),DR={provide:bc,useExisting:(0,c.Gpc)(()=>Jf),multi:!0},TR=new c.OlP("CompositionEventMode");let Jf=(()=>{class n extends gA{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function wR(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(TR,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&c.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[c._Bn([DR]),c.qOj]}),n})();function dh(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function _A(n){return null!=n&&"number"==typeof n.length}const Lr=new c.OlP("NgValidators"),hh=new c.OlP("NgAsyncValidators"),IR=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ki{static min(t){return function yA(n){return t=>{if(dh(t.value)||dh(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function vA(n){return t=>{if(dh(t.value)||dh(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function bA(n){return dh(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function EA(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function CA(n){return dh(n.value)||IR.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function DA(n){return t=>dh(t.value)||!_A(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function wA(n){return t=>_A(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function TA(n){if(!n)return sD;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(dh(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return OA(t)}static composeAsync(t){return RA(t)}}function sD(n){return null}function SA(n){return null!=n}function IA(n){return(0,c.QGY)(n)?(0,fn.D)(n):n}function AA(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function NA(n,t){return t.map(e=>e(n))}function MA(n){return n.map(t=>function AR(n){return!n.validate}(t)?t:e=>t.validate(e))}function OA(n){if(!n)return null;const t=n.filter(SA);return 0==t.length?null:function(e){return AA(NA(e,t))}}function z1(n){return null!=n?OA(MA(n)):null}function RA(n){if(!n)return null;const t=n.filter(SA);return 0==t.length?null:function(e){return function pA(...n){const t=(0,Gi.jO)(n),{args:e,keys:i}=Ma(n),r=new vn.y(l=>{const{length:d}=e;if(!d)return void l.complete();const p=new Array(d);let _=d,C=d;for(let N=0;N<d;N++){let M=!1;(0,di.Xf)(e[N]).subscribe((0,an.x)(l,x=>{M||(M=!0,C--),p[N]=x},()=>_--,void 0,()=>{(!_||!M)&&(C||l.next(i?Wo(i,p):p),l.complete())}))}});return t?r.pipe(Go(t)):r}(NA(e,t).map(IA)).pipe((0,We.U)(AA))}}function Z1(n){return null!=n?RA(MA(n)):null}function PA(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function kA(n){return n._rawValidators}function xA(n){return n._rawAsyncValidators}function q1(n){return n?Array.isArray(n)?n:[n]:[]}function oD(n,t){return Array.isArray(n)?n.includes(t):n===t}function FA(n,t){const e=q1(t);return q1(n).forEach(r=>{oD(e,r)||e.push(r)}),e}function LA(n,t){return q1(t).filter(e=>!oD(n,e))}class BA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=z1(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Z1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class cs extends BA{get formDirective(){return null}get path(){return null}}class fh extends BA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class VA{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let s0=(()=>{class n extends VA{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(fh,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[c.qOj]}),n})(),o0=(()=>{class n extends VA{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(cs,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[c.qOj]}),n})();const a0="VALID",lD="INVALID",Im="PENDING",l0="DISABLED";function Q1(n){return(cD(n)?n.validators:n)||null}function HA(n){return Array.isArray(n)?z1(n):n||null}function X1(n,t){return(cD(t)?t.asyncValidators:n)||null}function jA(n){return Array.isArray(n)?Z1(n):n||null}function cD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class WA{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=HA(this._rawValidators),this._composedAsyncValidatorFn=jA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===a0}get invalid(){return this.status===lD}get pending(){return this.status==Im}get disabled(){return this.status===l0}get enabled(){return this.status!==l0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=HA(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=jA(t)}addValidators(t){this.setValidators(FA(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(FA(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(LA(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(LA(t,this._rawAsyncValidators))}hasValidator(t){return oD(this._rawValidators,t)}hasAsyncValidator(t){return oD(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Im,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=l0,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=a0,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===a0||this.status===Im)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?l0:a0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Im,this._hasOwnPendingAsyncValidator=!0;const e=IA(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?l0:this.errors?lD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Im)?Im:this._anyControlsHaveStatus(lD)?lD:a0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){cD(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Qf extends WA{constructor(t,e,i){super(Q1(e),X1(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function GA(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new c.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function $A(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[e])throw new c.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,l)=>{i=e(i,r,l)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function c0(n,t){eS(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function LR(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&zA(n,t)})}(n,t),function VR(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function BR(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&zA(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function FR(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function dD(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),fD(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function hD(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function eS(n,t){const e=kA(n);null!==t.validator?n.setValidators(PA(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=xA(n);null!==t.asyncValidator?n.setAsyncValidators(PA(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();hD(t._rawValidators,r),hD(t._rawAsyncValidators,r)}function fD(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=kA(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(d=>d!==t.validator);l.length!==r.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const r=xA(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(d=>d!==t.asyncValidator);l.length!==r.length&&(e=!0,n.setAsyncValidators(l))}}}const i=()=>{};return hD(t._rawValidators,i),hD(t._rawAsyncValidators,i),e}function zA(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function YA(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function JA(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const xi=class extends WA{constructor(t=null,e,i){super(Q1(e),X1(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cD(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=JA(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){YA(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){YA(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){JA(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let d0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const qR={provide:bc,useExisting:(0,c.Gpc)(()=>h0),multi:!0};let h0=(()=>{class n extends Yf{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&c.NdJ("input",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},features:[c._Bn([qR]),c.qOj]}),n})(),nN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const rS=new c.OlP("NgModelWithFormControlWarning"),XR={provide:cs,useExisting:(0,c.Gpc)(()=>Xf)};let Xf=(()=>{class n extends cs{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return c0(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){dD(e.control||null,e,!1),function $R(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function KA(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(dD(i||null,e),(n=>n instanceof xi)(r)&&(c0(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function ZA(n,t){eS(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function UR(n,t){return fD(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){eS(this.form,this),this._oldForm&&fD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Lr,10),c.Y36(hh,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&c.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([XR]),c.qOj,c.TTD]}),n})();const nP={provide:fh,useExisting:(0,c.Gpc)(()=>Am)};let Am=(()=>{class n extends fh{constructor(e,i,r,l,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function nS(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(l=>{l.constructor===Jf?e=l:function jR(n){return Object.getPrototypeOf(n.constructor)===Yf}(l)?i=l:r=l}),r||i||e||null}(0,l)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function tS(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function uD(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(c.Y36(cs,13),c.Y36(Lr,10),c.Y36(hh,10),c.Y36(bc,10),c.Y36(rS,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([nP]),c.qOj,c.TTD]}),n})(),yN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[nN]}),n})(),vN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[yN]}),n})(),bN=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:rS,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[yN]}),n})();const yP=["formData"];let vP=(()=>{class n{constructor(e,i,r){this.stockService=e,this.router=i,this.articleService=r,this.articleForm=new Qf({name:new xi("",[ki.required]),quantity:new xi("",[ki.required]),pPrice:new xi("",[ki.required]),sPrice:new xi("",[ki.required]),imgPath:new xi("",[ki.required])}),this.article=new Td}ngOnInit(){}onArticleAdded(){}onArticleAddCancel(){this.router.navigate(["stock"])}onSubmit(e){let i=1;void 0!==this.stockService.getStock()&&(i=this.stockService.getStock().length+1),this.article.id=i.toString();const r=this.articleForm.value.name,l=Number(this.articleForm.value.quantity),d=Number(this.articleForm.value.pPrice),p=Number(this.articleForm.value.sPrice),C=new Td("1",r,l,d,p,this.articleForm.value.imgPath);this.articleService.create(C).subscribe(()=>{this.router.navigate(["stock"])})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Xo),c.Y36(En),c.Y36(Ka))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-article-add"]],viewQuery:function(e,i){if(1&e&&c.Gf(yP,5),2&e){let r;c.iGM(r=c.CRH())&&(i.formDataRef=r.first)}},decls:60,vars:2,consts:[[1,"d-flex","flex-column"],[1,"container-fluid"],[1,"text-dark","mb-4"],[1,"card","shadow"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"needs-validation",3,"formGroup","ngSubmit"],["formData",""],[1,"form-row","my-4"],[1,"col"],[1,"form-group"],["for","name"],["formControlName","name","type","text","id","name",1,"form-control"],["for","quantity"],["type","number","id","quantity","formControlName","quantity",1,"form-control"],["for","p_price",1,""],["type","number","id","purchasePrice","formControlName","pPrice",1,"form-control"],["for","s_price"],["type","number","id","sellingPrice","formControlName","sPrice",1,"form-control"],["sPriceInput",""],["for","imgPath"],["type","text","type","text","id","imgPath","formControlName","imgPath",1,"form-control"],["for",""],["type","submit","name","submit",1,"btn","btn-primary","float-end",3,"disabled"],[1,"btn","btn-secondary","float-end","mx-2",3,"click"],[1,"card-footer","text-muted"]],template:function(e,i){1&e&&(c.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"h3",2),c._uU(4,"Add Product"),c.qZA(),c.TgZ(5,"div",3)(6,"div",4)(7,"div",5),c._uU(8," Header "),c.qZA(),c.TgZ(9,"div",6)(10,"form",7,8),c.NdJ("ngSubmit",function(l){return i.onSubmit(l)}),c.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"label",12)(16,"strong"),c._uU(17," Article Name"),c.qZA(),c._UZ(18,"br"),c.qZA(),c._UZ(19,"input",13),c.qZA()()(),c.TgZ(20,"div",9)(21,"div",10)(22,"div",11)(23,"label",14)(24,"strong"),c._uU(25,"Quantity"),c.qZA(),c._UZ(26,"br"),c.qZA(),c._UZ(27,"input",15),c.qZA()()(),c.TgZ(28,"div",9)(29,"div",10)(30,"div",11)(31,"label",16)(32,"strong"),c._uU(33,"Purchase Price"),c.qZA()(),c._UZ(34,"input",17),c.qZA()()(),c.TgZ(35,"div",9)(36,"div",10)(37,"div",11)(38,"label",18)(39,"strong"),c._uU(40,"Selling Price"),c.qZA()(),c._UZ(41,"input",19,20),c.qZA()()(),c.TgZ(43,"div",9)(44,"div",10)(45,"div",11)(46,"label",21)(47,"strong"),c._uU(48,"Image link"),c.qZA()(),c._UZ(49,"input",22),c.qZA()()(),c.TgZ(50,"div",9)(51,"div",10)(52,"div",11),c._UZ(53,"label",23),c.TgZ(54,"button",24),c._uU(55," Add Product"),c.qZA(),c.TgZ(56,"button",25),c.NdJ("click",function(){return i.onArticleAddCancel()}),c._uU(57," Cancel"),c.qZA()()()()()(),c.TgZ(58,"div",26),c._uU(59," Footer "),c.qZA()()()()()()),2&e&&(c.xp6(10),c.Q6J("formGroup",i.articleForm),c.xp6(44),c.Q6J("disabled",!i.articleForm.valid))},dependencies:[d0,Jf,h0,s0,o0,Xf,Am]}),n})();class bP{constructor(t,e,i,r,l,d,p,_,C){this.product_name=t,this.clientName=e,this.quantity=i,this.product_imgPath=r,this.sellingPrice=l,this.address=d,this.details=p,this.phoneNumber=_,this.date=C}}let pD=(()=>{class n{constructor(e){this.http=e,this.url=Xl_databaseURL+"orders.json/"}getAll(){return this.http.get(this.url)}create(e){return this.http.post(this.url,e)}update(e,i){return this.http.put(this.url+e,i)}delete(e){return this.http.delete(Xl_databaseURL+"orders/"+e+".json")}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ad))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EP=(()=>{class n{constructor(e,i,r){this.orderService=e,this.stockService=i,this.router=r,this.orderForm=new Qf({name:new xi("",[ki.required]),sellingPrice:new xi(0,[ki.required]),quantity:new xi(0,[ki.required]),details:new xi("",[ki.required]),address:new xi("",[ki.required]),phoneNumber:new xi("",[ki.required,ki.pattern("^[0-9]*$")])})}ngOnInit(){}onSubmit(e){e.preventDefault(),localStorage.getItem("currentArticleId");const r=JSON.parse(localStorage.getItem("currentArticle")),U=r.key,K=new bP(r.name,this.orderForm.value.name,this.orderForm.value.quantity,r.imgPath,this.orderForm.value.sellingPrice,this.orderForm.value.address,this.orderForm.value.details,this.orderForm.value.phoneNumber,(new Date).toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric"}));K.articleKey=U,this.stockService.addOrder(K),this.orderService.create(K).subscribe(()=>{this.router.navigate(["orders"])})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(pD),c.Y36(Xo),c.Y36(En))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-stock-order-add"]],decls:67,vars:2,consts:[[1,"d-flex","flex-column"],[1,"container-fluid"],[1,"text-dark","mb-4"],[1,"card","shadow"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"needs-validation",3,"formGroup","ngSubmit"],["formData",""],[1,"form-row","my-4"],[1,"col"],[1,"form-group"],["for","name"],["formControlName","name","type","text","id","name",1,"form-control"],["for","sellingPrice"],["formControlName","sellingPrice","type","text","id","sellingPrice",1,"form-control"],["for","quantity"],["type","number","id","quantity","formControlName","quantity",1,"form-control"],["for","details",1,""],["type","string","id","details","formControlName","details",1,"form-control"],["for","address"],["type","string","id","address","formControlName","address",1,"form-control"],["for","phoneNumber"],["type","tel","id","imgPath","formControlName","phoneNumber",1,"form-control"],["for",""],["type","submit","name","submit",1,"btn","btn-primary","float-end",3,"disabled"],[1,"btn","btn-secondary","float-end","mx-2"],[1,"card-footer","text-muted"]],template:function(e,i){1&e&&(c.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"h3",2),c._uU(4,"Add Product"),c.qZA(),c.TgZ(5,"div",3)(6,"div",4)(7,"div",5),c._uU(8," Header "),c.qZA(),c.TgZ(9,"div",6)(10,"form",7,8),c.NdJ("ngSubmit",function(l){return i.onSubmit(l)}),c.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"label",12)(16,"strong"),c._uU(17,"Name"),c.qZA(),c._UZ(18,"br"),c.qZA(),c._UZ(19,"input",13),c.qZA()()(),c.TgZ(20,"div",9)(21,"div",10)(22,"div",11)(23,"label",14)(24,"strong"),c._uU(25,"Selling Price"),c.qZA(),c._UZ(26,"br"),c.qZA(),c._UZ(27,"input",15),c.qZA()()(),c.TgZ(28,"div",9)(29,"div",10)(30,"div",11)(31,"label",16)(32,"strong"),c._uU(33,"Quantity"),c.qZA(),c._UZ(34,"br"),c.qZA(),c._UZ(35,"input",17),c.qZA()()(),c.TgZ(36,"div",9)(37,"div",10)(38,"div",11)(39,"label",18)(40,"strong"),c._uU(41,"Details"),c.qZA()(),c._UZ(42,"input",19),c.qZA()()(),c.TgZ(43,"div",9)(44,"div",10)(45,"div",11)(46,"label",20)(47,"strong"),c._uU(48," Address "),c.qZA()(),c._UZ(49,"input",21),c.qZA()()(),c.TgZ(50,"div",9)(51,"div",10)(52,"div",11)(53,"label",22)(54,"strong"),c._uU(55,"Phone number"),c.qZA()(),c._UZ(56,"input",23),c.qZA()()(),c.TgZ(57,"div",9)(58,"div",10)(59,"div",11),c._UZ(60,"label",24),c.TgZ(61,"button",25),c._uU(62," Add Product"),c.qZA(),c.TgZ(63,"button",26),c._uU(64," Cancel"),c.qZA()()()()()(),c.TgZ(65,"div",27),c._uU(66," Footer "),c.qZA()()()()()()),2&e&&(c.xp6(10),c.Q6J("formGroup",i.orderForm),c.xp6(51),c.Q6J("disabled",!i.orderForm.valid))},dependencies:[d0,Jf,h0,s0,o0,Xf,Am]}),n})();class CP{constructor(t,e,i,r,l,d,p,_){this.name=t,this.quantity=i,this.sellingPrice=r,this.clientName=l,this.clientAddress=d,this.phoneNumber=p,this.imgPath=e,this.orderDetails=_,this.details=_}}const DP=["app-stock-item",""];let wP=(()=>{class n{constructor(e,i,r,l,d){this.stockService=e,this.saleService=i,this.articleService=r,this.orderService=l,this.router=d}ngOnInit(){}confirmOrder(){const e=new CP(this.order.product_name,this.order.product_imgPath,this.order.quantity,this.order.sellingPrice,this.order.clientName,this.order.address,this.order.phoneNumber,this.order.details);this.saleService.create(e).subscribe(()=>{this.articleService.get(this.order.articleKey).subscribe(i=>{const r=new Td(i.id,i.name,i.quantity-1,i.purchasePrice,i.sellingPrice,i.imgPath);this.articleService.update(this.order.articleKey,JSON.stringify(r)).subscribe(l=>console.log(l)),this.stockService.updateArticle(this.order.articleKey,r),this.deleteOrder(),this.router.navigate(["sales"])})})}deleteOrder(){this.orderService.delete(this.order.key).subscribe(()=>{this.stockService.deleteOrder(this.order.key)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Xo),c.Y36(Kf),c.Y36(Ka),c.Y36(pD),c.Y36(En))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","app-stock-item",""]],inputs:{order:"order"},attrs:DP,decls:20,vars:7,consts:[[1,"center"],["alt","",2,"max-height","40px",3,"src"],[1,"d-flex","flex-row","gap-2"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"td",0),c._uU(1),c.qZA(),c.TgZ(2,"td",0),c._uU(3),c.qZA(),c.TgZ(4,"td",0),c._uU(5),c.qZA(),c.TgZ(6,"td",0),c._UZ(7,"img",1),c.qZA(),c.TgZ(8,"td",0),c._uU(9),c.qZA(),c.TgZ(10,"td",0),c._uU(11),c.qZA(),c.TgZ(12,"td",0),c._uU(13),c.qZA(),c.TgZ(14,"td",0)(15,"div",2)(16,"button",3),c.NdJ("click",function(){return i.deleteOrder()}),c._uU(17,"Delete"),c.qZA(),c.TgZ(18,"button",4),c.NdJ("click",function(){return i.confirmOrder()}),c._uU(19,"Confirm"),c.qZA()()()),2&e&&(c.xp6(1),c.Oqu(i.order.clientName),c.xp6(2),c.Oqu(i.order.address),c.xp6(2),c.Oqu(i.order.sellingPrice),c.xp6(2),c.Q6J("src",i.order.product_imgPath,c.LSH),c.xp6(2),c.Oqu(i.order.quantity),c.xp6(2),c.Oqu(i.order.details),c.xp6(2),c.hij("",i.order.date,"\n"))},styles:["@media (max-width: 750px){td[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500}button[_ngcontent-%COMP%]{font-size:.5rem;font-weight:500}}"]}),n})();function TP(n,t){1&n&&c._UZ(0,"tr",11),2&n&&c.Q6J("order",t.$implicit)}let SP=(()=>{class n{constructor(e,i){this.orderService=e,this.stockService=i}ngOnInit(){this.stockService.orderChanged$.subscribe(e=>{this.orders=this.stockService.getOrders()}),this.orderService.getAll().subscribe(e=>{e&&(this.stockService.setOrders(Object.keys(e).map(i=>(e[i].key=i,e[i]))),this.orders=this.stockService.getOrders())})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(pD),c.Y36(Xo))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-stock-orders"]],decls:30,vars:1,consts:[[1,"d-flex","flex-column"],[1,"container-fluid"],[1,"text-dark","mb-4"],[1,"card","shadow"],[1,"card-header","py-3"],[1,"text-primary","m-0","font-weight-bold"],[1,"card-body"],[1,"table-responsive","table","mt-2"],[1,"table","my-0"],["scope","col"],["app-stock-item","",3,"order",4,"ngFor","ngForOf"],["app-stock-item","",3,"order"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),c._uU(3,"Orders"),c.qZA(),c.TgZ(4,"div",3)(5,"div",4)(6,"p",5),c._uU(7,"Orders "),c.qZA()(),c.TgZ(8,"div",6)(9,"div",7)(10,"table",8)(11,"thead")(12,"th",9),c._uU(13,"Name"),c.qZA(),c.TgZ(14,"th",9),c._uU(15,"Adress"),c.qZA(),c.TgZ(16,"th",9),c._uU(17,"Price "),c.qZA(),c.TgZ(18,"th",9),c._uU(19,"image"),c.qZA(),c.TgZ(20,"th",9),c._uU(21,"Qty"),c.qZA(),c.TgZ(22,"th",9),c._uU(23,"Details"),c.qZA(),c.TgZ(24,"th",9),c._uU(25,"Date "),c.qZA(),c.TgZ(26,"th",9),c._uU(27,"Actions"),c.qZA()(),c.TgZ(28,"tbody"),c.YNc(29,TP,1,1,"tr",10),c.qZA()()()()()()()),2&e&&(c.xp6(29),c.Q6J("ngForOf",i.orders))},dependencies:[Ui,wP]}),n})(),IP=(()=>{class n{constructor(e,i,r){this.saleService=e,this.orderService=i,this.articleService=r,this.soldQuantity=0,this.totalSales=0,this.stockQuantity=0,this.stockValue=0,this.orderNumbers=0}ngOnInit(){this.saleService.getAll().subscribe(e=>{e&&Object.keys(e).map(r=>(e[r].key=r,e[r])).forEach(r=>{this.totalSales+=r.sellingPrice*r.quantity,this.soldQuantity+=r.quantity})}),this.orderService.getAll().subscribe(e=>{if(e){const i=Object.keys(e).map(r=>(e[r].key=r,e[r]));this.orderNumbers=i.length}}),this.articleService.getAll().subscribe(e=>{e&&Object.keys(e).map(r=>(e[r].key=r,e[r])).forEach(r=>{this.stockValue+=r.purchasePrice*r.quantity,this.stockQuantity+=r.quantity})})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Kf),c.Y36(pD),c.Y36(Ka))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:42,vars:7,consts:[[1,"d-flex","flex-column"],[1,"container-fluid"],[1,"text-dark","mb-4"],[1,"card","shadow","w-95","m-auto"],[1,"card-body","text-center"],[1,"d-flex","flex-column","justify-content-around","align-content-center"],[1,"row"],[1,"col","col-xs","col-sm","col-xs"],[1,"card-title","align-baseline"],[1,"col","col-xs","col-sm"],[1,"card-text"],[1,"col","col-sm"],[1,"col","col-sm","col-xs-12"],[1,"col-6","col-sm","col-xs-6"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),c._uU(3,"Summary"),c.qZA(),c.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h1",8),c._uU(10,"Total Sales"),c.qZA()(),c.TgZ(11,"div",9)(12,"h2",10),c._uU(13),c.qZA()()(),c.TgZ(14,"div",6)(15,"div",9)(16,"h1",8),c._uU(17,"Sold items"),c.qZA()(),c.TgZ(18,"div",9)(19,"h2",10),c._uU(20),c.qZA()()(),c.TgZ(21,"div",6)(22,"div",11)(23,"h1",8),c._uU(24,"Inventory value"),c.qZA()(),c.TgZ(25,"div",11)(26,"h2",10),c._uU(27),c.qZA()()(),c.TgZ(28,"div",6)(29,"div",12)(30,"h1",8),c._uU(31,"Remaining quantity"),c.qZA()(),c.TgZ(32,"div",11)(33,"h2",10),c._uU(34),c.qZA()()(),c.TgZ(35,"div",6)(36,"div",13)(37,"h1",8),c._uU(38,"Orders in progress"),c.qZA()(),c.TgZ(39,"div",13)(40,"h2",10),c._uU(41),c.qZA()()()()()()()()),2&e&&(c.xp6(13),c.Oqu(i.totalSales),c.xp6(7),c.Oqu(i.soldQuantity),c.xp6(7),c.Oqu(i.stockValue),c.xp6(7),c.Oqu(i.stockQuantity),c.xp6(6),c.ekj("text-bg-danger",i.orderNumbers>0),c.xp6(1),c.Oqu(i.orderNumbers))},styles:["@media (max-width: 375px){h1[_ngcontent-%COMP%]{font-size:1rem}h2[_ngcontent-%COMP%]{font-size:.7rem}}"]}),n})();class EN{constructor(t,e,i,r){this.email=t,this.id=e,this._token=i,this._tokenExpirationDate=r}get token(){return this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}let f0=(()=>{class n{constructor(e,i){this.afAuth=e,this.router=i,this.user=new Wt(null)}handleAuthentication(e,i,r,l,d){const p=new Date((new Date).getTime()+d),_=new EN(e,r,l,p);this.user.next(_),this.autoLogout(d),localStorage.setItem("userData",JSON.stringify(_))}login(e,i){return(0,fn.D)(this.afAuth.signInWithEmailAndPassword(e,i)).pipe(this.handleError(),(0,Oe.b)(r=>{this.handleAuthentication(r.user._delegate.email,i,r.user._delegate.uid,r.user._delegate.refreshToken,r.user._delegate.stsTokenManager.expirationTime)}))}SignUp(e,i){return(0,fn.D)(this.afAuth.createUserWithEmailAndPassword(e,i)).pipe(this.handleError(),(0,Oe.b)(r=>{this.handleAuthentication(r.user._delegate.email,i,r.user._delegate.uid,r.user._delegate.refreshToken,r.user._delegate.stsTokenManager.expirationTime)}))}handleError(){return nt(e=>{let i="An unknow error occurred!";return e.error&&e.error.error?("EMAIL_EXISTS"===e.error.error.message&&(i="This email already exist"),hi(i)):hi(i)})}autoLogin(){const e=JSON.parse(localStorage.getItem("userData"));if(!e)return;const i=new EN(e.email,e.id,e._token,new Date(e._tokenExpirationDate));this.user.next(i);const r=new Date(e._tokenExpirationDate).getTime()-(new Date).getTime();this.autoLogout(r)}logout(){this.user&&(this.user.next(null),this.router.navigate(["auth"]),localStorage.removeItem("userData"),this.autoExpirationTimer&&clearTimeout(this.autoExpirationTimer),this.autoExpirationTimer=null)}autoLogout(e){this.autoExpirationTimer=setTimeout(this.logout,e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(o),c.LFG(En))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AP(n,t){if(1&n&&(c.TgZ(0,"div",16)(1,"strong"),c._uU(2),c.qZA()()),2&n){const e=c.oxw();c.xp6(2),c.Oqu(e.error)}}let NP=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.isLoginMode=!0,this.authObs=new vn.y,this.authForm=new Qf({email:new xi("",[ki.required]),password:new xi("",[ki.required,ki.minLength(6)])})}ngOnInit(){}onSwithMode(){this.isLoginMode=!this.isLoginMode}onSubmit(){this.authObs=this.authService.login(this.authForm.value.email,this.authForm.value.password),this.authObs.subscribe(()=>{this.router.navigate(["home"])},r=>{this.error=r})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(f0),c.Y36(En))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-auth-page"]],decls:23,vars:3,consts:[[1,"container"],[1,"card","m-auto"],[1,"card-header","text-center"],[1,"card-body","text-center"],[1,"row"],[1,"col-xs-12","col-md-6"],["class","alert alert-danger","role","alert",4,"ngIf"],["action","",3,"formGroup","ngSubmit"],["authFormRef",""],[1,"form-group"],["for","email"],["type","email","formControlName","email","id","email",1,"form-control"],["for","password"],["type","password","formControlName","password","id","password",1,"form-control"],[1,"col"],["type","submit",1,"btn","btn-primary",3,"disabled"],["role","alert",1,"alert","alert-danger"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c._uU(3," Header "),c.qZA(),c.TgZ(4,"div",3)(5,"div",4)(6,"div",5),c.YNc(7,AP,3,1,"div",6),c.TgZ(8,"form",7,8),c.NdJ("ngSubmit",function(){return i.onSubmit()}),c.TgZ(10,"div",9)(11,"label",10),c._uU(12,"E-mail"),c.qZA(),c._UZ(13,"input",11),c.qZA(),c.TgZ(14,"div",9)(15,"label",12),c._uU(16,"Password"),c.qZA(),c._UZ(17,"input",13),c.qZA(),c.TgZ(18,"div",14)(19,"div")(20,"button",15),c._uU(21,"Sign In"),c.qZA(),c._uU(22," | "),c.qZA()()()()()()()()),2&e&&(c.xp6(7),c.Q6J("ngIf",i.error),c.xp6(1),c.Q6J("formGroup",i.authForm),c.xp6(12),c.Q6J("disabled",i.authForm.invalid))},dependencies:[Sn,d0,Jf,s0,o0,Xf,Am]}),n})(),tp=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return this.authService.user.pipe(xt(1),(0,We.U)(r=>!!r||this.router.createUrlTree(["auth"])))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(f0),c.LFG(En))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MP=[{path:"home",canActivate:[tp],component:IP},{path:"stock",canActivate:[tp],component:Lw},{path:"sales",canActivate:[tp],component:ER},{path:"orders",canActivate:[tp],component:SP},{path:"edit-article",canActivate:[tp],component:(()=>{class n{constructor(e,i){this.articleService=e,this.router=i,this.currentArticle=JSON.parse(localStorage.getItem("currentArticle")),this.formEdit=new Qf({name:new xi(this.currentArticle.name,[ki.required]),quantity:new xi(this.currentArticle.quantity,[ki.required]),pPrice:new xi(this.currentArticle.purchasePrice,[ki.required]),sPrice:new xi(this.currentArticle.sellingPrice,[ki.required]),imgPath:new xi(this.currentArticle.imgPath,[ki.required])})}ngOnInit(){}onSubmit(){const e=this.formEdit.value.name,i=Number(this.formEdit.value.quantity),r=Number(this.formEdit.value.pPrice),l=Number(this.formEdit.value.sPrice),p=new Td("1",e,i,r,l,this.formEdit.value.imgPath);this.articleService.update(this.currentArticle.key,JSON.stringify(p)).subscribe(()=>{this.router.navigate(["stock"])})}onEditCancel(){this.router.navigate(["stock"])}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ka),c.Y36(En))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-article-edit"]],decls:59,vars:2,consts:[[1,"d-flex","flex-column"],[1,"container-fluid"],[1,"text-dark","mb-4"],[1,"card","shadow"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"needs-validation",3,"formGroup","ngSubmit"],["formData",""],[1,"form-row","my-4"],[1,"col"],[1,"form-group"],["for","name"],["formControlName","name","type","text","id","name",1,"form-control"],["for","quantity"],["type","number","id","quantity","formControlName","quantity",1,"form-control"],["for","p_price",1,""],["type","number","id","purchasePrice","formControlName","pPrice",1,"form-control"],["for","s_price"],["type","number","id","sellingPrice","formControlName","sPrice",1,"form-control"],["for","imgPath"],["type","text","type","text","id","imgPath","formControlName","imgPath",1,"form-control"],["for",""],["type","submit","name","submit",1,"btn","btn-primary","float-end",3,"disabled"],[1,"btn","btn-secondary","float-end","mx-2",3,"click"],[1,"card-footer","text-muted"]],template:function(e,i){1&e&&(c.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"h3",2),c._uU(4,"Add Product"),c.qZA(),c.TgZ(5,"div",3)(6,"div",4)(7,"div",5),c._uU(8," Header "),c.qZA(),c.TgZ(9,"div",6)(10,"form",7,8),c.NdJ("ngSubmit",function(){return i.onSubmit()}),c.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"label",12)(16,"strong"),c._uU(17," Article Name"),c.qZA(),c._UZ(18,"br"),c.qZA(),c._UZ(19,"input",13),c.qZA()()(),c.TgZ(20,"div",9)(21,"div",10)(22,"div",11)(23,"label",14)(24,"strong"),c._uU(25,"Quantity"),c.qZA(),c._UZ(26,"br"),c.qZA(),c._UZ(27,"input",15),c.qZA()()(),c.TgZ(28,"div",9)(29,"div",10)(30,"div",11)(31,"label",16)(32,"strong"),c._uU(33,"Purchase Price"),c.qZA()(),c._UZ(34,"input",17),c.qZA()()(),c.TgZ(35,"div",9)(36,"div",10)(37,"div",11)(38,"label",18)(39,"strong"),c._uU(40,"Selling Price"),c.qZA()(),c._UZ(41,"input",19),c.qZA()()(),c.TgZ(42,"div",9)(43,"div",10)(44,"div",11)(45,"label",20)(46,"strong"),c._uU(47,"Image link"),c.qZA()(),c._UZ(48,"input",21),c.qZA()()(),c.TgZ(49,"div",9)(50,"div",10)(51,"div",11),c._UZ(52,"label",22),c.TgZ(53,"button",23),c._uU(54," Add Product"),c.qZA(),c.TgZ(55,"button",24),c.NdJ("click",function(){return i.onEditCancel()}),c._uU(56," Cancel"),c.qZA()()()()()(),c.TgZ(57,"div",25),c._uU(58," Footer "),c.qZA()()()()()()),2&e&&(c.xp6(10),c.Q6J("formGroup",i.formEdit),c.xp6(43),c.Q6J("disabled",!i.formEdit.valid))},dependencies:[d0,Jf,h0,s0,o0,Xf,Am]}),n})()},{path:"stock/add-article",canActivate:[tp],component:vP},{path:"stock/add-order",canActivate:[tp],component:EP},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"auth",component:NP}];let OP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[fb.forRoot(MP),fb]}),n})();var RP=F(1144);const PP=["addListener","removeListener"],kP=["addEventListener","removeEventListener"],xP=["on","off"];function us(n,t,e,i){if((0,Wi.m)(e)&&(i=e,e=void 0),i)return us(n,t,e).pipe(Go(i));const[r,l]=function BP(n){return(0,Wi.m)(n.addEventListener)&&(0,Wi.m)(n.removeEventListener)}(n)?kP.map(d=>p=>n[d](t,p,e)):function FP(n){return(0,Wi.m)(n.addListener)&&(0,Wi.m)(n.removeListener)}(n)?PP.map(CN(n,t)):function LP(n){return(0,Wi.m)(n.on)&&(0,Wi.m)(n.off)}(n)?xP.map(CN(n,t)):[];if(!r&&(0,RP.z)(n))return(0,T.z)(d=>us(d,t,e))((0,di.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new vn.y(d=>{const p=(..._)=>d.next(1<_.length?_:_[0]);return r(p),()=>l(p)})}function CN(n,t){return e=>i=>n[e](t,i)}var VP=F(3532);const{isArray:HP}=Array;function DN(n){return 1===n.length&&HP(n[0])?n[0]:n}function gD(...n){const t=(0,Gi.jO)(n),e=DN(n);return e.length?new vn.y(i=>{let r=e.map(()=>[]),l=e.map(()=>!1);i.add(()=>{r=l=null});for(let d=0;!i.closed&&d<e.length;d++)(0,di.Xf)(e[d]).subscribe((0,an.x)(i,p=>{if(r[d].push(p),r.every(_=>_.length)){const _=r.map(C=>C.shift());i.next(t?t(..._):_),r.some((C,N)=>!C.length&&l[N])&&i.complete()}},()=>{l[d]=!0,!r[d].length&&i.complete()}));return()=>{r=l=null}}):_r.E}function Fi(n){return(0,Un.e)((t,e)=>{(0,di.Xf)(n).subscribe((0,an.x)(e,()=>e.complete(),_g.Z)),!e.closed&&t.subscribe(e)})}new vn.y(_g.Z),Math,Math,Math;const nx=["*"],bx=["dialog"];function CS(n){return"string"==typeof n}function rp(n){return null!=n}function Pm(n){return(n||document.body).getBoundingClientRect()}const WN={animation:!0,transitionTimerDelayMs:5},pF=()=>{},{transitionTimerDelayMs:gF}=WN,b0=new Map,ds=(n,t,e,i)=>{let r=i.context||{};const l=b0.get(t);if(l)switch(i.runningTransition){case"continue":return _r.E;case"stop":n.run(()=>l.transition$.complete()),r=Object.assign(l.context,r),b0.delete(t)}const d=e(t,i.animation,r)||pF;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>d()),Je(void 0).pipe(function hF(n){return t=>new vn.y(e=>t.subscribe({next:d=>n.run(()=>e.next(d)),error:d=>n.run(()=>e.error(d)),complete:()=>n.run(()=>e.complete())}))}(n));const p=new un.x,_=new un.x,C=p.pipe(function $P(...n){return t=>gr(t,Je(...n))}(!0));b0.set(t,{transition$:p,complete:()=>{_.next(),_.complete()},context:r});const N=function fF(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const M=us(t,"transitionend").pipe(Fi(C),w(({target:U})=>U===t));(function wN(...n){return 1===(n=DN(n)).length?(0,di.Xf)(n[0]):new vn.y(function jP(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push((0,di.Xf)(n[i]).subscribe((0,an.x)(t,r=>{if(e){for(let l=0;l<e.length;l++)l!==i&&e[l].unsubscribe();e=null}t.next(r)})))}}(n))})(function uS(n=0,t,e=mg.P){let i=-1;return null!=t&&((0,VP.K)(t)?e=t:i=t),new vn.y(r=>{let l=function UP(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;l<0&&(l=0);let d=0;return e.schedule(function(){r.closed||(r.next(d++),0<=i?this.schedule(void 0,i):r.complete())},l)})}(N+gF).pipe(Fi(C)),M,_).pipe(Fi(C)).subscribe(()=>{b0.delete(t),n.run(()=>{d(),p.next(),p.complete()})})}),p.asObservable()};let ED=(()=>{class n{constructor(){this.animation=WN.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii]}),n})(),QN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii]}),n})(),tM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii]}),n})(),nM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var Ki=(()=>{return(n=Ki||(Ki={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",Ki;var n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const rM=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function sM(n){const t=Array.from(n.querySelectorAll(rM)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let fM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii,vN]}),n})(),NS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),mM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();class lp{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let rL=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(xt(1)).subscribe(()=>{ds(this._zone,this._el.nativeElement,(e,i)=>{i&&Pm(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ds(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(c.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),c.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class _M{close(t){}dismiss(t){}}class sL{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new un.x,this._dismissed=new un.x,this._hidden=new un.x,t.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,d)=>{this._resolve=l,this._reject=d}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Fi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Fi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function GN(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Je(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),gD(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var w0=(()=>{return(n=w0||(w0={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",w0;var n})();let oL=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new un.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new c.vpe,this.shown=new un.x,this.hidden=new un.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":CS(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(xt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},d=gD(ds(this._zone,e,()=>e.classList.remove("show"),i),ds(this._zone,this._dialogEl.nativeElement,()=>{},i));return d.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),d}_show(){const e={animation:this.animation,runningTransition:"continue"};gD(ds(this._zone,this._elRef.nativeElement,(l,d)=>{d&&Pm(l),l.classList.add("show")},e),ds(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{us(e,"keydown").pipe(Fi(this._closed$),w(r=>r.which===Ki.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(w0.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;us(this._dialogEl.nativeElement,"mousedown").pipe(Fi(this._closed$),(0,Oe.b)(()=>i=!1),An(()=>us(e,"mouseup").pipe(Fi(this._closed$),xt(1))),w(({target:r})=>e===r)).subscribe(()=>{i=!0}),us(e,"click").pipe(Fi(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(w0.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=sM(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ds(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ae),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&c.Gf(bx,7),2&e){let r;c.iGM(r=c.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(c.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),c.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),c.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:nx,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"div",0,1)(2,"div",2),c.Hsn(3),c.qZA()()),2&e&&c.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),aL=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:l,paddingRight:d}=r;if(e>0){const p=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${p+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=d),r.overflow=l}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lL=(()=>{class n{constructor(e,i,r,l,d,p){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=l,this._rendererFactory=d,this._ngZone=p,this._activeWindowCmptHasChanged=new un.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new c.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=us(t,"focusin").pipe(Fi(e),(0,We.U)(l=>l.target));us(t,"keydown").pipe(Fi(e),w(l=>l.which===Ki.Tab),F_(r)).subscribe(([l,d])=>{const[p,_]=sM(t);(d===p||d===t)&&l.shiftKey&&(_.focus(),l.preventDefault()),d===_&&!l.shiftKey&&(p.focus(),l.preventDefault())}),i&&us(t,"click").pipe(Fi(e),F_(r),(0,We.U)(l=>l[1])).subscribe(l=>l.focus())})})(0,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const l=r.container instanceof HTMLElement?r.container:rp(r.container)?this._document.querySelector(r.container):this._document.body,d=this._rendererFactory.createRenderer(null,null);if(!l)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const p=new _M,_=this._getContentRef(r.injector||e,i,p,r);let C=!1!==r.backdrop?this._attachBackdrop(l):void 0,N=this._attachWindowComponent(l,_.nodes),M=new sL(N,_,C,r.beforeDismiss);return this._registerModalRef(M),this._registerWindowCmpt(N),M.hidden.pipe(xt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(d.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),p.close=x=>{M.close(x)},p.dismiss=x=>{M.dismiss(x)},this._applyWindowOptions(N.instance,r),1===this._modalRefs.length&&d.addClass(this._document.body,"modal-open"),C&&C.instance&&(this._applyBackdropOptions(C.instance,r),C.changeDetectorRef.detectChanges()),N.changeDetectorRef.detectChanges(),M}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=(0,c.LMc)(rL,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=(0,c.LMc)(oL,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{rp(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{rp(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,l){return i?i instanceof c.Rgc?this._createFromTemplateRef(i,r):CS(i)?this._createFromString(i):this._createFromComponent(e,i,r,l):new lp([])}_createFromTemplateRef(e,i){const l=e.createEmbeddedView({$implicit:i,close(d){i.close(d)},dismiss(d){i.dismiss(d)}});return this._applicationRef.attachView(l),new lp([l.rootNodes],l)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new lp([[i]])}_createFromComponent(e,i,r,l){const d=c.zs3.create({providers:[{provide:_M,useValue:r}],parent:e}),p=(0,c.LMc)(i,{environmentInjector:this._applicationRef.injector,elementInjector:d}),_=p.location.nativeElement;return l.scrollable&&_.classList.add("component-host-scrollable"),this._applicationRef.attachView(p.hostView),new lp([[_]],p.hostView,p)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.z2F),c.LFG(c.zs3),c.LFG(ae),c.LFG(aL),c.LFG(c.FYo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cL=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ED))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uL=(()=>{class n{constructor(e,i,r){this._injector=e,this._modalStack=i,this._config=r}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.zs3),c.LFG(lL),c.LFG(cL))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[uL]}),n})(),CM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii]}),n})(),MM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii]}),n})(),RM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii]}),n})(),PM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii]}),n})(),kM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii]}),n})(),xM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii]}),n})(),FM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii]}),n})(),LM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();new c.OlP("live announcer delay",{providedIn:"root",factory:function DL(){return 100}});let BM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii]}),n})(),VM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const wL=[JN,QN,tM,nM,fM,mM,yM,CM,VM,MM,RM,PM,kM,xM,FM,LM,BM];let TL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wL,JN,QN,tM,nM,fM,mM,yM,CM,VM,MM,RM,PM,kM,xM,FM,LM,BM]}),n})();function SL(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"button",13),c.NdJ("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.onLogOut())}),c._uU(1,"Log Out"),c.qZA()}}let IL=(()=>{class n{constructor(e){this.authService=e,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}ngOnDestroy(){this.userSub.unsubscribe()}onLogOut(){this.authService.logout()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(f0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-header"]],decls:21,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/home",1,"nav-link"],["routerLink","/stock",1,"nav-link"],["routerLink","/orders",1,"nav-link"],["routerLink","/sales",1,"nav-link"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),c._uU(3,"Bamatika"),c.qZA(),c.TgZ(4,"button",3),c._UZ(5,"span",4),c.qZA(),c.TgZ(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),c._uU(10,"Home"),c.qZA()(),c.TgZ(11,"li",7)(12,"a",9),c._uU(13,"Stock"),c.qZA()(),c.TgZ(14,"li",7)(15,"a",10),c._uU(16,"Orders"),c.qZA()(),c.TgZ(17,"li",7)(18,"a",11),c._uU(19,"Sales"),c.qZA()()(),c.YNc(20,SL,2,0,"button",12),c.qZA()()()),2&e&&(c.xp6(20),c.Q6J("ngIf",i.isAuthenticated))},dependencies:[Sn,Yh,NS]}),n})(),AL=(()=>{class n{constructor(e){this.authService=e,this.title="BmkStore"}ngOnInit(){this.authService.autoLogin()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(f0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){1&e&&c._UZ(0,"app-header")(1,"router-outlet")},dependencies:[ja,IL]}),n})();class UM{}const Pu="*";function HM(n,t=null){return{type:2,steps:n,options:t}}function jM(n){return{type:6,styles:n,offset:null}}function $M(n){Promise.resolve().then(n)}class T0{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){$M(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class GM{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const l=this.players.length;0==l?$M(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==l&&this._onFinish()}),d.onDestroy(()=>{++i==l&&this._onDestroy()}),d.onStart(()=>{++r==l&&this._onStart()})}),this.totalTime=this.players.reduce((d,p)=>Math.max(d,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function WM(n){return new c.vHH(3e3,!1)}function uB(){return typeof window<"u"&&typeof window.document<"u"}function kS(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function mh(n){switch(n.length){case 0:return new T0;case 1:return n[0];default:return new GM(n)}}function zM(n,t,e,i,r=new Map,l=new Map){const d=[],p=[];let _=-1,C=null;if(i.forEach(N=>{const M=N.get("offset"),x=M==_,U=x&&C||new Map;N.forEach((K,re)=>{let Ee=re,Re=K;if("offset"!==re)switch(Ee=t.normalizePropertyName(Ee,d),Re){case"!":Re=r.get(re);break;case Pu:Re=l.get(re);break;default:Re=t.normalizeStyleValue(re,Ee,Re,d)}U.set(Ee,Re)}),x||p.push(U),C=U,_=M}),d.length)throw function QL(n){return new c.vHH(3502,!1)}();return p}function xS(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&FS(e,"start",n)));break;case"done":n.onDone(()=>i(e&&FS(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&FS(e,"destroy",n)))}}function FS(n,t,e){const l=LS(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),d=n._data;return null!=d&&(l._data=d),l}function LS(n,t,e,i,r="",l=0,d){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:l,disabled:!!d}}function So(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function ZM(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let BS=(n,t)=>!1,qM=(n,t,e)=>[],KM=null;function VS(n){const t=n.parentNode||n.host;return t===KM?null:t}(kS()||typeof Element<"u")&&(uB()?(KM=(()=>document.documentElement)(),BS=(n,t)=>{for(;t;){if(t===n)return!0;t=VS(t)}return!1}):BS=(n,t)=>n.contains(t),qM=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let cp=null,YM=!1;const JM=BS,QM=qM;let XM=(()=>{class n{validateStyleProperty(e){return function hB(n){cp||(cp=function fB(){return typeof document<"u"?document.body:null}()||{},YM=!!cp.style&&"WebkitAppearance"in cp.style);let t=!0;return cp.style&&!function dB(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in cp.style,!t&&YM&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in cp.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return JM(e,i)}getParentElement(e){return VS(e)}query(e,i,r){return QM(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,l,d,p=[],_){return new T0(r,l)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),US=(()=>{class n{}return n.NOOP=new XM,n})();const HS="ng-enter",ND="ng-leave",MD="ng-trigger",OD=".ng-trigger",tO="ng-animating",jS=".ng-animating";function ku(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:$S(parseFloat(t[1]),t[2])}function $S(n,t){return"s"===t?1e3*n:n}function RD(n,t,e){return n.hasOwnProperty("duration")?n:function mB(n,t,e){let r,l=0,d="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return t.push(WM()),{duration:0,delay:0,easing:""};r=$S(parseFloat(p[1]),p[2]);const _=p[3];null!=_&&(l=$S(parseFloat(_),p[4]));const C=p[5];C&&(d=C)}else r=n;if(!e){let p=!1,_=t.length;r<0&&(t.push(function ML(){return new c.vHH(3100,!1)}()),p=!0),l<0&&(t.push(function OL(){return new c.vHH(3101,!1)}()),p=!0),p&&t.splice(_,0,WM())}return{duration:r,delay:l,easing:d}}(n,t,e)}function S0(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function nO(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function _h(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function rO(n,t,e){return e?t+":"+e+";":""}function sO(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=rO(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=rO(0,bB(e),n.style[e]));n.setAttribute("style",t)}function wc(n,t,e){n.style&&(t.forEach((i,r)=>{const l=WS(r);e&&!e.has(r)&&e.set(r,n.style[l]),n.style[l]=i}),kS()&&sO(n))}function up(n,t){n.style&&(t.forEach((e,i)=>{const r=WS(i);n.style[r]=""}),kS()&&sO(n))}function I0(n){return Array.isArray(n)?1==n.length?n[0]:HM(n):n}const GS=new RegExp("{{\\s*(.+?)\\s*}}","g");function oO(n){let t=[];if("string"==typeof n){let e;for(;e=GS.exec(n);)t.push(e[1]);GS.lastIndex=0}return t}function A0(n,t,e){const i=n.toString(),r=i.replace(GS,(l,d)=>{let p=t[d];return null==p&&(e.push(function PL(n){return new c.vHH(3003,!1)}()),p=""),p.toString()});return r==i?n:r}function PD(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const vB=/-+([a-z0-9])/g;function WS(n){return n.replace(vB,(...t)=>t[1].toUpperCase())}function bB(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Io(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function kL(n){return new c.vHH(3004,!1)}()}}function aO(n,t){return window.getComputedStyle(n)[t]}function SB(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function IB(n,t,e){if(":"==n[0]){const _=function AB(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function qL(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function ZL(n){return new c.vHH(3015,!1)}()),t;const r=i[1],l=i[2],d=i[3];t.push(lO(r,d));"<"==l[0]&&!("*"==r&&"*"==d)&&t.push(lO(d,r))}(i,e,t)):e.push(n),e}const LD=new Set(["true","1"]),BD=new Set(["false","0"]);function lO(n,t){const e=LD.has(n)||BD.has(n),i=LD.has(t)||BD.has(t);return(r,l)=>{let d="*"==n||n==r,p="*"==t||t==l;return!d&&e&&"boolean"==typeof r&&(d=r?LD.has(n):BD.has(n)),!p&&i&&"boolean"==typeof l&&(p=l?LD.has(t):BD.has(t)),d&&p}}const NB=new RegExp("s*:selfs*,?","g");function zS(n,t,e,i){return new MB(n).build(t,e,i)}class MB{constructor(t){this._driver=t}build(t,e,i){const r=new PB(e);return this._resetContextStyleTimingState(r),Io(this,I0(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const l=[],d=[];return"@"==t.name.charAt(0)&&e.errors.push(function FL(){return new c.vHH(3006,!1)}()),t.definitions.forEach(p=>{if(this._resetContextStyleTimingState(e),0==p.type){const _=p,C=_.name;C.toString().split(/\s*,\s*/).forEach(N=>{_.name=N,l.push(this.visitState(_,e))}),_.name=C}else if(1==p.type){const _=this.visitTransition(p,e);i+=_.queryCount,r+=_.depCount,d.push(_)}else e.errors.push(function LL(){return new c.vHH(3007,!1)}())}),{type:7,name:t.name,states:l,transitions:d,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const l=new Set,d=r||{};i.styles.forEach(p=>{p instanceof Map&&p.forEach(_=>{oO(_).forEach(C=>{d.hasOwnProperty(C)||l.add(C)})})}),l.size&&(PD(l.values()),e.errors.push(function BL(n,t){return new c.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Io(this,I0(t.animation),e);return{type:1,matchers:SB(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:dp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Io(this,i,e)),options:dp(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const l=t.steps.map(d=>{e.currentTime=i;const p=Io(this,d,e);return r=Math.max(r,e.currentTime),p});return e.currentTime=r,{type:3,steps:l,options:dp(t.options)}}visitAnimate(t,e){const i=function xB(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ZS(RD(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=ZS(0,0,"");return l.dynamic=!0,l.strValue=e,l}const r=RD(e,t);return ZS(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,l=t.styles?t.styles:jM({});if(5==l.type)r=this.visitKeyframes(l,e);else{let d=t.styles,p=!1;if(!d){p=!0;const C={};i.easing&&(C.easing=i.easing),d=jM(C)}e.currentTime+=i.duration+i.delay;const _=this.visitStyle(d,e);_.isEmptyStep=p,r=_}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let p of r)"string"==typeof p?p===Pu?i.push(p):e.errors.push(new c.vHH(3002,!1)):i.push(nO(p));let l=!1,d=null;return i.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(d=p.get("easing"),p.delete("easing")),!l))for(let _ of p.values())if(_.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:i,easing:d,offset:t.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,l=e.currentTime;i&&l>0&&(l-=i.duration+i.delay),t.styles.forEach(d=>{"string"!=typeof d&&d.forEach((p,_)=>{const C=e.collectedStyles.get(e.currentQuerySelector),N=C.get(_);let M=!0;N&&(l!=r&&l>=N.startTime&&r<=N.endTime&&(e.errors.push(function UL(n,t,e,i,r){return new c.vHH(3010,!1)}()),M=!1),l=N.startTime),M&&C.set(_,{startTime:l,endTime:r}),e.options&&function yB(n,t,e){const i=t.params||{},r=oO(n);r.length&&r.forEach(l=>{i.hasOwnProperty(l)||e.push(function RL(n){return new c.vHH(3001,!1)}())})}(p,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function HL(){return new c.vHH(3011,!1)}()),i;let l=0;const d=[];let p=!1,_=!1,C=0;const N=t.steps.map(Re=>{const Ve=this._makeStyleAst(Re,e);let dt=null!=Ve.offset?Ve.offset:function kB(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Ve.styles),ze=0;return null!=dt&&(l++,ze=Ve.offset=dt),_=_||ze<0||ze>1,p=p||ze<C,C=ze,d.push(ze),Ve});_&&e.errors.push(function jL(){return new c.vHH(3012,!1)}()),p&&e.errors.push(function $L(){return new c.vHH(3200,!1)}());const M=t.steps.length;let x=0;l>0&&l<M?e.errors.push(function GL(){return new c.vHH(3202,!1)}()):0==l&&(x=1/(M-1));const U=M-1,K=e.currentTime,re=e.currentAnimateTimings,Ee=re.duration;return N.forEach((Re,Ve)=>{const dt=x>0?Ve==U?1:x*Ve:d[Ve],ze=dt*Ee;e.currentTime=K+re.delay+ze,re.duration=ze,this._validateStyleAst(Re,e),Re.offset=dt,i.styles.push(Re)}),i}visitReference(t,e){return{type:8,animation:Io(this,I0(t.animation),e),options:dp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:dp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:dp(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[l,d]=function OB(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(NB,"")),n=n.replace(/@\*/g,OD).replace(/@\w+/g,e=>OD+"-"+e.slice(1)).replace(/:animating/g,jS),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+l:l,So(e.collectedStyles,e.currentQuerySelector,new Map);const p=Io(this,I0(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:l,limit:r.limit||0,optional:!!r.optional,includeSelf:d,animation:p,originalSelector:t.selector,options:dp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function WL(){return new c.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:RD(t.timings,e.errors,!0);return{type:12,animation:Io(this,I0(t.animation),e),timings:i,options:null}}}class PB{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function dp(n){return n?(n=S0(n)).params&&(n.params=function RB(n){return n?S0(n):null}(n.params)):n={},n}function ZS(n,t,e){return{duration:n,delay:t,easing:e}}function qS(n,t,e,i,r,l,d=null,p=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:l,totalTime:r+l,easing:d,subTimeline:p}}class VD{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const BB=new RegExp(":enter","g"),UB=new RegExp(":leave","g");function KS(n,t,e,i,r,l=new Map,d=new Map,p,_,C=[]){return(new HB).buildKeyframes(n,t,e,i,r,l,d,p,_,C)}class HB{buildKeyframes(t,e,i,r,l,d,p,_,C,N=[]){C=C||new VD;const M=new YS(t,e,C,r,l,N,[]);M.options=_;const x=_.delay?ku(_.delay):0;M.currentTimeline.delayNextStep(x),M.currentTimeline.setStyles([d],null,M.errors,_),Io(this,i,M);const U=M.timelines.filter(K=>K.containsAnimation());if(U.length&&p.size){let K;for(let re=U.length-1;re>=0;re--){const Ee=U[re];if(Ee.element===e){K=Ee;break}}K&&!K.allowOnlyTimelineStyles()&&K.setStyles([p],null,M.errors,_)}return U.length?U.map(K=>K.buildKeyframes()):[qS(e,[],[],[],0,x,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),l=e.currentTimeline.currentTime,d=this._visitSubInstructions(i,r,r.options);l!=d&&e.transformIntoNewTimeline(d)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const l=r?.delay;if(l){const d="number"==typeof l?l:ku(A0(l,r?.params??{},e.errors));i.delayNextStep(d)}}}_visitSubInstructions(t,e,i){let l=e.currentTimeline.currentTime;const d=null!=i.duration?ku(i.duration):null,p=null!=i.delay?ku(i.delay):null;return 0!==d&&t.forEach(_=>{const C=e.appendInstructionToTimeline(_,d,p);l=Math.max(l,C.duration+C.delay)}),l}visitReference(t,e){e.updateOptions(t.options,!0),Io(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const l=t.options;if(l&&(l.params||l.delay)&&(r=e.createSubContext(l),r.transformIntoNewTimeline(),null!=l.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=UD);const d=ku(l.delay);r.delayNextStep(d)}t.steps.length&&(t.steps.forEach(d=>Io(this,d,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const l=t.options&&t.options.delay?ku(t.options.delay):0;t.steps.forEach(d=>{const p=e.createSubContext(t.options);l&&p.delayNextStep(l),Io(this,d,p),r=Math.max(r,p.currentTimeline.currentTime),i.push(p.currentTimeline)}),i.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return RD(e.params?A0(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const l=t.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(i.duration),this.visitStyle(l,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const l=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(l):i.setStyles(t.styles,l,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,l=i.duration,p=e.createSubContext().currentTimeline;p.easing=i.easing,t.styles.forEach(_=>{p.forwardTime((_.offset||0)*l),p.setStyles(_.styles,_.easing,e.errors,e.options),p.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(p),e.transformIntoNewTimeline(r+l),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},l=r.delay?ku(r.delay):0;l&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=UD);let d=i;const p=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=p.length;let _=null;p.forEach((C,N)=>{e.currentQueryIndex=N;const M=e.createSubContext(t.options,C);l&&M.delayNextStep(l),C===e.element&&(_=M.currentTimeline),Io(this,t.animation,M),M.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,M.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,l=t.timings,d=Math.abs(l.duration),p=d*(e.currentQueryTotal-1);let _=d*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":_=p-_;break;case"full":_=i.currentStaggerTime}const N=e.currentTimeline;_&&N.delayNextStep(_);const M=N.currentTime;Io(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-M+(r.startTime-i.currentTimeline.startTime)}}const UD={};class YS{constructor(t,e,i,r,l,d,p,_){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=l,this.errors=d,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=UD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new HD(this._driver,e,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=ku(i.duration)),null!=i.delay&&(r.delay=ku(i.delay));const l=i.params;if(l){let d=r.params;d||(d=this.options.params={}),Object.keys(l).forEach(p=>{(!e||!d.hasOwnProperty(p))&&(d[p]=A0(l[p],d,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,l=new YS(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(t),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(t){return this.previousNode=UD,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},l=new jB(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(l),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,l,d){let p=[];if(r&&p.push(this.element),t.length>0){t=(t=t.replace(BB,"."+this._enterClassName)).replace(UB,"."+this._leaveClassName);let C=this._driver.query(this.element,t,1!=i);0!==i&&(C=i<0?C.slice(C.length+i,C.length):C.slice(0,i)),p.push(...C)}return!l&&0==p.length&&d.push(function zL(n){return new c.vHH(3014,!1)}()),p}}class HD{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new HD(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Pu),this._currentKeyframe.set(e,Pu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const l=r&&r.params||{},d=function $B(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let l of i)e.set(l,Pu)}else _h(r,e)}),e}(t,this._globalTimelineStyles);for(let[p,_]of d){const C=A0(_,l,i);this._pendingStyles.set(p,C),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??Pu),this._updateStyle(p,C)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((p,_)=>{const C=_h(p,new Map,this._backFill);C.forEach((N,M)=>{"!"===N?t.add(M):N===Pu&&e.add(M)}),i||C.set("offset",_/this.duration),r.push(C)});const l=t.size?PD(t.values()):[],d=e.size?PD(e.values()):[];if(i){const p=r[0],_=new Map(p);p.set("offset",0),_.set("offset",1),r=[p,_]}return qS(this.element,r,l,d,this.duration,this.startTime,this.easing,!1)}}class jB extends HD{constructor(t,e,i,r,l,d,p=!1){super(t,e,d.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=l,this._stretchStartingKeyframe=p,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],d=i+e,p=e/d,_=_h(t[0]);_.set("offset",0),l.push(_);const C=_h(t[0]);C.set("offset",dO(p)),l.push(C);const N=t.length-1;for(let M=1;M<=N;M++){let x=_h(t[M]);const U=x.get("offset");x.set("offset",dO((e+U*i)/d)),l.push(x)}i=d,e=0,r="",t=l}return qS(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function dO(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class JS{}const GB=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class WB extends JS{normalizePropertyName(t,e){return WS(t)}normalizeStyleValue(t,e,i,r){let l="";const d=i.toString().trim();if(GB.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const p=i.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&r.push(function xL(n,t){return new c.vHH(3005,!1)}())}return d+l}}function hO(n,t,e,i,r,l,d,p,_,C,N,M,x){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:l,toState:i,toStyles:d,timelines:p,queriedElements:_,preStyleProps:C,postStyleProps:N,totalTime:M,errors:x}}const QS={};class fO{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function zB(n,t,e,i,r){return n.some(l=>l(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,l,d,p,_,C,N){const M=[],x=this.ast.options&&this.ast.options.params||QS,K=this.buildStyles(i,p&&p.params||QS,M),re=_&&_.params||QS,Ee=this.buildStyles(r,re,M),Re=new Set,Ve=new Map,dt=new Map,ze="void"===r,yt={params:ZB(re,x),delay:this.ast.options?.delay},St=N?[]:KS(t,e,this.ast.animation,l,d,K,Ee,yt,C,M);let Vt=0;if(St.forEach(wn=>{Vt=Math.max(wn.duration+wn.delay,Vt)}),M.length)return hO(e,this._triggerName,i,r,ze,K,Ee,[],[],Ve,dt,Vt,M);St.forEach(wn=>{const Tn=wn.element,Xn=So(Ve,Tn,new Set);wn.preStyleProps.forEach(li=>Xn.add(li));const Dr=So(dt,Tn,new Set);wn.postStyleProps.forEach(li=>Dr.add(li)),Tn!==e&&Re.add(Tn)});const qt=PD(Re.values());return hO(e,this._triggerName,i,r,ze,K,Ee,St,qt,Ve,dt,Vt)}}function ZB(n,t){const e=S0(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class qB{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=S0(this.defaultParams);return Object.keys(t).forEach(l=>{const d=t[l];null!==d&&(r[l]=d)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((d,p)=>{d&&(d=A0(d,r,e));const _=this.normalizer.normalizePropertyName(p,e);d=this.normalizer.normalizeStyleValue(p,_,d,e),i.set(_,d)})}),i}}class YB{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new qB(r.style,r.options&&r.options.params||{},i))}),pO(this.states,"true","1"),pO(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new fO(t,r,this.states))}),this.fallbackTransition=function JB(n,t,e){return new fO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,p)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(d=>d.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function pO(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const QB=new VD;class XB{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],l=zS(this._driver,e,i,[]);if(i.length)throw function XL(n){return new c.vHH(3503,!1)}();this._animations.set(t,l)}_buildPlayer(t,e,i){const r=t.element,l=zM(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,l,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],l=this._animations.get(t);let d;const p=new Map;if(l?(d=KS(this._driver,e,l,HS,ND,new Map,new Map,i,QB,r),d.forEach(N=>{const M=So(p,N.element,new Map);N.postStyleProps.forEach(x=>M.set(x,null))})):(r.push(function eB(){return new c.vHH(3300,!1)}()),d=[]),r.length)throw function tB(n){return new c.vHH(3504,!1)}();p.forEach((N,M)=>{N.forEach((x,U)=>{N.set(U,this._driver.computeStyle(M,U,Pu))})});const C=mh(d.map(N=>{const M=p.get(N.element);return this._buildPlayer(N,new Map,M)}));return this._playersById.set(t,C),C.onDestroy(()=>this.destroy(t)),this.players.push(C),C}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function nB(n){return new c.vHH(3301,!1)}();return e}listen(t,e,i,r){const l=LS(e,"","","");return xS(this._getPlayer(t),i,l,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const l=this._getPlayer(t);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const gO="ng-animate-queued",XS="ng-animate-disabled",s2=[],mO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},o2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},aa="__ng_removed";class eI{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function u2(n){return n??null}(i?t.value:t),i){const l=S0(t);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const N0="void",tI=new eI(N0);class a2{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,la(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function iB(n,t){return new c.vHH(3302,!1)}();if(null==i||0==i.length)throw function rB(n){return new c.vHH(3303,!1)}();if(!function d2(n){return"start"==n||"done"==n}(i))throw function sB(n,t){return new c.vHH(3400,!1)}();const l=So(this._elementListeners,t,[]),d={name:e,phase:i,callback:r};l.push(d);const p=So(this._engine.statesByElement,t,new Map);return p.has(e)||(la(t,MD),la(t,MD+"-"+e),p.set(e,tI)),()=>{this._engine.afterFlush(()=>{const _=l.indexOf(d);_>=0&&l.splice(_,1),this._triggers.has(e)||p.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function oB(n){return new c.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const l=this._getTrigger(e),d=new nI(this.id,e,t);let p=this._engine.statesByElement.get(t);p||(la(t,MD),la(t,MD+"-"+e),this._engine.statesByElement.set(t,p=new Map));let _=p.get(e);const C=new eI(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&C.absorbOptions(_.options),p.set(e,C),_||(_=tI),C.value!==N0&&_.value===C.value){if(!function p2(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const l=e[r];if(!t.hasOwnProperty(l)||n[l]!==t[l])return!1}return!0}(_.params,C.params)){const re=[],Ee=l.matchStyles(_.value,_.params,re),Re=l.matchStyles(C.value,C.params,re);re.length?this._engine.reportError(re):this._engine.afterFlush(()=>{up(t,Ee),wc(t,Re)})}return}const x=So(this._engine.playersByElement,t,[]);x.forEach(re=>{re.namespaceId==this.id&&re.triggerName==e&&re.queued&&re.destroy()});let U=l.matchTransition(_.value,C.value,t,C.params),K=!1;if(!U){if(!r)return;U=l.fallbackTransition,K=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:U,fromState:_,toState:C,player:d,isFallbackTransition:K}),K||(la(t,gO),d.onStart(()=>{xm(t,gO)})),d.onDone(()=>{let re=this.players.indexOf(d);re>=0&&this.players.splice(re,1);const Ee=this._engine.playersByElement.get(t);if(Ee){let Re=Ee.indexOf(d);Re>=0&&Ee.splice(Re,1)}}),this.players.push(d),x.push(d),d}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,OD,!0);i.forEach(r=>{if(r[aa])return;const l=this._engine.fetchNamespacesByElement(r);l.size?l.forEach(d=>d.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const l=this._engine.statesByElement.get(t),d=new Map;if(l){const p=[];if(l.forEach((_,C)=>{if(d.set(C,_.value),this._triggers.has(C)){const N=this.trigger(t,C,N0,r);N&&p.push(N)}}),p.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,d),i&&mh(p).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(l=>{const d=l.name;if(r.has(d))return;r.add(d);const _=this._triggers.get(d).fallbackTransition,C=i.get(d)||tI,N=new eI(N0),M=new nI(this.id,d,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:d,transition:_,fromState:C,toState:N,player:M,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(t):[];if(l&&l.length)r=!0;else{let d=t;for(;d=d.parentNode;)if(i.statesByElement.get(d)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const l=t[aa];(!l||l===mO)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){la(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const l=i.element,d=this._elementListeners.get(l);d&&d.forEach(p=>{if(p.name==i.triggerName){const _=LS(l,i.triggerName,i.fromState.value,i.toState.value);_._data=t,xS(i.player,p.phase,_,p.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const l=i.transition.ast.depCount,d=r.transition.ast.depCount;return 0==l||0==d?l-d:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class l2{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,l)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new a2(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let d=!1,p=this.driver.getParentElement(e);for(;p;){const _=r.get(p);if(_){const C=i.indexOf(_);i.splice(C+1,0,t),d=!0;break}p=this.driver.getParentElement(p)}d||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const l=this._fetchNamespace(r.namespaceId);l&&e.add(l)}return e}trigger(t,e,i,r){if(jD(e)){const l=this._fetchNamespace(t);if(l)return l.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!jD(e))return;const l=e[aa];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(t){const d=this._fetchNamespace(t);d&&d.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),la(t,XS)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),xm(t,XS))}removeNode(t,e,i,r){if(jD(e)){const l=t?this._fetchNamespace(t):null;if(l?l.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const d=this.namespacesByHostElement.get(e);d&&d.id!==t&&d.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,l){this.collectedLeaveElements.push(e),e[aa]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(t,e,i,r,l){return jD(e)?this._fetchNamespace(t).listen(e,i,r,l):()=>{}}_buildInstruction(t,e,i,r,l){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,l)}destroyInnerAnimations(t){let e=this.driver.query(t,OD,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,jS,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return mh(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[aa];if(e&&e.setForRemoval){if(t[aa]=mO,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(XS)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)la(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?mh(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function aB(n){return new c.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new VD,r=[],l=new Map,d=[],p=new Map,_=new Map,C=new Map,N=new Set;this.disabledNodes.forEach(Ke=>{N.add(Ke);const st=this.driver.query(Ke,".ng-animate-queued",!0);for(let Et=0;Et<st.length;Et++)N.add(st[Et])});const M=this.bodyNode,x=Array.from(this.statesByElement.keys()),U=vO(x,this.collectedEnterElements),K=new Map;let re=0;U.forEach((Ke,st)=>{const Et=HS+re++;K.set(st,Et),Ke.forEach(jt=>la(jt,Et))});const Ee=[],Re=new Set,Ve=new Set;for(let Ke=0;Ke<this.collectedLeaveElements.length;Ke++){const st=this.collectedLeaveElements[Ke],Et=st[aa];Et&&Et.setForRemoval&&(Ee.push(st),Re.add(st),Et.hasAnimation?this.driver.query(st,".ng-star-inserted",!0).forEach(jt=>Re.add(jt)):Ve.add(st))}const dt=new Map,ze=vO(x,Array.from(Re));ze.forEach((Ke,st)=>{const Et=ND+re++;dt.set(st,Et),Ke.forEach(jt=>la(jt,Et))}),t.push(()=>{U.forEach((Ke,st)=>{const Et=K.get(st);Ke.forEach(jt=>xm(jt,Et))}),ze.forEach((Ke,st)=>{const Et=dt.get(st);Ke.forEach(jt=>xm(jt,Et))}),Ee.forEach(Ke=>{this.processLeaveNode(Ke)})});const yt=[],St=[];for(let Ke=this._namespaceList.length-1;Ke>=0;Ke--)this._namespaceList[Ke].drainQueuedTransitions(e).forEach(Et=>{const jt=Et.player,ci=Et.element;if(yt.push(jt),this.collectedEnterElements.length){const Di=ci[aa];if(Di&&Di.setForMove){if(Di.previousTriggersValues&&Di.previousTriggersValues.has(Et.triggerName)){const hs=Di.previousTriggersValues.get(Et.triggerName),Br=this.statesByElement.get(Et.element);if(Br&&Br.has(Et.triggerName)){const Bm=Br.get(Et.triggerName);Bm.value=hs,Br.set(Et.triggerName,Bm)}}return void jt.destroy()}}const Ws=!M||!this.driver.containsElement(M,ci),Yi=dt.get(ci),Ao=K.get(ci),_n=this._buildInstruction(Et,i,Ao,Yi,Ws);if(_n.errors&&_n.errors.length)return void St.push(_n);if(Ws)return jt.onStart(()=>up(ci,_n.fromStyles)),jt.onDestroy(()=>wc(ci,_n.toStyles)),void r.push(jt);if(Et.isFallbackTransition)return jt.onStart(()=>up(ci,_n.fromStyles)),jt.onDestroy(()=>wc(ci,_n.toStyles)),void r.push(jt);const ol=[];_n.timelines.forEach(Di=>{Di.stretchStartingKeyframe=!0,this.disabledNodes.has(Di.element)||ol.push(Di)}),_n.timelines=ol,i.append(ci,_n.timelines),d.push({instruction:_n,player:jt,element:ci}),_n.queriedElements.forEach(Di=>So(p,Di,[]).push(jt)),_n.preStyleProps.forEach((Di,hs)=>{if(Di.size){let Br=_.get(hs);Br||_.set(hs,Br=new Set),Di.forEach((Bm,gp)=>Br.add(gp))}}),_n.postStyleProps.forEach((Di,hs)=>{let Br=C.get(hs);Br||C.set(hs,Br=new Set),Di.forEach((Bm,gp)=>Br.add(gp))})});if(St.length){const Ke=[];St.forEach(st=>{Ke.push(function lB(n,t){return new c.vHH(3505,!1)}())}),yt.forEach(st=>st.destroy()),this.reportError(Ke)}const Vt=new Map,qt=new Map;d.forEach(Ke=>{const st=Ke.element;i.has(st)&&(qt.set(st,st),this._beforeAnimationBuild(Ke.player.namespaceId,Ke.instruction,Vt))}),r.forEach(Ke=>{const st=Ke.element;this._getPreviousPlayers(st,!1,Ke.namespaceId,Ke.triggerName,null).forEach(jt=>{So(Vt,st,[]).push(jt),jt.destroy()})});const wn=Ee.filter(Ke=>EO(Ke,_,C)),Tn=new Map;yO(Tn,this.driver,Ve,C,Pu).forEach(Ke=>{EO(Ke,_,C)&&wn.push(Ke)});const Dr=new Map;U.forEach((Ke,st)=>{yO(Dr,this.driver,new Set(Ke),_,"!")}),wn.forEach(Ke=>{const st=Tn.get(Ke),Et=Dr.get(Ke);Tn.set(Ke,new Map([...Array.from(st?.entries()??[]),...Array.from(Et?.entries()??[])]))});const li=[],Tc=[],Sc={};d.forEach(Ke=>{const{element:st,player:Et,instruction:jt}=Ke;if(i.has(st)){if(N.has(st))return Et.onDestroy(()=>wc(st,jt.toStyles)),Et.disabled=!0,Et.overrideTotalTime(jt.totalTime),void r.push(Et);let ci=Sc;if(qt.size>1){let Yi=st;const Ao=[];for(;Yi=Yi.parentNode;){const _n=qt.get(Yi);if(_n){ci=_n;break}Ao.push(Yi)}Ao.forEach(_n=>qt.set(_n,ci))}const Ws=this._buildAnimation(Et.namespaceId,jt,Vt,l,Dr,Tn);if(Et.setRealPlayer(Ws),ci===Sc)li.push(Et);else{const Yi=this.playersByElement.get(ci);Yi&&Yi.length&&(Et.parentPlayer=mh(Yi)),r.push(Et)}}else up(st,jt.fromStyles),Et.onDestroy(()=>wc(st,jt.toStyles)),Tc.push(Et),N.has(st)&&r.push(Et)}),Tc.forEach(Ke=>{const st=l.get(Ke.element);if(st&&st.length){const Et=mh(st);Ke.setRealPlayer(Et)}}),r.forEach(Ke=>{Ke.parentPlayer?Ke.syncPlayerEvents(Ke.parentPlayer):Ke.destroy()});for(let Ke=0;Ke<Ee.length;Ke++){const st=Ee[Ke],Et=st[aa];if(xm(st,ND),Et&&Et.hasAnimation)continue;let jt=[];if(p.size){let Ws=p.get(st);Ws&&Ws.length&&jt.push(...Ws);let Yi=this.driver.query(st,jS,!0);for(let Ao=0;Ao<Yi.length;Ao++){let _n=p.get(Yi[Ao]);_n&&_n.length&&jt.push(..._n)}}const ci=jt.filter(Ws=>!Ws.destroyed);ci.length?h2(this,st,ci):this.processLeaveNode(st)}return Ee.length=0,li.forEach(Ke=>{this.players.push(Ke),Ke.onDone(()=>{Ke.destroy();const st=this.players.indexOf(Ke);this.players.splice(st,1)}),Ke.play()}),li}elementContainsData(t,e){let i=!1;const r=e[aa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,l){let d=[];if(e){const p=this.playersByQueriedElement.get(t);p&&(d=p)}else{const p=this.playersByElement.get(t);if(p){const _=!l||l==N0;p.forEach(C=>{C.queued||!_&&C.triggerName!=r||d.push(C)})}}return(i||r)&&(d=d.filter(p=>!(i&&i!=p.namespaceId||r&&r!=p.triggerName))),d}_beforeAnimationBuild(t,e,i){const l=e.element,d=e.isRemovalTransition?void 0:t,p=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const C=_.element,N=C!==l,M=So(i,C,[]);this._getPreviousPlayers(C,N,d,p,e.toState).forEach(U=>{const K=U.getRealPlayer();K.beforeDestroy&&K.beforeDestroy(),U.destroy(),M.push(U)})}up(l,e.fromStyles)}_buildAnimation(t,e,i,r,l,d){const p=e.triggerName,_=e.element,C=[],N=new Set,M=new Set,x=e.timelines.map(K=>{const re=K.element;N.add(re);const Ee=re[aa];if(Ee&&Ee.removedBeforeQueried)return new T0(K.duration,K.delay);const Re=re!==_,Ve=function f2(n){const t=[];return bO(n,t),t}((i.get(re)||s2).map(Vt=>Vt.getRealPlayer())).filter(Vt=>!!Vt.element&&Vt.element===re),dt=l.get(re),ze=d.get(re),yt=zM(0,this._normalizer,0,K.keyframes,dt,ze),St=this._buildPlayer(K,yt,Ve);if(K.subTimeline&&r&&M.add(re),Re){const Vt=new nI(t,p,re);Vt.setRealPlayer(St),C.push(Vt)}return St});C.forEach(K=>{So(this.playersByQueriedElement,K.element,[]).push(K),K.onDone(()=>function c2(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,K.element,K))}),N.forEach(K=>la(K,tO));const U=mh(x);return U.onDestroy(()=>{N.forEach(K=>xm(K,tO)),wc(_,e.toStyles)}),M.forEach(K=>{So(r,K,[]).push(U)}),U}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new T0(t.duration,t.delay)}}class nI{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new T0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>xS(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){So(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function jD(n){return n&&1===n.nodeType}function _O(n,t){const e=n.style.display;return n.style.display=t??"none",e}function yO(n,t,e,i,r){const l=[];e.forEach(_=>l.push(_O(_)));const d=[];i.forEach((_,C)=>{const N=new Map;_.forEach(M=>{const x=t.computeStyle(C,M,r);N.set(M,x),(!x||0==x.length)&&(C[aa]=o2,d.push(C))}),n.set(C,N)});let p=0;return e.forEach(_=>_O(_,l[p++])),d}function vO(n,t){const e=new Map;if(n.forEach(p=>e.set(p,[])),0==t.length)return e;const r=new Set(t),l=new Map;function d(p){if(!p)return 1;let _=l.get(p);if(_)return _;const C=p.parentNode;return _=e.has(C)?C:r.has(C)?1:d(C),l.set(p,_),_}return t.forEach(p=>{const _=d(p);1!==_&&e.get(_).push(p)}),e}function la(n,t){n.classList?.add(t)}function xm(n,t){n.classList?.remove(t)}function h2(n,t,e){mh(e).onDone(()=>n.processLeaveNode(t))}function bO(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof GM?bO(i.players,t):t.push(i)}}function EO(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(l=>r.add(l)):t.set(n,i),e.delete(n),!0}class $D{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,l)=>{},this._transitionEngine=new l2(t,e,i),this._timelineEngine=new XB(t,e,i),this._transitionEngine.onRemovalComplete=(r,l)=>this.onRemovalComplete(r,l)}registerTrigger(t,e,i,r,l){const d=t+"-"+r;let p=this._triggerCache[d];if(!p){const _=[],N=zS(this._driver,l,_,[]);if(_.length)throw function JL(n,t){return new c.vHH(3404,!1)}();p=function KB(n,t,e){return new YB(n,t,e)}(r,N,this._normalizer),this._triggerCache[d]=p}this._transitionEngine.registerTrigger(e,r,p)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[l,d]=ZM(i);this._timelineEngine.command(l,e,d,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,l){if("@"==i.charAt(0)){const[d,p]=ZM(i);return this._timelineEngine.listen(d,e,p,l)}return this._transitionEngine.listen(t,e,i,r,l)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let m2=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let l=n.initialStylesByElement.get(e);l||n.initialStylesByElement.set(e,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&wc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wc(this._element,this._initialStyles),this._endStyles&&(wc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(up(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(up(this._element,this._endStyles),this._endStyles=null),wc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function iI(n){let t=null;return n.forEach((e,i)=>{(function _2(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class CO{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:aO(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class y2{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return JM(t,e)}getParentElement(t){return VS(t)}query(t,e,i){return QM(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,l,d=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};l&&(_.easing=l);const C=new Map,N=d.filter(U=>U instanceof CO);(function EB(n,t){return 0===n||0===t})(i,r)&&N.forEach(U=>{U.currentSnapshot.forEach((K,re)=>C.set(re,K))});let M=function _B(n){return n.length?n[0]instanceof Map?n:n.map(t=>nO(t)):[]}(e).map(U=>_h(U));M=function CB(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((l,d)=>{i.has(d)||r.push(d),i.set(d,l)}),r.length)for(let l=1;l<t.length;l++){let d=t[l];r.forEach(p=>d.set(p,aO(n,p)))}}return t}(t,M,C);const x=function g2(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=iI(t[0]),t.length>1&&(i=iI(t[t.length-1]))):t instanceof Map&&(e=iI(t)),e||i?new m2(n,e,i):null}(t,M);return new CO(t,M,_,x)}}let v2=(()=>{class n extends UM{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?HM(e):e;return DO(this._renderer,null,i,"register",[r]),new b2(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class b2 extends class NL{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new E2(this._id,t,e||{},this._renderer)}}class E2{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return DO(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function DO(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const wO="@.disabled";let C2=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,d)=>{const p=d?.parentNode(l);p&&d.removeChild(p,l)}}createRenderer(e,i){const l=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let N=this._rendererCache.get(l);return N||(N=new TO("",l,this.engine),this._rendererCache.set(l,N)),N}const d=i.id,p=i.id+"-"+this._currentId;this._currentId++,this.engine.register(p,e);const _=N=>{Array.isArray(N)?N.forEach(_):this.engine.registerTrigger(d,p,e,N.name,N)};return i.data.animation.forEach(_),new D2(this,p,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[d,p]=l;d(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG($D),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class TO{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==wO?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class D2 extends TO{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==wO?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function w2(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let l=e.slice(1),d="";return"@"!=l.charAt(0)&&([l,d]=function T2(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(l)),this.engine.listen(this.namespaceId,r,l,d,p=>{this.factory.scheduleListenerCallback(p._data||-1,i,p)})}return this.delegate.listen(t,e,i)}}const SO=[{provide:UM,useClass:v2},{provide:JS,useFactory:function I2(){return new WB}},{provide:$D,useClass:(()=>{class n extends $D{constructor(e,i,r,l){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ae),c.LFG(US),c.LFG(JS),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})()},{provide:c.FYo,useFactory:function A2(n,t,e){return new C2(n,t,e)},deps:[ro,$D,c.R0b]}],rI=[{provide:US,useFactory:()=>new y2},{provide:c.QbO,useValue:"BrowserAnimations"},...SO],IO=[{provide:US,useClass:XM},{provide:c.QbO,useValue:"NoopAnimations"},...SO];let sI,N2=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?IO:rI}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:rI,imports:[Fl]}),n})();try{sI=typeof Intl<"u"&&Intl.v8BreakIterator}catch{sI=!1}let AO=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function dl(n){return n===Gr}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!sI)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MO(n){return Array.isArray(n)?n:[n]}const OO=new Set;let Lm,U2=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):j2}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function H2(n){if(!OO.has(n))try{Lm||(Lm=document.createElement("style"),Lm.setAttribute("type","text/css"),document.head.appendChild(Lm)),Lm.sheet&&(Lm.sheet.insertRule(`@media ${n} {body{ }}`,0),OO.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(AO))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function j2(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let $2=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new un.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return RO(MO(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let l=Jr(RO(MO(e)).map(d=>this._registerQuery(d).observable));return l=gr(l.pipe(xt(1)),l.pipe(function IN(n){return w((t,e)=>n<=e)}(1),function V2(n,t=mg.z){return(0,Un.e)((e,i)=>{let r=null,l=null,d=null;const p=()=>{if(r){r.unsubscribe(),r=null;const C=l;l=null,i.next(C)}};function _(){const C=d+n,N=t.now();if(N<C)return r=this.schedule(void 0,C-N),void i.add(r);p()}e.subscribe((0,an.x)(i,C=>{l=C,d=t.now(),r||(r=t.schedule(_,n),i.add(r))},()=>{p(),i.complete()},void 0,()=>{l=r=null}))})}(0))),l.pipe((0,We.U)(d=>{const p={matches:!1,breakpoints:{}};return d.forEach(({matches:_,query:C})=>{p.matches=p.matches||_,p.breakpoints[C]=_}),p}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),l={observable:new vn.y(d=>{const p=_=>this._zone.run(()=>d.next(_));return i.addListener(p),()=>{i.removeListener(p)}}).pipe(Pa(i),(0,We.U)(({matches:d})=>({query:e,matches:d})),Fi(this._destroySubject)),mql:i};return this._queries.set(e,l),l}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(U2),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function RO(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const FO="cdk-high-contrast-black-on-white",LO="cdk-high-contrast-white-on-black",lI="cdk-high-contrast-active";let Q2=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,c.f3M)($2).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,l=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),l){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(lI,FO,LO),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(lI,FO):2===i&&e.add(lI,LO)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(AO),c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const nV=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function tV(){return!0}});let HO=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function R2(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Q2),c.LFG(nV,8),c.LFG(ae))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[BO,BO]}),n})(),hV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[HO,HO]}),n})();function KO(n,t){return t?e=>e.pipe(KO((i,r)=>(0,di.Xf)(n(i,r)).pipe((0,We.U)((l,d)=>t(i,l,r,d))))):(0,Un.e)((e,i)=>{let r=0,l=null,d=!1;e.subscribe((0,an.x)(i,p=>{l||(l=(0,an.x)(i,void 0,()=>{l=null,d&&i.complete()}),(0,di.Xf)(n(p,r++)).subscribe(l))},()=>{d=!0,!l&&i.complete()}))})}let fV=(()=>{class n{constructor(e){this.authService=e}intercept(e,i){return this.authService.user.pipe(xt(1),KO(r=>{if(!r)return i.handle(e);const l=e.clone({params:(new Za).set("auth",r._token)});return i.handle(l)}))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(f0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),pV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[AL]}),n.\u0275inj=c.cJS({providers:[{provide:I_,useClass:fV,multi:!0}],imports:[Fl,OP,TL,N2,hV,bN,vN,TI,Rs.hO,e0,Rs.hO.initializeApp(Xl_firebase),bN]}),n})();(0,c.G48)(),xl().bootstrapModule(pV).catch(n=>console.error(n))},5867:(ot,Te,F)=>{F.d(Te,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=F(9681);(0,c.registerVersion)("firebase","9.12.1","app")},127:(ot,Te,F)=>{F.d(Te,{Z:()=>c.Z});var c=F(3942);c.Z.registerVersion("firebase","9.12.1","app-compat")},9545:(ot,Te,F)=>{F.r(Te);var c=F(5861),te=F(3942),k=F(2090),ue=F(9681),le=F(1877),he=F(655),ae=F(4859);const Ce=function Fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},tt=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qe=new le.Yd("@firebase/auth");function rt(y,...f){Qe.logLevel<=le.in.ERROR&&Qe.error(`Auth (${ue.SDK_VERSION}): ${y}`,...f)}function Ae(y,...f){throw He(y,...f)}function ye(y,...f){return He(y,...f)}function we(y,f,m){const b=Object.assign(Object.assign({},tt()),{[f]:m});return new k.LL("auth","Firebase",b).create(f,{appName:y.name})}function Ue(y,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Ae(y,"argument-error"),we(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(y,...f){if("string"!=typeof y){const m=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return _e.create(y,...f)}function j(y,f,...m){if(!y)throw He(f,...m)}function me(y){const f="INTERNAL ASSERTION FAILED: "+y;throw rt(f),new Error(f)}function Y(y,f){y||me(f)}const ne=new Map;function ce(y){Y(y instanceof Function,"Expected a class definition");let f=ne.get(y);return f?(Y(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,ne.set(y,f),f)}function Pe(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ht(){return"http:"===Kt()||"https:"===Kt()}function Kt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class tn{constructor(f,m){this.shortDelay=f,this.longDelay=m,Y(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function Ft(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ht()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pn(y,f){Y(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class zt{static initialize(f,m,b){this.fetchImpl=f,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},wi=new tn(3e4,6e4);function Nt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function nn(y,f,m,b){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,c.Z)(function*(y,f,m,b,I={}){return lr(y,I,(0,c.Z)(function*(){let P={},q={};b&&("GET"===f?q=b:P={body:JSON.stringify(b)});const de=(0,k.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),Le=yield y._getAdditionalHeaders();return Le["Content-Type"]="application/json",y.languageCode&&(Le["X-Firebase-Locale"]=y.languageCode),zt.fetch()(cr(y,y.config.apiHost,m,de),Object.assign({method:f,headers:Le,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function lr(y,f,m){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,c.Z)(function*(y,f,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},Yt),f);try{const I=new Li(y),P=yield Promise.race([m(),I.promise]);I.clearNetworkTimeout();const q=yield P.json();if("needConfirmation"in q)throw Ji(y,"account-exists-with-different-credential",q);if(P.ok&&!("errorMessage"in q))return q;{const de=P.ok?q.errorMessage:q.error.message,[Le,Ye]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw Ji(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===Le)throw Ji(y,"email-already-in-use",q);if("USER_DISABLED"===Le)throw Ji(y,"user-disabled",q);const pt=b[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Ye)throw we(y,pt,Ye);Ae(y,pt)}}catch(I){if(I instanceof k.ZR)throw I;Ae(y,"network-request-failed")}})).apply(this,arguments)}function Si(y,f,m,b){return fs.apply(this,arguments)}function fs(){return(fs=(0,c.Z)(function*(y,f,m,b,I={}){const P=yield nn(y,f,m,b,I);return"mfaPendingCredential"in P&&Ae(y,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function cr(y,f,m,b){const I=`${f}${m}?${b}`;return y.config.emulator?pn(y.config,I):`${y.config.apiScheme}://${I}`}class Li{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(ye(this.auth,"network-request-failed")),wi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ji(y,f,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const I=ye(y,f,b);return I.customData._tokenResponse=m,I}function qe(){return(qe=(0,c.Z)(function*(y,f){return nn(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function _i(y,f){return ps.apply(this,arguments)}function ps(){return(ps=(0,c.Z)(function*(y,f){return nn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function zn(y,f){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,c.Z)(function*(y,f){return nn(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function wr(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function dn(){return(dn=(0,c.Z)(function*(y,f=!1){const m=(0,k.m9)(y),b=yield m.getIdToken(f),I=at(b);j(I&&I.exp&&I.auth_time&&I.iat,m.auth,"internal-error");const P="object"==typeof I.firebase?I.firebase:void 0,q=P?.sign_in_provider;return{claims:I,token:b,authTime:wr(ft(I.auth_time)),issuedAtTime:wr(ft(I.iat)),expirationTime:wr(ft(I.exp)),signInProvider:q||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function ft(y){return 1e3*Number(y)}function at(y){var f;const[m,b,I]=y.split(".");if(void 0===m||void 0===b||void 0===I)return rt("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,k.tV)(b);return P?JSON.parse(P):(rt("Failed to decode base64 JWT payload"),null)}catch(P){return rt("Caught error parsing JWT payload as JSON",null===(f=P)||void 0===f?void 0:f.toString()),null}}function ei(y,f){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,c.Z)(function*(y,f,m=!1){if(m)return f;try{return yield f}catch(b){throw b instanceof k.ZR&&Bi(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Bi({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Dt{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const I=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),b)}iteration(){var f=this;return(0,c.Z)(function*(){var m;try{yield f.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(m=b)||void 0===m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class Ur{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=wr(this.lastLoginAt),this.creationTime=wr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jt(y){return ur.apply(this,arguments)}function ur(){return(ur=(0,c.Z)(function*(y){var f;const m=y.auth,b=yield y.getIdToken(),I=yield ei(y,zn(m,{idToken:b}));j(I?.users.length,m,"internal-error");const P=I.users[0];y._notifyReloadListener(P);const q=null!==(f=P.providerUserInfo)&&void 0!==f&&f.length?et(P.providerUserInfo):[],de=Ii(y.providerData,q),pt=!!y.isAnonymous&&!(y.email&&P.passwordHash||de?.length),ut={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:de,metadata:new Ur(P.createdAt,P.lastLoginAt),isAnonymous:pt};Object.assign(y,ut)})).apply(this,arguments)}function Zn(){return(Zn=(0,c.Z)(function*(y){const f=(0,k.m9)(y);yield Jt(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ii(y,f){return[...y.filter(b=>!f.some(I=>I.providerId===b.providerId)),...f]}function et(y){return y.map(f=>{var{providerId:m}=f,b=(0,he._T)(f,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Xe(){return(Xe=(0,c.Z)(function*(y,f){const m=yield lr(y,{},(0,c.Z)(function*(){const b=(0,k.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:I,apiKey:P}=y.config,q=cr(y,I,"/v1/token",`key=${P}`),de=yield y._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",zt.fetch()(q,{method:"POST",headers:de,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class vt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){j(f.idToken,"internal-error"),j(typeof f.idToken<"u","internal-error"),j(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function en(y){const f=at(y);return j(f,"internal-error"),j(typeof f.exp<"u","internal-error"),j(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var b=this;return(0,c.Z)(function*(){return j(!b.accessToken||b.refreshToken,f,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var b=this;return(0,c.Z)(function*(){const{accessToken:I,refreshToken:P,expiresIn:q}=yield function Se(y,f){return Xe.apply(this,arguments)}(f,m);b.updateTokensAndExpiration(I,P,Number(q))})()}updateTokensAndExpiration(f,m,b){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,m){const{refreshToken:b,accessToken:I,expirationTime:P}=m,q=new vt;return b&&(j("string"==typeof b,"internal-error",{appName:f}),q.refreshToken=b),I&&(j("string"==typeof I,"internal-error",{appName:f}),q.accessToken=I),P&&(j("number"==typeof P,"internal-error",{appName:f}),q.expirationTime=P),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new vt,this.toJSON())}_performRefresh(){return me("not implemented")}}function mt(y,f){j("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class Ot{constructor(f){var{uid:m,auth:b,stsTokenManager:I}=f,P=(0,he._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Ur(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,c.Z)(function*(){const b=yield ei(m,m.stsTokenManager.getToken(m.auth,f));return j(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(f){return function $n(y){return dn.apply(this,arguments)}(this,f)}reload(){return function Qt(y){return Zn.apply(this,arguments)}(this)}_assign(f){this!==f&&(j(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Ot(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var b=this;return(0,c.Z)(function*(){let I=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),I=!0),m&&(yield Jt(b)),yield b.auth._persistUserIfCurrent(b),I&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,c.Z)(function*(){const m=yield f.getIdToken();return yield ei(f,function No(y,f){return qe.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var b,I,P,q,de,Le,Ye,pt;const ut=null!==(b=m.displayName)&&void 0!==b?b:void 0,rn=null!==(I=m.email)&&void 0!==I?I:void 0,rr=null!==(P=m.phoneNumber)&&void 0!==P?P:void 0,$a=null!==(q=m.photoURL)&&void 0!==q?q:void 0,t_=null!==(de=m.tenantId)&&void 0!==de?de:void 0,lu=null!==(Le=m._redirectEventId)&&void 0!==Le?Le:void 0,Jp=null!==(Ye=m.createdAt)&&void 0!==Ye?Ye:void 0,bd=null!==(pt=m.lastLoginAt)&&void 0!==pt?pt:void 0,{uid:Qp,emailVerified:n_,isAnonymous:Yl,providerData:Ga,stsTokenManager:$h}=m;j(Qp&&$h,f,"internal-error");const Gh=vt.fromJSON(this.name,$h);j("string"==typeof Qp,f,"internal-error"),mt(ut,f.name),mt(rn,f.name),j("boolean"==typeof n_,f,"internal-error"),j("boolean"==typeof Yl,f,"internal-error"),mt(rr,f.name),mt($a,f.name),mt(t_,f.name),mt(lu,f.name),mt(Jp,f.name),mt(bd,f.name);const Ko=new Ot({uid:Qp,auth:f,email:rn,emailVerified:n_,displayName:ut,isAnonymous:Yl,photoURL:$a,phoneNumber:rr,tenantId:t_,stsTokenManager:Gh,createdAt:Jp,lastLoginAt:bd});return Ga&&Array.isArray(Ga)&&(Ko.providerData=Ga.map(Jl=>Object.assign({},Jl))),lu&&(Ko._redirectEventId=lu),Ko}static _fromIdTokenResponse(f,m,b=!1){return(0,c.Z)(function*(){const I=new vt;I.updateFromServerResponse(m);const P=new Ot({uid:m.localId,auth:f,stsTokenManager:I,isAnonymous:b});return yield Jt(P),P})()}}const H=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,b){var I=this;return(0,c.Z)(function*(){I.storage[m]=b})()}_get(m){var b=this;return(0,c.Z)(function*(){const I=b.storage[m];return void 0===I?null:I})()}_remove(m){var b=this;return(0,c.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function J(y,f,m){return`firebase:${y}:${f}:${m}`}class be{constructor(f,m,b){this.persistence=f,this.auth=m,this.userKey=b;const{config:I,name:P}=this.auth;this.fullUserKey=J(this.userKey,I.apiKey,P),this.fullPersistenceKey=J("persistence",I.apiKey,P),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Ot._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,c.Z)(function*(){if(m.persistence===f)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,b="authUser"){return(0,c.Z)(function*(){if(!m.length)return new be(ce(H),f,b);const I=(yield Promise.all(m.map(function(){var Ye=(0,c.Z)(function*(pt){if(yield pt._isAvailable())return pt});return function(pt){return Ye.apply(this,arguments)}}()))).filter(Ye=>Ye);let P=I[0]||ce(H);const q=J(b,f.config.apiKey,f.name);let de=null;for(const Ye of m)try{const pt=yield Ye._get(q);if(pt){const ut=Ot._fromJSON(f,pt);Ye!==P&&(de=ut),P=Ye;break}}catch{}const Le=I.filter(Ye=>Ye._shouldAllowMigration);return P._shouldAllowMigration&&Le.length?(P=Le[0],de&&(yield P._set(q,de.toJSON())),yield Promise.all(m.map(function(){var Ye=(0,c.Z)(function*(pt){if(pt!==P)try{yield pt._remove(q)}catch{}});return function(pt){return Ye.apply(this,arguments)}}())),new be(P,f,b)):new be(P,f,b)})()}}function ee(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(cn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if($e(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Be(f))return"Blackberry";if(je(f))return"Webos";if(lt(f))return"Safari";if((f.includes("chrome/")||Zt(f))&&!f.includes("edge/"))return"Chrome";if($t(f))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function $e(y=(0,k.z$)()){return/firefox\//i.test(y)}function lt(y=(0,k.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Zt(y=(0,k.z$)()){return/crios\//i.test(y)}function cn(y=(0,k.z$)()){return/iemobile/i.test(y)}function $t(y=(0,k.z$)()){return/android/i.test(y)}function Be(y=(0,k.z$)()){return/blackberry/i.test(y)}function je(y=(0,k.z$)()){return/webos/i.test(y)}function kt(y=(0,k.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function zs(y=(0,k.z$)()){return kt(y)||$t(y)||je(y)||Be(y)||/windows phone/i.test(y)||cn(y)}function gs(y,f=[]){let m;switch(y){case"Browser":m=ee((0,k.z$)());break;case"Worker":m=`${ee((0,k.z$)())}-${y}`;break;default:m=y}const b=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ue.SDK_VERSION}/${b}`}class Mo{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const b=P=>new Promise((q,de)=>{try{q(f(P))}catch(Le){de(Le)}});b.onAbort=m,this.queue.push(b);const I=this.queue.length-1;return()=>{this.queue[I]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,c.Z)(function*(){var b;if(m.auth.currentUser===f)return;const I=[];try{for(const P of m.queue)yield P(f),P.onAbort&&I.push(P.onAbort)}catch(P){I.reverse();for(const q of I)try{q()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=P)||void 0===b?void 0:b.message})}})()}}class Rt{constructor(f,m,b){this.app=f,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zs(this),this.idTokenSubscription=new Zs(this),this.beforeStateQueue=new Mo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,m){var b=this;return m&&(this._popupRedirectResolver=ce(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var I,P;if(!b._deleted&&(b.persistenceManager=yield be.create(b,f),!b._deleted)){if(null!==(I=b._popupRedirectResolver)&&void 0!==I&&I._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(P=b.currentUser)||void 0===P?void 0:P.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,c.Z)(function*(){var b;const I=yield m.assertedPersistence.getCurrentUser();let P=I,q=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const de=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Le=P?._redirectEventId,Ye=yield m.tryRedirectSignIn(f);(!de||de===Le)&&Ye?.user&&(P=Ye.user,q=!0)}if(!P)return m.directlySetCurrentUser(null);if(!P._redirectEventId){if(q)try{yield m.beforeStateQueue.runMiddleware(P)}catch(de){P=I,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(de))}return P?m.reloadAndSetCurrentUserOrClear(P):m.directlySetCurrentUser(null)}return j(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===P._redirectEventId?m.directlySetCurrentUser(P):m.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(f){var m=this;return(0,c.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,c.Z)(function*(){var b;try{yield Jt(f)}catch(I){if("auth/network-request-failed"!==(null===(b=I)||void 0===b?void 0:b.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Ze(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,c.Z)(function*(){const b=f?(0,k.m9)(f):null;return b&&j(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(f,m=!1){var b=this;return(0,c.Z)(function*(){if(!b._deleted)return f&&j(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,c.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(ce(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new k.LL("auth","Firebase",f())}onAuthStateChanged(f,m,b){return this.registerStateListener(this.authStateSubscription,f,m,b)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,b){return this.registerStateListener(this.idTokenSubscription,f,m,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var b=this;return(0,c.Z)(function*(){const I=yield b.getOrInitRedirectPersistenceManager(m);return null===f?I.removeCurrentUser():I.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const b=f&&ce(f)||m._popupRedirectResolver;j(b,m,"argument-error"),m.redirectPersistenceManager=yield be.create(m,[ce(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,c.Z)(function*(){var b,I;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===f?m._currentUser:(null===(I=m.redirectUser)||void 0===I?void 0:I._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,c.Z)(function*(){if(f===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,b,I){if(this._deleted)return()=>{};const P="function"==typeof m?m:m.next.bind(m),q=this._isInitialized?Promise.resolve():this._initializationPromise;return j(q,this,"internal-error"),q.then(()=>P(this.currentUser)),"function"==typeof m?f.addObserver(m,b,I):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=gs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var m;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const I=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return I&&(b["X-Firebase-Client"]=I),b})()}}function yn(y){return(0,k.m9)(y)}class Zs{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,k.ne)(m=>this.observer=m)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Tr(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function ms(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class ui{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return me("not implemented")}_getIdTokenResponse(f){return me("not implemented")}_linkToIdToken(f,m){return me("not implemented")}_getReauthenticationResolver(f){return me("not implemented")}}function Wn(y,f){return ca.apply(this,arguments)}function ca(){return(ca=(0,c.Z)(function*(y,f){return nn(y,"POST","/v1/accounts:resetPassword",Nt(y,f))})).apply(this,arguments)}function on(y,f){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,c.Z)(function*(y,f){return nn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ac(y,f){return qs.apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(y,f){return nn(y,"POST","/v1/accounts:update",Nt(y,f))})).apply(this,arguments)}function Ui(){return(Ui=(0,c.Z)(function*(y,f){return Si(y,"POST","/v1/accounts:signInWithPassword",Nt(y,f))})).apply(this,arguments)}function ys(y,f){return dr.apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(y,f){return nn(y,"POST","/v1/accounts:sendOobCode",Nt(y,f))})).apply(this,arguments)}function Sn(y,f){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,c.Z)(function*(y,f){return ys(y,f)})).apply(this,arguments)}function ni(y,f){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,c.Z)(function*(y,f){return ys(y,f)})).apply(this,arguments)}function ll(y,f){return da.apply(this,arguments)}function da(){return(da=(0,c.Z)(function*(y,f){return ys(y,f)})).apply(this,arguments)}function Mc(y,f){return yi.apply(this,arguments)}function yi(){return(yi=(0,c.Z)(function*(y,f){return ys(y,f)})).apply(this,arguments)}function xu(){return(xu=(0,c.Z)(function*(y,f){return Si(y,"POST","/v1/accounts:signInWithEmailLink",Nt(y,f))})).apply(this,arguments)}function Ks(){return(Ks=(0,c.Z)(function*(y,f){return Si(y,"POST","/v1/accounts:signInWithEmailLink",Nt(y,f))})).apply(this,arguments)}class Oc extends ui{constructor(f,m,b,I=null){super("password",b),this._email=f,this._password=m,this._tenantId=I}static _fromEmailAndPassword(f,m){return new Oc(f,m,"password")}static _fromEmailAndCode(f,m,b=null){return new Oc(f,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function ua(y,f){return Ui.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function yh(y,f){return xu.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Ae(f,"internal-error")}})()}_linkToIdToken(f,m){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return on(f,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function vh(y,f){return Ks.apply(this,arguments)}(f,{idToken:m,email:b._email,oobCode:b._password});default:Ae(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Kn(y,f){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,c.Z)(function*(y,f){return Si(y,"POST","/v1/accounts:signInWithIdp",Nt(y,f))})).apply(this,arguments)}class Hr extends ui{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Hr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Ae("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:I}=m,P=(0,he._T)(m,["providerId","signInMethod"]);if(!b||!I)return null;const q=new Hr(b,I);return q.idToken=P.idToken||void 0,q.accessToken=P.accessToken||void 0,q.secret=P.secret,q.nonce=P.nonce,q.pendingToken=P.pendingToken||null,q}_getIdTokenResponse(f){return Kn(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,Kn(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Kn(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,k.xO)(m)}return f}}function yp(y,f){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,c.Z)(function*(y,f){return nn(y,"POST","/v1/accounts:sendVerificationCode",Nt(y,f))})).apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(y,f){return Si(y,"POST","/v1/accounts:signInWithPhoneNumber",Nt(y,f))})).apply(this,arguments)}function Bu(){return(Bu=(0,c.Z)(function*(y,f){const m=yield Si(y,"POST","/v1/accounts:signInWithPhoneNumber",Nt(y,f));if(m.temporaryProof)throw Ji(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const bp={USER_NOT_FOUND:"user-not-found"};function Vu(){return(Vu=(0,c.Z)(function*(y,f){return Si(y,"POST","/v1/accounts:signInWithPhoneNumber",Nt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),bp)})).apply(this,arguments)}class bs extends ui{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new bs({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new bs({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Rc(y,f){return vs.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function vp(y,f){return Bu.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Ep(y,f){return Vu.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:b,verificationCode:I}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:b,code:I}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:b,phoneNumber:I,temporaryProof:P}=f;return b||m||I||P?new bs({verificationId:m,verificationCode:b,phoneNumber:I,temporaryProof:P}):null}}class cl{constructor(f){var m,b,I,P,q,de;const Le=(0,k.zd)((0,k.pd)(f)),Ye=null!==(m=Le.apiKey)&&void 0!==m?m:null,pt=null!==(b=Le.oobCode)&&void 0!==b?b:null,ut=function Uu(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=Le.mode)&&void 0!==I?I:null);j(Ye&&pt&&ut,"argument-error"),this.apiKey=Ye,this.operation=ut,this.code=pt,this.continueUrl=null!==(P=Le.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(q=Le.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(de=Le.tenantId)&&void 0!==de?de:null}static parseLink(f){const m=function Hu(y){const f=(0,k.zd)((0,k.pd)(y)).link,m=f?(0,k.zd)((0,k.pd)(f)).deep_link_id:null,b=(0,k.zd)((0,k.pd)(y)).deep_link_id;return(b?(0,k.zd)((0,k.pd)(b)).link:null)||b||m||f||y}(f);try{return new cl(m)}catch{return null}}}let Sr=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return Oc._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const I=cl.parseLink(b);return j(I,"argument-error"),Oc._fromEmailAndCode(m,I.code,I.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class jr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class $r extends jr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ys extends $r{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return j("providerId"in m&&"signInMethod"in m,"argument-error"),Hr._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return j(f.idToken||f.accessToken,"argument-error"),Hr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ys.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ys.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:I,pendingToken:P,nonce:q,providerId:de}=f;if(!b&&!I&&!m&&!P||!de)return null;try{return new Ys(de)._credential({idToken:m,accessToken:b,nonce:q,pendingToken:P})}catch{return null}}}let ha=(()=>{class y extends $r{constructor(){super("facebook.com")}static credential(m){return Hr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ul=(()=>{class y extends $r{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return Hr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:I}=m;if(!b&&!I)return null;try{return y.credential(b,I)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Pc=(()=>{class y extends $r{constructor(){super("github.com")}static credential(m){return Hr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class ii extends ui{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Kn(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,Kn(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Kn(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:I,pendingToken:P}=m;return b&&I&&P&&b===I?new ii(b,P):null}static _create(f,m){return new ii(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Xi extends jr{constructor(f){j(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Xi.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Xi.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=ii.fromJSON(f);return j(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:b}=f;if(!m||!b)return null;try{return ii._create(b,m)}catch{return null}}}let Hi=(()=>{class y extends $r{constructor(){super("twitter.com")}static credential(m,b){return Hr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:I}=m;if(!b||!I)return null;try{return y.credential(b,I)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Oo(y,f){return dl.apply(this,arguments)}function dl(){return(dl=(0,c.Z)(function*(y,f){return Si(y,"POST","/v1/accounts:signUp",Nt(y,f))})).apply(this,arguments)}class vi{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,b,I=!1){return(0,c.Z)(function*(){const P=yield Ot._fromIdTokenResponse(f,b,I),q=Ch(b);return new vi({user:P,providerId:q,_tokenResponse:b,operationType:m})})()}static _forOperation(f,m,b){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const I=Ch(b);return new vi({user:f,providerId:I,_tokenResponse:b,operationType:m})})()}}function Ch(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Rn(){return(Rn=(0,c.Z)(function*(y){var f;const m=yn(y);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new vi({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Oo(m,{returnSecureToken:!0}),I=yield vi._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(I.user),I})).apply(this,arguments)}class hl extends k.ZR{constructor(f,m,b,I){var P;super(m.code,m.message),this.operationType=b,this.user=I,Object.setPrototypeOf(this,hl.prototype),this.customData={appName:f.name,tenantId:null!==(P=f.tenantId)&&void 0!==P?P:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,m,b,I){return new hl(f,m,b,I)}}function wh(y,f,m,b){return("reauthenticate"===f?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?hl._fromErrorAndOperation(y,P,f,b):P})}function er(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function fl(){return(fl=(0,c.Z)(function*(y,f){const m=(0,k.m9)(y);yield Gt(!0,m,f);const{providerUserInfo:b}=yield _i(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),I=er(b||[]);return m.providerData=m.providerData.filter(P=>I.has(P.providerId)),I.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Js(y,f){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(y,f,m=!1){const b=yield ei(y,f._linkToIdToken(y.auth,yield y.getIdToken()),m);return vi._forOperation(y,"link",b)})).apply(this,arguments)}function Gt(y,f,m){return pl.apply(this,arguments)}function pl(){return(pl=(0,c.Z)(function*(y,f,m){yield Jt(f);const I=!1===y?"provider-already-linked":"no-such-provider";j(er(f.providerData).has(m)===y,f.auth,I)})).apply(this,arguments)}function Qs(y,f){return gl.apply(this,arguments)}function gl(){return(gl=(0,c.Z)(function*(y,f,m=!1){var b;const{auth:I}=y,P="reauthenticate";try{const q=yield ei(y,wh(I,P,f,y),m);j(q.idToken,I,"internal-error");const de=at(q.idToken);j(de,I,"internal-error");const{sub:Le}=de;return j(y.uid===Le,I,"user-mismatch"),vi._forOperation(y,P,q)}catch(q){throw"auth/user-not-found"===(null===(b=q)||void 0===b?void 0:b.code)&&Ae(I,"user-mismatch"),q}})).apply(this,arguments)}function hr(y,f){return ml.apply(this,arguments)}function ml(){return(ml=(0,c.Z)(function*(y,f,m=!1){const b="signIn",I=yield wh(y,b,f),P=yield vi._fromIdTokenResponse(y,b,I);return m||(yield y._updateCurrentUser(P.user)),P})).apply(this,arguments)}function In(y,f){return wt.apply(this,arguments)}function wt(){return(wt=(0,c.Z)(function*(y,f){return hr(yn(y),f)})).apply(this,arguments)}function _l(y,f){return Th.apply(this,arguments)}function Th(){return(Th=(0,c.Z)(function*(y,f){const m=(0,k.m9)(y);return yield Gt(!1,m,f.providerId),Js(m,f)})).apply(this,arguments)}function yl(y,f){return vl.apply(this,arguments)}function vl(){return(vl=(0,c.Z)(function*(y,f){return Qs((0,k.m9)(y),f)})).apply(this,arguments)}function kc(y,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(y,f){return Si(y,"POST","/v1/accounts:signInWithCustomToken",Nt(y,f))})).apply(this,arguments)}function fa(){return(fa=(0,c.Z)(function*(y,f){const m=yn(y),b=yield kc(m,{token:f,returnSecureToken:!0}),I=yield vi._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(I.user),I})).apply(this,arguments)}class Ie{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Lt._fromServerResponse(f,m):Ae(f,"internal-error")}}class Lt extends Ie{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Lt(m)}}function bl(y,f,m){var b;j((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),j(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(j(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(j(m.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Pn(){return(Pn=(0,c.Z)(function*(y,f,m){const b=(0,k.m9)(y),I={requestType:"PASSWORD_RESET",email:f};m&&bl(b,I,m),yield ni(b,I)})).apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(y,f,m){yield Wn((0,k.m9)(y),{oobCode:f,newPassword:m})})).apply(this,arguments)}function pa(){return(pa=(0,c.Z)(function*(y,f){yield Ac((0,k.m9)(y),{oobCode:f})})).apply(this,arguments)}function ga(y,f){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,c.Z)(function*(y,f){const m=(0,k.m9)(y),b=yield Wn(m,{oobCode:f}),I=b.requestType;switch(j(I,m,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":j(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":j(b.mfaInfo,m,"internal-error");default:j(b.email,m,"internal-error")}let P=null;return b.mfaInfo&&(P=Ie._fromServerResponse(yn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:P},operation:I}})).apply(this,arguments)}function ju(){return(ju=(0,c.Z)(function*(y,f){const{data:m}=yield ga((0,k.m9)(y),f);return m.email})).apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(y,f,m){const b=yn(y),I=yield Oo(b,{returnSecureToken:!0,email:f,password:m}),P=yield vi._fromIdTokenResponse(b,"signIn",I);return yield b._updateCurrentUser(P.user),P})).apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(y,f,m){const b=(0,k.m9)(y),I={requestType:"EMAIL_SIGNIN",email:f};j(m.handleCodeInApp,b,"argument-error"),m&&bl(b,I,m),yield ll(b,I)})).apply(this,arguments)}function _a(){return(_a=(0,c.Z)(function*(y,f,m){const b=(0,k.m9)(y),I=Sr.credentialWithLink(f,m||Pe());return j(I._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),In(b,I)})).apply(this,arguments)}function Dp(y,f){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,c.Z)(function*(y,f){return nn(y,"POST","/v1/accounts:createAuthUri",Nt(y,f))})).apply(this,arguments)}function ya(){return(ya=(0,c.Z)(function*(y,f){const b={identifier:f,continueUri:ht()?Pe():"http://localhost"},{signinMethods:I}=yield Dp((0,k.m9)(y),b);return I||[]})).apply(this,arguments)}function va(){return(va=(0,c.Z)(function*(y,f){const m=(0,k.m9)(y),I={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&bl(m.auth,I,f);const{email:P}=yield Sn(m.auth,I);P!==y.email&&(yield y.reload())})).apply(this,arguments)}function wl(){return(wl=(0,c.Z)(function*(y,f,m){const b=(0,k.m9)(y),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};m&&bl(b.auth,P,m);const{email:q}=yield Mc(b.auth,P);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function Tl(y,f){return jc.apply(this,arguments)}function jc(){return(jc=(0,c.Z)(function*(y,f){return nn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Gc(){return(Gc=(0,c.Z)(function*(y,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const b=(0,k.m9)(y),P={idToken:yield b.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},q=yield ei(b,Tl(b.auth,P));b.displayName=q.displayName||null,b.photoURL=q.photoUrl||null;const de=b.providerData.find(({providerId:Le})=>"password"===Le);de&&(de.displayName=b.displayName,de.photoURL=b.photoURL),yield b._updateTokensIfNecessary(q)})).apply(this,arguments)}function to(y,f,m){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,c.Z)(function*(y,f,m){const{auth:b}=y,P={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(P.email=f),m&&(P.password=m);const q=yield ei(y,on(b,P));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class ji{constructor(f,m,b={}){this.isNewUser=f,this.providerId=m,this.profile=b}}class mn extends ji{constructor(f,m,b,I){super(f,m,b),this.username=I}}class Gu extends ji{constructor(f,m){super(f,"facebook.com",m)}}class Wc extends mn{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Sh extends ji{constructor(f,m){super(f,"google.com",m)}}class zc extends mn{constructor(f,m,b){super(f,"twitter.com",m,b)}}function Il(y){const{user:f,_tokenResponse:m}=y;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Yn(y){var f,m;if(!y)return null;const{providerId:b}=y,I=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},P=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const q=null===(m=null===(f=at(y.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(q)return new ji(P,"anonymous"!==q&&"custom"!==q?q:null)}if(!b)return null;switch(b){case"facebook.com":return new Gu(P,I);case"github.com":return new Wc(P,I);case"google.com":return new Sh(P,I);case"twitter.com":return new zc(P,I,y.screenName||null);case"custom":case"anonymous":return new ji(P,null);default:return new ji(P,b,I)}}(m)}class io{constructor(f,m,b){this.type=f,this.credential=m,this.auth=b}static _fromIdtoken(f,m){return new io("enroll",f,m)}static _fromMfaPendingCredential(f){return new io("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,b;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return io._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(b=f.multiFactorSession)&&void 0!==b&&b.idToken)return io._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Nl{constructor(f,m,b){this.session=f,this.hints=m,this.signInResolver=b}static _fromError(f,m){const b=yn(f),I=m.customData._serverResponse,P=(I.mfaInfo||[]).map(de=>Ie._fromServerResponse(b,de));j(I.mfaPendingCredential,b,"internal-error");const q=io._fromMfaPendingCredential(I.mfaPendingCredential);return new Nl(q,P,function(){var de=(0,c.Z)(function*(Le){const Ye=yield Le._process(b,q);delete I.mfaInfo,delete I.mfaPendingCredential;const pt=Object.assign(Object.assign({},I),{idToken:Ye.idToken,refreshToken:Ye.refreshToken});switch(m.operationType){case"signIn":const ut=yield vi._fromIdTokenResponse(b,m.operationType,pt);return yield b._updateCurrentUser(ut.user),ut;case"reauthenticate":return j(m.user,b,"internal-error"),vi._forOperation(m.user,m.operationType,pt);default:Ae(b,"internal-error")}});return function(Le){return de.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,c.Z)(function*(){return m.signInResolver(f)})()}}function Ml(y,f){return nn(y,"POST","/v2/accounts/mfaEnrollment:start",Nt(y,f))}class Ih{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>Ie._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new Ih(f)}getSession(){var f=this;return(0,c.Z)(function*(){return io._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var b=this;return(0,c.Z)(function*(){const I=f,P=yield b.getSession(),q=yield ei(b.user,I._process(b.user.auth,P,m));return yield b.user._updateTokensIfNecessary(q),b.user.reload()})()}unenroll(f){var m=this;return(0,c.Z)(function*(){var b;const I="string"==typeof f?f:f.uid,P=yield m.user.getIdToken(),q=yield ei(m.user,function qu(y,f){return nn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Nt(y,f))}(m.user.auth,{idToken:P,mfaEnrollmentId:I}));m.enrolledFactors=m.enrolledFactors.filter(({uid:de})=>de!==I),yield m.user._updateTokensIfNecessary(q);try{yield m.user.reload()}catch(de){if("auth/user-token-expired"!==(null===(b=de)||void 0===b?void 0:b.code))throw de}})()}}const ro=new WeakMap,so="__sak";class Rl{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(so,"1"),this.storage.removeItem(so),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ea=(()=>{class y extends Rl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ba(){const y=(0,k.z$)();return lt(y)||kt(y)}()&&function gn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=zs(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const I=this.storage.getItem(b),P=this.localCache[b];I!==P&&m(b,P,I)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((de,Le,Ye)=>{this.notifyListeners(de,Ye)});const I=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(I);if(m.newValue!==de)null!==m.newValue?this.storage.setItem(I,m.newValue):this.storage.removeItem(I);else if(this.localCache[I]===m.newValue&&!b)return}const P=()=>{const de=this.storage.getItem(I);!b&&this.localCache[I]===de||this.notifyListeners(I,de)},q=this.storage.getItem(I);!function qn(){return(0,k.w1)()&&10===document.documentMode}()||q===m.newValue||m.newValue===m.oldValue?P():setTimeout(P,10)}notifyListeners(m,b){this.localCache[m]=b;const I=this.listeners[m];if(I)for(const P of Array.from(I))P(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var I=()=>super._set,P=this;return(0,c.Z)(function*(){yield I().call(P,m,b),P.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,I=this;return(0,c.Z)(function*(){const P=yield b().call(I,m);return I.localCache[m]=JSON.stringify(P),P})()}_remove(m){var b=()=>super._remove,I=this;return(0,c.Z)(function*(){yield b().call(I,m),delete I.localCache[m]})()}}return y.type="LOCAL",y})(),Ar=(()=>{class y extends Rl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let Ju=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(P=>P.isListeningto(m));if(b)return b;const I=new y(m);return this.receivers.push(I),I}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,c.Z)(function*(){const I=m,{eventId:P,eventType:q,data:de}=I.data,Le=b.handlersMap[q];if(!Le?.size)return;I.ports[0].postMessage({status:"ack",eventId:P,eventType:q});const Ye=Array.from(Le).map(function(){var ut=(0,c.Z)(function*(rn){return rn(I.origin,de)});return function(rn){return ut.apply(this,arguments)}}()),pt=yield function Da(y){return Promise.all(y.map(function(){var f=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return f.apply(this,arguments)}}()))}(Ye);I.ports[0].postMessage({status:"done",eventId:P,eventType:q,response:pt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function wa(y="",f=10){let m="";for(let b=0;b<f;b++)m+=Math.floor(10*Math.random());return y+m}class Zc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,b=50){var I=this;return(0,c.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let q,de;return new Promise((Le,Ye)=>{const pt=wa("",20);P.port1.start();const ut=setTimeout(()=>{Ye(new Error("unsupported_event"))},b);de={messageChannel:P,onMessage(rn){const rr=rn;if(rr.data.eventId===pt)switch(rr.data.status){case"ack":clearTimeout(ut),q=setTimeout(()=>{Ye(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Le(rr.data.response);break;default:clearTimeout(ut),clearTimeout(q),Ye(new Error("invalid_response"))}}},I.handlers.add(de),P.port1.addEventListener("message",de.onMessage),I.target.postMessage({eventType:f,eventId:pt,data:m},[P.port2])}).finally(()=>{de&&I.removeMessageHandler(de)})})()}}function Vn(){return window}function Pl(){return typeof Vn().WorkerGlobalScope<"u"&&"function"==typeof Vn().importScripts}function Ta(){return(Ta=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ds="firebaseLocalStorageDb",ws="firebaseLocalStorage",Fl="fbase_key";class ao{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Sa(y,f){return y.transaction([ws],f?"readwrite":"readonly").objectStore(ws)}function Fo(){const y=indexedDB.open(Ds,1);return new Promise((f,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(ws,{keyPath:Fl})}catch(I){m(I)}}),y.addEventListener("success",(0,c.Z)(function*(){const b=y.result;b.objectStoreNames.contains(ws)?f(b):(b.close(),yield function Xu(){const y=indexedDB.deleteDatabase(Ds);return new ao(y).toPromise()}(),f(yield Fo()))}))})}function qr(y,f,m){return qc.apply(this,arguments)}function qc(){return(qc=(0,c.Z)(function*(y,f,m){const b=Sa(y,!0).put({[Fl]:f,value:m});return new ao(b).toPromise()})).apply(this,arguments)}function Ia(){return(Ia=(0,c.Z)(function*(y,f){const m=Sa(y,!1).get(f),b=yield new ao(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function lo(y,f){const m=Sa(y,!0).delete(f);return new ao(m).toPromise()}const Lo=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield Fo()),m.db})()}_withRetries(m){var b=this;return(0,c.Z)(function*(){let I=0;for(;;)try{const P=yield b._openDb();return yield m(P)}catch(P){if(I++>3)throw P;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return Pl()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=Ju._getInstance(function xl(){return Pl()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(I,P){return{keyProcessed:(yield m._poll()).includes(P.key)}});return function(I,P){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(I,P){return["keyChanged"]});return function(I,P){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var b,I;if(m.activeServiceWorker=yield function oo(){return Ta.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Zc(m.activeServiceWorker);const P=yield m.sender._send("ping",{},800);!P||(null===(b=P[0])||void 0===b?void 0:b.fulfilled)&&(null===(I=P[0])||void 0===I?void 0:I.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function kl(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Fo();return yield qr(m,so,"1"),yield lo(m,so),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var I=this;return(0,c.Z)(function*(){return I._withPendingWrite((0,c.Z)(function*(){return yield I._withRetries(P=>qr(P,m,b)),I.localCache[m]=b,I.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,c.Z)(function*(){const I=yield b._withRetries(P=>function Ll(y,f){return Ia.apply(this,arguments)}(P,m));return b.localCache[m]=I,I})()}_remove(m){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(I=>lo(I,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const b=yield m._withRetries(q=>{const de=Sa(q,!1).getAll();return new ao(de).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const I=[],P=new Set;for(const{fbase_key:q,value:de}of b)P.add(q),JSON.stringify(m.localCache[q])!==JSON.stringify(de)&&(m.notifyListeners(q,de),I.push(q));for(const q of Object.keys(m.localCache))m.localCache[q]&&!P.has(q)&&(m.notifyListeners(q,null),I.push(q));return I})()}notifyListeners(m,b){this.localCache[m]=b;const I=this.listeners[m];if(I)for(const P of Array.from(I))P(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Bo(y,f){return nn(y,"POST","/v2/accounts/mfaSignIn:start",Nt(y,f))}function Ts(){return(Ts=(0,c.Z)(function*(y){return(yield nn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Uo(y){return new Promise((f,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=f,b.onerror=I=>{const P=ye("internal-error");P.customData=I,m(P)},b.type="text/javascript",b.charset="UTF-8",function Vo(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(b)})}function Ul(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Aa=1e12;class hn{constructor(f){this.auth=f,this.counter=Aa,this._widgets=new Map}render(f,m){const b=this.counter;return this._widgets.set(b,new wp(f,this.auth.name,m||{})),this.counter++,b}reset(f){var m;const b=f||Aa;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Aa))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,c.Z)(function*(){var b;return null===(b=m._widgets.get(f||Aa))||void 0===b||b.execute(),""})()}}class wp{constructor(f,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof f?document.getElementById(f):f;j(I,"argument-error",{appName:m}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Vm(y){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Tp=Ul("rcb"),Um=new tn(3e4,6e4);class Ah{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Vn().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return j(function P0(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Vn().grecaptcha):new Promise((b,I)=>{const P=Vn().setTimeout(()=>{I(ye(f,"network-request-failed"))},Um.get());Vn()[Tp]=()=>{Vn().clearTimeout(P),delete Vn()[Tp];const de=Vn().grecaptcha;if(!de)return void I(ye(f,"internal-error"));const Le=de.render;de.render=(Ye,pt)=>{const ut=Le(Ye,pt);return this.counter++,ut},this.hostLanguage=m,b(de)},Uo(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Tp,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(P),I(ye(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=Vn().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class jo{load(f){return(0,c.Z)(function*(){return new hn(f)})()}clearedOneInstance(){}}const Sp="recaptcha",Ip={theme:"light",type:"image"};class si{constructor(f,m=Object.assign({},Ip),b){this.parameters=m,this.type=Sp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(b),this.isInvisible="invisible"===this.parameters.size,j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof f?document.getElementById(f):f;j(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new jo:new Ah,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(m)||new Promise(P=>{const q=de=>{!de||(f.tokenChangeListeners.delete(q),P(de))};f.tokenChangeListeners.add(q),f.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){j(!this.parameters.sitekey,this.auth,"argument-error"),j(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof f)f(m);else if("string"==typeof f){const b=Vn()[f];"function"==typeof b&&b(m)}}}assertNotDestroyed(){j(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){j(ht()&&!Pl(),f.auth,"internal-error"),yield function fn(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function $i(y){return Ts.apply(this,arguments)}(f.auth);j(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return j(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Gi{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=bs._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function un(){return(un=(0,c.Z)(function*(y,f,m){const b=yn(y),I=yield Ss(b,f,(0,k.m9)(m));return new Gi(I,P=>In(b,P))})).apply(this,arguments)}function pr(){return(pr=(0,c.Z)(function*(y,f,m){const b=(0,k.m9)(y);yield Gt(!1,b,"phone");const I=yield Ss(b.auth,f,(0,k.m9)(m));return new Gi(I,P=>_l(b,P))})).apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(y,f,m){const b=(0,k.m9)(y),I=yield Ss(b.auth,f,(0,k.m9)(m));return new Gi(I,P=>yl(b,P))})).apply(this,arguments)}function Ss(y,f,m){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,c.Z)(function*(y,f,m){var b;const I=yield m.verify();try{let P;if(j("string"==typeof I,y,"argument-error"),j(m.type===Sp,y,"argument-error"),P="string"==typeof f?{phoneNumber:f}:f,"session"in P){const q=P.session;if("phoneNumber"in P)return j("enroll"===q.type,y,"internal-error"),(yield Ml(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{j("signin"===q.type,y,"internal-error");const de=(null===(b=P.multiFactorHint)||void 0===b?void 0:b.uid)||P.multiFactorUid;return j(de,y,"missing-multi-factor-info"),(yield Bo(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield yp(y,{phoneNumber:P.phoneNumber,recaptchaToken:I});return q}}finally{m._reset()}})).apply(this,arguments)}function Yc(){return(Yc=(0,c.Z)(function*(y,f){yield Js((0,k.m9)(y),f)})).apply(this,arguments)}let Ma=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=yn(m)}verifyPhoneNumber(m,b){return Ss(this.auth,m,(0,k.m9)(b))}static credential(m,b){return bs._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:I}=m;return b&&I?bs._fromTokenResponse(b,I):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function $o(y,f){return f?ce(f):(j(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Yr extends ui{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Kn(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Kn(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Kn(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function We(y){return hr(y.auth,new Yr(y),y.bypassAuthState)}function Oa(y){const{auth:f,user:m}=y;return j(m,f,"internal-error"),Qs(m,new Yr(y),y.bypassAuthState)}function Is(y){return Go.apply(this,arguments)}function Go(){return(Go=(0,c.Z)(function*(y){const{auth:f,user:m}=y;return j(m,f,"internal-error"),Js(m,new Yr(y),y.bypassAuthState)})).apply(this,arguments)}class Wo{constructor(f,m,b,I,P=!1){this.auth=f,this.resolver=b,this.user=I,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,c.Z)(function*(b,I){f.pendingPromise={resolve:b,reject:I};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(P){f.reject(P)}});return function(b,I){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:I,postBody:P,tenantId:q,error:de,type:Le}=f;if(de)return void m.reject(de);const Ye={auth:m.auth,requestUri:b,sessionId:I,tenantId:q||void 0,postBody:P||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Le)(Ye))}catch(pt){m.reject(pt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return We;case"linkViaPopup":case"linkViaRedirect":return Is;case"reauthViaPopup":case"reauthViaRedirect":return Oa;default:Ae(this.auth,"internal-error")}}resolve(f){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const an=new tn(2e3,1e4);function Jr(){return(Jr=(0,c.Z)(function*(y,f,m){const b=yn(y);Ue(y,f,jr);const I=$o(b,m);return new gr(b,"signInViaPopup",f,I).executeNotNull()})).apply(this,arguments)}function Qc(){return(Qc=(0,c.Z)(function*(y,f,m){const b=(0,k.m9)(y);Ue(b.auth,f,jr);const I=$o(b.auth,m);return new gr(b.auth,"reauthViaPopup",f,I,b).executeNotNull()})).apply(this,arguments)}function Ra(){return(Ra=(0,c.Z)(function*(y,f,m){const b=(0,k.m9)(y);Ue(b.auth,f,jr);const I=$o(b.auth,m);return new gr(b.auth,"linkViaPopup",f,I,b).executeNotNull()})).apply(this,arguments)}let gr=(()=>{class y extends Wo{constructor(m,b,I,P,q){super(m,b,P,q),this.provider=I,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const b=yield m.execute();return j(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,c.Z)(function*(){Y(1===m.filter.length,"Popup operations only handle one event");const b=wa();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(I=>{m.reject(I)}),m.resolver._isIframeWebStorageSupported(m.auth,I=>{I||m.reject(ye(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,I;this.pollId=null!==(I=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==I&&I.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,an.get())};m()}}return y.currentPopupAction=null,y})();const mr=new Map;class Xc extends Wo{constructor(f,m,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,c.Z)(function*(){let b=mr.get(m.auth._key());if(!b){try{const P=(yield function Wi(y,f){return hi.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;b=()=>Promise.resolve(P)}catch(I){b=()=>Promise.reject(I)}mr.set(m.auth._key(),b)}return m.bypassAuthState||mr.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(b,f);if("unknown"!==f.type){if(f.eventId){const I=yield b.auth._redirectUserForId(f.eventId);if(I)return b.user=I,m().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function hi(){return(hi=(0,c.Z)(function*(y,f){const m=An(f),b=Qr(y);if(!(yield b._isAvailable()))return!1;const I="true"===(yield b._get(m));return yield b._remove(m),I})).apply(this,arguments)}function _r(y,f){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,c.Z)(function*(y,f){return Qr(y)._set(An(f),"true")})).apply(this,arguments)}function As(y,f){mr.set(y._key(),f)}function Qr(y){return ce(y._redirectPersistence)}function An(y){return J("pendingRedirect",y.config.apiKey,y.name)}function w(){return(w=(0,c.Z)(function*(y,f,m){const b=yn(y);Ue(y,f,jr);const I=$o(b,m);return yield _r(I,b),I._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function V(){return(V=(0,c.Z)(function*(y,f,m){const b=(0,k.m9)(y);Ue(b.auth,f,jr);const I=$o(b.auth,m);yield _r(I,b.auth);const P=yield ct(b);return I._openRedirect(b.auth,f,"reauthViaRedirect",P)})).apply(this,arguments)}function De(){return(De=(0,c.Z)(function*(y,f,m){const b=(0,k.m9)(y);Ue(b.auth,f,jr);const I=$o(b.auth,m);yield Gt(!1,b,f.providerId),yield _r(I,b.auth);const P=yield ct(b);return I._openRedirect(b.auth,f,"linkViaRedirect",P)})).apply(this,arguments)}function nt(){return(nt=(0,c.Z)(function*(y,f){return yield yn(y)._initializationPromise,_t(y,f,!1)})).apply(this,arguments)}function _t(y,f){return At.apply(this,arguments)}function At(){return(At=(0,c.Z)(function*(y,f,m=!1){const b=yn(y),I=$o(b,f),q=yield new Xc(b,I,m).execute();return q&&!m&&(delete q.user._redirectEventId,yield b._persistUserIfCurrent(q.user),yield b._setRedirectUser(null,f)),q})).apply(this,arguments)}function ct(y){return bn.apply(this,arguments)}function bn(){return(bn=(0,c.Z)(function*(y){const f=wa(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class uo{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(m=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Mr(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return It(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var b;if(f.error&&!It(f)){const I=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(ye(this.auth,I))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const b=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xr(f))}saveEventToCache(f){this.cachedEventUids.add(Xr(f)),this.lastProcessedEventTime=Date.now()}}function Xr(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function It({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function Ns(y){return nr.apply(this,arguments)}function nr(){return(nr=(0,c.Z)(function*(y,f={}){return nn(y,"GET","/v1/projects",f)})).apply(this,arguments)}const zo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ho=/^https?/;function Nh(){return(Nh=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Ns(y);for(const m of f)try{if(Mp(m))return}catch{}Ae(y,"unauthorized-domain")})).apply(this,arguments)}function Mp(y){const f=Pe(),{protocol:m,hostname:b}=new URL(f);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&q.hostname===b}if(!ho.test(m))return!1;if(zo.test(y))return b===y;const I=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(b)}const Op=new tn(3e4,6e4);function jm(){const y=Vn().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Or=null;function Mh(y){return Or=Or||function Jn(y){return new Promise((f,m)=>{var b,I,P;function q(){jm(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{jm(),m(ye(y,"network-request-failed"))},timeout:Op.get()})}if(null!==(I=null===(b=Vn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==I&&I.Iframe)f(gapi.iframes.getContext());else{if(null===(P=Vn().gapi)||void 0===P||!P.load){const de=Ul("iframefcb");return Vn()[de]=()=>{gapi.load?q():m(ye(y,"network-request-failed"))},Uo(`https://apis.google.com/js/api.js?onload=${de}`).catch(Le=>m(Le))}q()}}).catch(f=>{throw Or=null,f})}(y),Or}const Rp=new tn(5e3,15e3),$m={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pp(y){const f=y.config;j(f.authDomain,y,"auth-domain-config-required");const m=f.emulator?pn(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:y.name,v:ue.SDK_VERSION},I=Rh.get(y.config.apiHost);I&&(b.eid=I);const P=y._getFrameworks();return P.length&&(b.fw=P.join(",")),`${m}?${(0,k.xO)(b).slice(1)}`}function ka(){return ka=(0,c.Z)(function*(y){const f=yield Mh(y),m=Vn().gapi;return j(m,y,"internal-error"),f.open({where:document.body,url:Pp(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$m,dontclear:!0},b=>new Promise(function(){var I=(0,c.Z)(function*(P,q){yield b.restyle({setHideOnLeave:!1});const de=ye(y,"network-request-failed"),Le=Vn().setTimeout(()=>{q(de)},Rp.get());function Ye(){Vn().clearTimeout(Le),P(b)}b.ping(Ye).then(Ye,()=>{q(de)})});return function(P,q){return I.apply(this,arguments)}}()))}),ka.apply(this,arguments)}const ed={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class eu{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function go(y,f,m,b,I,P){j(y.config.authDomain,y,"auth-domain-config-required"),j(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:ue.SDK_VERSION,eventId:I};if(f instanceof jr){f.setDefaultLanguage(y.languageCode),q.providerId=f.providerId||"",(0,k.xb)(f.getCustomParameters())||(q.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Le,Ye]of Object.entries(P||{}))q[Le]=Ye}if(f instanceof $r){const Le=f.getScopes().filter(Ye=>""!==Ye);Le.length>0&&(q.scopes=Le.join(","))}y.tenantId&&(q.tid=y.tenantId);const de=q;for(const Le of Object.keys(de))void 0===de[Le]&&delete de[Le];return`${function id({config:y}){return y.emulator?pn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,k.xO)(de).slice(1)}`}const Fa="webStorageSupport";class vr extends class Gm{constructor(f){this.factorId=f}_process(f,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,b);case"signin":return this._finalizeSignIn(f,m.credential);default:return me("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new vr(f)}_finalizeEnroll(f,m,b){return function Ol(y,f){return nn(y,"POST","/v2/accounts/mfaEnrollment:finalize",Nt(y,f))}(f,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Vl(y,f){return nn(y,"POST","/v2/accounts/mfaSignIn:finalize",Nt(y,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let mo=(()=>{class y{constructor(){}static assertion(m){return vr._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var kh="@firebase/auth",xh="0.20.10";class Wm{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(b=>{var I;f((null===(I=b)||void 0===I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function La(){return window}function Ba(){return(Ba=(0,c.Z)(function*(y,f,m){var b;const{BuildInfo:I}=La();Y(f.sessionId,"AuthEvent did not contain a session ID");const P=yield Va(f.sessionId),q={};return kt()?q.ibi=I.packageName:$t()?q.apn=I.packageName:Ae(y,"operation-not-supported-in-this-environment"),I.displayName&&(q.appDisplayName=I.displayName),q.sessionId=P,go(y,m,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,q)})).apply(this,arguments)}function Gl(){return(Gl=(0,c.Z)(function*(y){const{BuildInfo:f}=La(),m={};kt()?m.iosBundleId=f.packageName:$t()?m.androidPackageName=f.packageName:Ae(y,"operation-not-supported-in-this-environment"),yield Ns(y,m)})).apply(this,arguments)}function Vp(){return(Vp=(0,c.Z)(function*(y,f,m){const{cordova:b}=La();let I=()=>{};try{yield new Promise((P,q)=>{let de=null;function Le(){var ut;P();const rn=null===(ut=b.plugins.browsertab)||void 0===ut?void 0:ut.close;"function"==typeof rn&&rn(),"function"==typeof m?.close&&m.close()}function Ye(){de||(de=window.setTimeout(()=>{q(ye(y,"redirect-cancelled-by-user"))},2e3))}function pt(){"visible"===document?.visibilityState&&Ye()}f.addPassiveListener(Le),document.addEventListener("resume",Ye,!1),$t()&&document.addEventListener("visibilitychange",pt,!1),I=()=>{f.removePassiveListener(Le),document.removeEventListener("resume",Ye,!1),document.removeEventListener("visibilitychange",pt,!1),de&&window.clearTimeout(de)}})}finally{I()}})).apply(this,arguments)}function Va(y){return _o.apply(this,arguments)}function _o(){return(_o=(0,c.Z)(function*(y){const f=nu(y),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function nu(y){if(Y(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),m=new Uint8Array(f);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}(0,k.Pz)("authIdTokenMaxAge"),function Zm(y){(0,ue._registerComponent)(new ae.wA("auth",(f,{options:m})=>{const b=f.getProvider("app").getImmediate(),I=f.getProvider("heartbeat"),{apiKey:P,authDomain:q}=b.options;return((de,Le)=>{j(P&&!P.includes(":"),"invalid-api-key",{appName:de.name}),j(!q?.includes(":"),"argument-error",{appName:de.name});const Ye={apiKey:P,authDomain:q,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gs(y)},pt=new Rt(de,Le,Ye);return function ke(y,f){const m=f?.persistence||[],b=(Array.isArray(m)?m:[m]).map(ce);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(b,f?.popupRedirectResolver)}(pt,m),pt})(b,I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,b)=>{f.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new ae.wA("auth-internal",f=>{const m=yn(f.getProvider("auth").getImmediate());return new Wm(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(kh,xh,function zm(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ue.registerVersion)(kh,xh,"esm2017")}("Browser");class Fh extends uo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function Hp(y){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,c.Z)(function*(y){const f=yield zl()._get(yo(y));return f&&(yield zl()._remove(yo(y))),f})).apply(this,arguments)}function sd(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*f.length);y.push(f.charAt(b))}return y.join("")}function zl(){return ce(Ea)}function yo(y){return J("authEvent",y.config.apiKey,y.name)}function od(y){if(!y?.includes("?"))return{};const[f,...m]=y.split("?");return(0,k.zd)(m.join("?"))}function ld(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ye("no-auth-event")}}function ud(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Zl(y=(0,k.z$)()){return!("file:"!==ud()&&"ionic:"!==ud()&&"capacitor:"!==ud()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zp(){try{const y=self.localStorage,f=wa();if(y)return y.setItem(f,"1"),y.removeItem(f),!function zp(y=(0,k.z$)()){return function Gp(){return(0,k.w1)()&&11===document?.documentMode}()||function Wp(y=(0,k.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,k.hl)()}catch{return dd()&&(0,k.hl)()}return!1}function dd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function hd(){return(function B0(){return"http:"===ud()||"https:"===ud()}()||(0,k.ru)()||Zl())&&!function Vh(){return(0,k.b$)()||(0,k.UG)()}()&&Zp()&&!dd()}function iu(){return Zl()&&typeof document<"u"}function fd(){return(fd=(0,c.Z)(function*(){return!!iu()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const Mi={LOCAL:"local",NONE:"none",SESSION:"session"},ir=j,br="persistence";function ql(y){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,c.Z)(function*(y){yield y._initializationPromise;const f=su(),m=J(br,y.config.apiKey,y.name);f&&f.setItem(m,y._getPersistence())})).apply(this,arguments)}function su(){var y;try{return(null===(y=function ru(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const pd=j;class bi{constructor(){this.browserResolver=ce(class Fp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ar,this._completeRedirectFn=_t,this._overrideRedirectResult=As}_openPopup(f,m,b,I){var P=this;return(0,c.Z)(function*(){var q;Y(null===(q=P.eventManagers[f._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const de=go(f,m,b,Pe(),I);return function po(y,f,m,b=500,I=600){const P=Math.max((window.screen.availHeight-I)/2,0).toString(),q=Math.max((window.screen.availWidth-b)/2,0).toString();let de="";const Le=Object.assign(Object.assign({},ed),{width:b.toString(),height:I.toString(),top:P,left:q}),Ye=(0,k.z$)().toLowerCase();m&&(de=Zt(Ye)?"_blank":m),$e(Ye)&&(f=f||"http://localhost",Le.scrollbars="yes");const pt=Object.entries(Le).reduce((rn,[rr,$a])=>`${rn}${rr}=${$a},`,"");if(function Vi(y=(0,k.z$)()){var f;return kt(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ye)&&"_self"!==de)return function xp(y,f){const m=document.createElement("a");m.href=y,m.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(f||"",de),new eu(null);const ut=window.open(f||"",de,pt);j(ut,y,"popup-blocked");try{ut.focus()}catch{}return new eu(ut)}(f,de,wa())})()}_openRedirect(f,m,b,I){var P=this;return(0,c.Z)(function*(){return yield P._originValidation(f),function fr(y){Vn().location.href=y}(go(f,m,b,Pe(),I)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:I,promise:P}=this.eventManagers[m];return I?Promise.resolve(I):(Y(P,"If manager is not set, promise should be"),P)}const b=this.initAndGetManager(f);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(f){var m=this;return(0,c.Z)(function*(){const b=yield function kp(y){return ka.apply(this,arguments)}(f),I=new uo(f);return b.register("authEvent",P=>(j(P?.authEvent,f,"invalid-auth-event"),{status:I.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:I},m.iframes[f._key()]=b,I})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Fa,{type:Fa},I=>{var P;const q=null===(P=I?.[0])||void 0===P?void 0:P[Fa];void 0!==q&&m(!!q),Ae(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function yr(y){return Nh.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return zs()||lt()||kt()}}),this.cordovaResolver=ce(class ad{constructor(){this._redirectPersistence=Ar,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_t,this._overrideRedirectResult=As}_initialize(f){var m=this;return(0,c.Z)(function*(){const b=f._key();let I=m.eventManagers.get(b);return I||(I=new Fh(f),m.eventManagers.set(b,I),m.attachCallbackListeners(f,I)),I})()}_openPopup(f){Ae(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,b,I){var P=this;return(0,c.Z)(function*(){!function L0(y){var f,m,b,I,P,q,de,Le,Ye,pt;const ut=La();j("function"==typeof(null===(f=ut?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),j(typeof(null===(m=ut?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),j("function"==typeof(null===(P=null===(I=null===(b=ut?.cordova)||void 0===b?void 0:b.plugins)||void 0===I?void 0:I.browsertab)||void 0===P?void 0:P.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(Le=null===(de=null===(q=ut?.cordova)||void 0===q?void 0:q.plugins)||void 0===de?void 0:de.browsertab)||void 0===Le?void 0:Le.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(pt=null===(Ye=ut?.cordova)||void 0===Ye?void 0:Ye.InAppBrowser)||void 0===pt?void 0:pt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const q=yield P._initialize(f);yield q.initialized(),q.resetRedirect(),function Un(){mr.clear()}(),yield P._originValidation(f);const de=function Up(y,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:sd(),postBody:null,tenantId:y.tenantId,error:ye(y,"no-auth-event")}}(f,b,I);yield function Wl(y,f){return zl()._set(yo(y),f)}(f,de);const Le=yield function Rr(y,f,m){return Ba.apply(this,arguments)}(f,de,m),Ye=yield function Km(y){const{cordova:f}=La();return new Promise(m=>{f.plugins.browsertab.isAvailable(b=>{let I=null;b?f.plugins.browsertab.openUrl(y):I=f.InAppBrowser.open(y,function ti(y=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(I)})})}(Le);return function F0(y,f,m){return Vp.apply(this,arguments)}(f,q,Ye)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Zo(y){return Gl.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:b,handleOpenURL:I,BuildInfo:P}=La(),q=setTimeout((0,c.Z)(function*(){yield Hp(f),m.onEvent(ld())}),500),de=function(){var pt=(0,c.Z)(function*(ut){clearTimeout(q);const rn=yield Hp(f);let rr=null;rn&&ut?.url&&(rr=function Bh(y,f){var m,b;const I=function Fn(y){const f=od(y),m=f.link?decodeURIComponent(f.link):void 0,b=od(m).link,I=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return od(I).link||I||b||m||y}(f);if(I.includes("/__/auth/callback")){const P=od(I),q=P.firebaseError?function Jm(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(P.firebaseError)):null,de=null===(b=null===(m=q?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Le=de?ye(de):null;return Le?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:I,postBody:null}}return null}(rn,ut.url)),m.onEvent(rr||ld())});return function(rn){return pt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,de);const Le=I,Ye=`${P.packageName.toLowerCase()}://`;La().handleOpenURL=function(){var pt=(0,c.Z)(function*(ut){if(ut.toLowerCase().startsWith(Ye)&&de({url:ut}),"function"==typeof Le)try{Le(ut)}catch(rn){console.error(rn)}});return function(ut){return pt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ar,this._completeRedirectFn=_t,this._overrideRedirectResult=As}_initialize(f){var m=this;return(0,c.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,b,I){var P=this;return(0,c.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(f,m,b,I)})()}_openRedirect(f,m,b,I){var P=this;return(0,c.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(f,m,b,I)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return iu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return pd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const m=yield function V0(){return fd.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function gd(y){return y.unwrap()}function Kp(y){return au(y)}function au(y){const{_tokenResponse:f}=y instanceof k.ZR?y.customData:y;if(!f)return null;if(!(y instanceof k.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Ma.credentialFromResult(y);const m=f.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=ul;break;case"facebook.com":b=ha;break;case"github.com":b=Pc;break;case"twitter.com":b=Hi;break;default:const{oauthIdToken:I,oauthAccessToken:P,oauthTokenSecret:q,pendingToken:de,nonce:Le}=f;return P||q||I||de?de?m.startsWith("saml.")?ii._create(m,de):Hr._fromParams({providerId:m,signInMethod:m,pendingToken:de,idToken:I,accessToken:P}):new Ys(m).credential({idToken:I,accessToken:P,rawNonce:Le}):null}return y instanceof k.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function oi(y,f){return f.catch(m=>{throw m instanceof k.ZR&&function Uh(y,f){var m,b;const I=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=f)||void 0===b?void 0:b.code))f.resolver=new Xm(y,function xn(y,f){var m;const b=(0,k.m9)(y),I=f;return j(f.customData.operationType,b,"argument-error"),j(null===(m=I.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Nl._fromError(b,I)}(y,f));else if(I){const P=au(f),q=f;P&&(q.credential=P,q.tenantId=I.tenantId||void 0,q.email=I.email||void 0,q.phoneNumber=I.phoneNumber||void 0)}}(y,m),m}).then(m=>{const I=m.user;return{operationType:m.operationType,credential:Kp(m),additionalUserInfo:Il(m),user:es.getOrCreate(I)}})}function Ha(y,f){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,c.Z)(function*(y,f){const m=yield f;return{verificationId:m.verificationId,confirm:b=>oi(y,m.confirm(b))}})).apply(this,arguments)}class Xm{constructor(f,m){this.resolver=m,this.auth=function ou(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return oi(gd(this.auth),this.resolver.resolveSignIn(f))}}class es{constructor(f){this._delegate=f,this.multiFactor=function xo(y){const f=(0,k.m9)(y);return ro.has(f)||ro.set(f,Ih._fromUser(f)),ro.get(f)}(f)}static getOrCreate(f){return es.USER_MAP.has(f)||es.USER_MAP.set(f,new es(f)),es.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,c.Z)(function*(){return oi(m.auth,_l(m._delegate,f))})()}linkWithPhoneNumber(f,m){var b=this;return(0,c.Z)(function*(){return Ha(b.auth,function Wt(y,f,m){return pr.apply(this,arguments)}(b._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,c.Z)(function*(){return oi(m.auth,function jl(y,f,m){return Ra.apply(this,arguments)}(m._delegate,f,bi))})()}linkWithRedirect(f){var m=this;return(0,c.Z)(function*(){return yield ql(yn(m.auth)),function X(y,f,m){return function oe(y,f,m){return De.apply(this,arguments)}(y,f,m)}(m._delegate,f,bi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,c.Z)(function*(){return oi(m.auth,yl(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return Ha(this.auth,function Na(y,f,m){return vn.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return oi(this.auth,function Np(y,f,m){return Qc.apply(this,arguments)}(this._delegate,f,bi))}reauthenticateWithRedirect(f){var m=this;return(0,c.Z)(function*(){return yield ql(yn(m.auth)),function T(y,f,m){return function O(y,f,m){return V.apply(this,arguments)}(y,f,m)}(m._delegate,f,bi)})()}sendEmailVerification(f){return function Uc(y,f){return va.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,c.Z)(function*(){return yield function Ni(y,f){return fl.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function $u(y,f){return to((0,k.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function eo(y,f){return to((0,k.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Ap(y,f){return Yc.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function $c(y,f){return Gc.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Hc(y,f,m){return wl.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}es.USER_MAP=new WeakMap;const qo=j;let jh=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=m.options;qo(I,"invalid-api-key",{appName:m.name}),qo(I,"invalid-api-key",{appName:m.name});const P=typeof window<"u"?bi:void 0;this._delegate=b.initialize({options:{persistence:Yp(I,m.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(Ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?es.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function al(y,f,m){const b=yn(y);j(b._canInitEmulator,b,"emulator-config-failed"),j(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const I=!!m?.disableWarnings,P=Tr(f),{host:q,port:de}=function Gn(y){const f=Tr(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(b);if(I){const P=I[1];return{host:P,port:ms(b.substr(P.length+1))}}{const[P,q]=b.split(":");return{host:P,port:ms(q)}}}(f);b.config.emulator={url:`${P}//${q}${null===de?"":`:${de}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:q,port:de,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function _s(){function y(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function tr(y,f){return pa.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return ga(this._delegate,m)}confirmPasswordReset(m,b){return function Cl(y,f,m){return Ro.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var I=this;return(0,c.Z)(function*(){return oi(I._delegate,function ma(y,f,m){return kn.apply(this,arguments)}(I._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Dl(y,f){return ya.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Zr(y,f){return"EMAIL_SIGNIN"===cl.parseLink(f)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,c.Z)(function*(){qo(hd(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Oe(y,f){return nt.apply(this,arguments)}(m._delegate,bi);return b?oi(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Ua(y,f){yn(y)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,b,I){const{next:P,error:q,complete:de}=md(m,b,I);return this._delegate.onAuthStateChanged(P,q,de)}onIdTokenChanged(m,b,I){const{next:P,error:q,complete:de}=md(m,b,I);return this._delegate.onIdTokenChanged(P,q,de)}sendSignInLinkToEmail(m,b){return function Bc(y,f,m){return Xs.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function El(y,f,m){return Pn.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,c.Z)(function*(){let I;switch(function qp(y,f){ir(Object.values(Mi).includes(f),y,"invalid-persistence-type"),(0,k.b$)()?ir(f!==Mi.SESSION,y,"unsupported-persistence-type"):(0,k.UG)()?ir(f===Mi.NONE,y,"unsupported-persistence-type"):dd()?ir(f===Mi.NONE||f===Mi.LOCAL&&(0,k.hl)(),y,"unsupported-persistence-type"):ir(f===Mi.NONE||Zp(),y,"unsupported-persistence-type")}(b._delegate,m),m){case Mi.SESSION:I=Ar;break;case Mi.LOCAL:I=(yield ce(Lo)._isAvailable())?Lo:Ea;break;case Mi.NONE:I=H;break;default:return Ae("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return oi(this._delegate,function Dh(y){return Rn.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return oi(this._delegate,In(this._delegate,m))}signInWithCustomToken(m){return oi(this._delegate,function xc(y,f){return fa.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return oi(this._delegate,function Ir(y,f,m){return In((0,k.m9)(y),Sr.credential(f,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return oi(this._delegate,function Cp(y,f,m){return _a.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return Ha(this._delegate,function Je(y,f,m){return un.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,c.Z)(function*(){return qo(hd(),b._delegate,"operation-not-supported-in-this-environment"),oi(b._delegate,function Jc(y,f,m){return Jr.apply(this,arguments)}(b._delegate,m,bi))})()}signInWithRedirect(m){var b=this;return(0,c.Z)(function*(){return qo(hd(),b._delegate,"operation-not-supported-in-this-environment"),yield ql(b._delegate),function xt(y,f,m){return function Pa(y,f,m){return w.apply(this,arguments)}(y,f,m)}(b._delegate,m,bi)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Lc(y,f){return ju.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Mi,y})();function md(y,f,m){let b=y;"function"!=typeof y&&({next:b,error:f,complete:m}=y);const I=b;return{next:q=>I(q&&es.getOrCreate(q)),error:f,complete:m}}function Yp(y,f){const m=function vo(y,f){const m=su();if(!m)return[];const b=J(br,y,f);switch(m.getItem(b)){case Mi.NONE:return[H];case Mi.LOCAL:return[Lo,Ar];case Mi.SESSION:return[Ar];default:return[]}}(y,f);if(typeof self<"u"&&!m.includes(Lo)&&m.push(Lo),typeof window<"u")for(const b of[Ea,Ar])m.includes(b)||m.push(b);return m.includes(H)||m.push(H),m}class _d{constructor(){this.providerId="phone",this._delegate=new Ma(gd(te.Z.auth()))}static credential(f,m){return Ma.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}_d.PHONE_SIGN_IN_METHOD=Ma.PHONE_SIGN_IN_METHOD,_d.PROVIDER_ID=Ma.PROVIDER_ID;const yd=j;class vd{constructor(f,m,b=te.Z.app()){var I;yd(null===(I=b.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new si(f,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function e_(y){y.INTERNAL.registerComponent(new ae.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new jh(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Sr,FacebookAuthProvider:ha,GithubAuthProvider:Pc,GoogleAuthProvider:ul,OAuthProvider:Ys,SAMLAuthProvider:Xi,PhoneAuthProvider:_d,PhoneMultiFactorGenerator:mo,RecaptchaVerifier:vd,TwitterAuthProvider:Hi,Auth:jh,AuthCredential:ui,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.23")}(te.Z)},9751:(ot,Te,F)=>{F.d(Te,{y:()=>fe});var c=F(930),te=F(727),k=F(8822),ue=F(9635),le=F(2416),he=F(576),ae=F(2806);let fe=(()=>{class Q{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Ce=new Q;return Ce.source=this,Ce.operator=Me,Ce}subscribe(Me,Ce,tt){const _e=function G(Q){return Q&&Q instanceof c.Lv||function $(Q){return Q&&(0,he.m)(Q.next)&&(0,he.m)(Q.error)&&(0,he.m)(Q.complete)}(Q)&&(0,te.Nn)(Q)}(Me)?Me:new c.Hp(Me,Ce,tt);return(0,ae.x)(()=>{const{operator:ge,source:Qe}=this;_e.add(ge?ge.call(_e,Qe):Qe?this._subscribe(_e):this._trySubscribe(_e))}),_e}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Ce){Me.error(Ce)}}forEach(Me,Ce){return new(Ce=pe(Ce))((tt,_e)=>{const ge=new c.Hp({next:Qe=>{try{Me(Qe)}catch(rt){_e(rt),ge.unsubscribe()}},error:_e,complete:tt});this.subscribe(ge)})}_subscribe(Me){var Ce;return null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(Me)}[k.L](){return this}pipe(...Me){return(0,ue.U)(Me)(this)}toPromise(Me){return new(Me=pe(Me))((Ce,tt)=>{let _e;this.subscribe(ge=>_e=ge,ge=>tt(ge),()=>Ce(_e))})}}return Q.create=Fe=>new Q(Fe),Q})();function pe(Q){var Fe;return null!==(Fe=Q??le.v.Promise)&&void 0!==Fe?Fe:Promise}},7579:(ot,Te,F)=>{F.d(Te,{x:()=>ae});var c=F(9751),te=F(727);const ue=(0,F(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=F(8737),he=F(2806);let ae=(()=>{class pe extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const Q=new fe(this,this);return Q.operator=G,Q}_throwIfClosed(){if(this.closed)throw new ue}next(G){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(G)}})}error(G){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:Q}=this;for(;Q.length;)Q.shift().error(G)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:Q,isStopped:Fe,observers:Me}=this;return Q||Fe?te.Lc:(this.currentObservers=null,Me.push(G),new te.w0(()=>{this.currentObservers=null,(0,le.P)(Me,G)}))}_checkFinalizedStatuses(G){const{hasError:Q,thrownError:Fe,isStopped:Me}=this;Q?G.error(Fe):Me&&G.complete()}asObservable(){const G=new c.y;return G.source=this,G}}return pe.create=($,G)=>new fe($,G),pe})();class fe extends ae{constructor($,G){super(),this.destination=$,this.source=G}next($){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===Q||Q.call(G,$)}error($){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===Q||Q.call(G,$)}complete(){var $,G;null===(G=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===G||G.call($)}_subscribe($){var G,Q;return null!==(Q=null===(G=this.source)||void 0===G?void 0:G.subscribe($))&&void 0!==Q?Q:te.Lc}}},930:(ot,Te,F)=>{F.d(Te,{Hp:()=>tt,Lv:()=>Q});var c=F(576),te=F(727),k=F(2416),ue=F(7849),le=F(5032);const he=pe("C",void 0,void 0);function pe(Ae,ye,we){return{kind:Ae,value:ye,error:we}}var $=F(3410),G=F(2806);class Q extends te.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,te.Nn)(ye)&&ye.add(this)):this.destination=rt}static create(ye,we,Ue){return new tt(ye,we,Ue)}next(ye){this.isStopped?Qe(function fe(Ae){return pe("N",Ae,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?Qe(function ae(Ae){return pe("E",void 0,Ae)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?Qe(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function Me(Ae,ye){return Fe.call(Ae,ye)}class Ce{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:we}=this;if(we.next)try{we.next(ye)}catch(Ue){_e(Ue)}}error(ye){const{partialObserver:we}=this;if(we.error)try{we.error(ye)}catch(Ue){_e(Ue)}else _e(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(we){_e(we)}}}class tt extends Q{constructor(ye,we,Ue){let He;if(super(),(0,c.m)(ye)||!ye)He={next:ye??void 0,error:we??void 0,complete:Ue??void 0};else{let j;this&&k.v.useDeprecatedNextContext?(j=Object.create(ye),j.unsubscribe=()=>this.unsubscribe(),He={next:ye.next&&Me(ye.next,j),error:ye.error&&Me(ye.error,j),complete:ye.complete&&Me(ye.complete,j)}):He=ye}this.destination=new Ce(He)}}function _e(Ae){k.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Ae):(0,ue.h)(Ae)}function Qe(Ae,ye){const{onStoppedNotification:we}=k.v;we&&$.z.setTimeout(()=>we(Ae,ye))}const rt={closed:!0,next:le.Z,error:function ge(Ae){throw Ae},complete:le.Z}},727:(ot,Te,F)=>{F.d(Te,{Lc:()=>he,w0:()=>le,Nn:()=>ae});var c=F(576);const k=(0,F(3888).d)(pe=>function(G){pe(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((Q,Fe)=>`${Fe+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ue=F(8737);class le{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Me of G)Me.remove(this);else G.remove(this);const{initialTeardown:Q}=this;if((0,c.m)(Q))try{Q()}catch(Me){$=Me instanceof k?Me.errors:[Me]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const Me of Fe)try{fe(Me)}catch(Ce){$=$??[],Ce instanceof k?$=[...$,...Ce.errors]:$.push(Ce)}}if($)throw new k($)}}add($){var G;if($&&$!==this)if(this.closed)fe($);else{if($ instanceof le){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push($)}}_hasParent($){const{_parentage:G}=this;return G===$||Array.isArray(G)&&G.includes($)}_addParent($){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push($),G):G?[G,$]:$}_removeParent($){const{_parentage:G}=this;G===$?this._parentage=null:Array.isArray(G)&&(0,ue.P)(G,$)}remove($){const{_finalizers:G}=this;G&&(0,ue.P)(G,$),$ instanceof le&&$._removeParent(this)}}le.EMPTY=(()=>{const pe=new le;return pe.closed=!0,pe})();const he=le.EMPTY;function ae(pe){return pe instanceof le||pe&&"closed"in pe&&(0,c.m)(pe.remove)&&(0,c.m)(pe.add)&&(0,c.m)(pe.unsubscribe)}function fe(pe){(0,c.m)(pe)?pe():pe.unsubscribe()}},2416:(ot,Te,F)=>{F.d(Te,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ot,Te,F)=>{F.d(Te,{E:()=>te});const te=new(F(9751).y)(le=>le.complete())},8996:(ot,Te,F)=>{F.d(Te,{D:()=>ye});var c=F(8421),te=F(5363),k=F(9468),he=F(9751),fe=F(2202),pe=F(576),$=F(9672);function Q(we,Ue){if(!we)throw new Error("Iterable cannot be null");return new he.y(He=>{(0,$.f)(He,Ue,()=>{const j=we[Symbol.asyncIterator]();(0,$.f)(He,Ue,()=>{j.next().then(me=>{me.done?He.complete():He.next(me.value)})},0,!0)})})}var Fe=F(3670),Me=F(8239),Ce=F(1144),tt=F(6495),_e=F(2206),ge=F(4532),Qe=F(3260);function ye(we,Ue){return Ue?function Ae(we,Ue){if(null!=we){if((0,Fe.c)(we))return function ue(we,Ue){return(0,c.Xf)(we).pipe((0,k.R)(Ue),(0,te.Q)(Ue))}(we,Ue);if((0,Ce.z)(we))return function ae(we,Ue){return new he.y(He=>{let j=0;return Ue.schedule(function(){j===we.length?He.complete():(He.next(we[j++]),He.closed||this.schedule())})})}(we,Ue);if((0,Me.t)(we))return function le(we,Ue){return(0,c.Xf)(we).pipe((0,k.R)(Ue),(0,te.Q)(Ue))}(we,Ue);if((0,_e.D)(we))return Q(we,Ue);if((0,tt.T)(we))return function G(we,Ue){return new he.y(He=>{let j;return(0,$.f)(He,Ue,()=>{j=we[fe.h](),(0,$.f)(He,Ue,()=>{let me,Y;try{({value:me,done:Y}=j.next())}catch(ne){return void He.error(ne)}Y?He.complete():He.next(me)},0,!0)}),()=>(0,pe.m)(j?.return)&&j.return()})}(we,Ue);if((0,Qe.L)(we))return function rt(we,Ue){return Q((0,Qe.Q)(we),Ue)}(we,Ue)}throw(0,ge.z)(we)}(we,Ue):(0,c.Xf)(we)}},8421:(ot,Te,F)=>{F.d(Te,{Xf:()=>Fe});var c=F(655),te=F(1144),k=F(8239),ue=F(9751),le=F(3670),he=F(2206),ae=F(4532),fe=F(6495),pe=F(3260),$=F(576),G=F(7849),Q=F(8822);function Fe(Ae){if(Ae instanceof ue.y)return Ae;if(null!=Ae){if((0,le.c)(Ae))return function Me(Ae){return new ue.y(ye=>{const we=Ae[Q.L]();if((0,$.m)(we.subscribe))return we.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,te.z)(Ae))return function Ce(Ae){return new ue.y(ye=>{for(let we=0;we<Ae.length&&!ye.closed;we++)ye.next(Ae[we]);ye.complete()})}(Ae);if((0,k.t)(Ae))return function tt(Ae){return new ue.y(ye=>{Ae.then(we=>{ye.closed||(ye.next(we),ye.complete())},we=>ye.error(we)).then(null,G.h)})}(Ae);if((0,he.D)(Ae))return ge(Ae);if((0,fe.T)(Ae))return function _e(Ae){return new ue.y(ye=>{for(const we of Ae)if(ye.next(we),ye.closed)return;ye.complete()})}(Ae);if((0,pe.L)(Ae))return function Qe(Ae){return ge((0,pe.Q)(Ae))}(Ae)}throw(0,ae.z)(Ae)}function ge(Ae){return new ue.y(ye=>{(function rt(Ae,ye){var we,Ue,He,j;return(0,c.mG)(this,void 0,void 0,function*(){try{for(we=(0,c.KL)(Ae);!(Ue=yield we.next()).done;)if(ye.next(Ue.value),ye.closed)return}catch(me){He={error:me}}finally{try{Ue&&!Ue.done&&(j=we.return)&&(yield j.call(we))}finally{if(He)throw He.error}}ye.complete()})})(Ae,ye).catch(we=>ye.error(we))})}},6451:(ot,Te,F)=>{F.d(Te,{T:()=>he});var c=F(8189),te=F(8421),k=F(515),ue=F(3269),le=F(8996);function he(...ae){const fe=(0,ue.yG)(ae),pe=(0,ue._6)(ae,1/0),$=ae;return $.length?1===$.length?(0,te.Xf)($[0]):(0,c.J)(pe)((0,le.D)($,fe)):k.E}},5403:(ot,Te,F)=>{F.d(Te,{x:()=>te});var c=F(930);function te(ue,le,he,ae,fe){return new k(ue,le,he,ae,fe)}class k extends c.Lv{constructor(le,he,ae,fe,pe,$){super(le),this.onFinalize=pe,this.shouldUnsubscribe=$,this._next=he?function(G){try{he(G)}catch(Q){le.error(Q)}}:super._next,this._error=fe?function(G){try{fe(G)}catch(Q){le.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch(G){le.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},4004:(ot,Te,F)=>{F.d(Te,{U:()=>k});var c=F(4482),te=F(5403);function k(ue,le){return(0,c.e)((he,ae)=>{let fe=0;he.subscribe((0,te.x)(ae,pe=>{ae.next(ue.call(le,pe,fe++))}))})}},8189:(ot,Te,F)=>{F.d(Te,{J:()=>k});var c=F(5577),te=F(4671);function k(ue=1/0){return(0,c.z)(te.y,ue)}},5577:(ot,Te,F)=>{F.d(Te,{z:()=>fe});var c=F(4004),te=F(8421),k=F(4482),ue=F(9672),le=F(5403),ae=F(576);function fe(pe,$,G=1/0){return(0,ae.m)($)?fe((Q,Fe)=>(0,c.U)((Me,Ce)=>$(Q,Me,Fe,Ce))((0,te.Xf)(pe(Q,Fe))),G):("number"==typeof $&&(G=$),(0,k.e)((Q,Fe)=>function he(pe,$,G,Q,Fe,Me,Ce,tt){const _e=[];let ge=0,Qe=0,rt=!1;const Ae=()=>{rt&&!_e.length&&!ge&&$.complete()},ye=Ue=>ge<Q?we(Ue):_e.push(Ue),we=Ue=>{Me&&$.next(Ue),ge++;let He=!1;(0,te.Xf)(G(Ue,Qe++)).subscribe((0,le.x)($,j=>{Fe?.(j),Me?ye(j):$.next(j)},()=>{He=!0},void 0,()=>{if(He)try{for(ge--;_e.length&&ge<Q;){const j=_e.shift();Ce?(0,ue.f)($,Ce,()=>we(j)):we(j)}Ae()}catch(j){$.error(j)}}))};return pe.subscribe((0,le.x)($,ye,()=>{rt=!0,Ae()})),()=>{tt?.()}}(Q,Fe,pe,G)))}},5363:(ot,Te,F)=>{F.d(Te,{Q:()=>ue});var c=F(9672),te=F(4482),k=F(5403);function ue(le,he=0){return(0,te.e)((ae,fe)=>{ae.subscribe((0,k.x)(fe,pe=>(0,c.f)(fe,le,()=>fe.next(pe),he),()=>(0,c.f)(fe,le,()=>fe.complete(),he),pe=>(0,c.f)(fe,le,()=>fe.error(pe),he)))})}},3099:(ot,Te,F)=>{F.d(Te,{B:()=>le});var c=F(8421),te=F(7579),k=F(930),ue=F(4482);function le(ae={}){const{connector:fe=(()=>new te.x),resetOnError:pe=!0,resetOnComplete:$=!0,resetOnRefCountZero:G=!0}=ae;return Q=>{let Fe,Me,Ce,tt=0,_e=!1,ge=!1;const Qe=()=>{Me?.unsubscribe(),Me=void 0},rt=()=>{Qe(),Fe=Ce=void 0,_e=ge=!1},Ae=()=>{const ye=Fe;rt(),ye?.unsubscribe()};return(0,ue.e)((ye,we)=>{tt++,!ge&&!_e&&Qe();const Ue=Ce=Ce??fe();we.add(()=>{tt--,0===tt&&!ge&&!_e&&(Me=he(Ae,G))}),Ue.subscribe(we),!Fe&&tt>0&&(Fe=new k.Hp({next:He=>Ue.next(He),error:He=>{ge=!0,Qe(),Me=he(rt,pe,He),Ue.error(He)},complete:()=>{_e=!0,Qe(),Me=he(rt,$),Ue.complete()}}),(0,c.Xf)(ye).subscribe(Fe))})(Q)}}function he(ae,fe,...pe){if(!0===fe)return void ae();if(!1===fe)return;const $=new k.Hp({next:()=>{$.unsubscribe(),ae()}});return fe(...pe).subscribe($)}},9468:(ot,Te,F)=>{F.d(Te,{R:()=>te});var c=F(4482);function te(k,ue=0){return(0,c.e)((le,he)=>{he.add(k.schedule(()=>le.subscribe(he),ue))})}},8505:(ot,Te,F)=>{F.d(Te,{b:()=>le});var c=F(576),te=F(4482),k=F(5403),ue=F(4671);function le(he,ae,fe){const pe=(0,c.m)(he)||ae||fe?{next:he,error:ae,complete:fe}:he;return pe?(0,te.e)(($,G)=>{var Q;null===(Q=pe.subscribe)||void 0===Q||Q.call(pe);let Fe=!0;$.subscribe((0,k.x)(G,Me=>{var Ce;null===(Ce=pe.next)||void 0===Ce||Ce.call(pe,Me),G.next(Me)},()=>{var Me;Fe=!1,null===(Me=pe.complete)||void 0===Me||Me.call(pe),G.complete()},Me=>{var Ce;Fe=!1,null===(Ce=pe.error)||void 0===Ce||Ce.call(pe,Me),G.error(Me)},()=>{var Me,Ce;Fe&&(null===(Me=pe.unsubscribe)||void 0===Me||Me.call(pe)),null===(Ce=pe.finalize)||void 0===Ce||Ce.call(pe)}))}):ue.y}},4408:(ot,Te,F)=>{F.d(Te,{o:()=>le});var c=F(727);class te extends c.w0{constructor(ae,fe){super()}schedule(ae,fe=0){return this}}const k={setInterval(he,ae,...fe){const{delegate:pe}=k;return pe?.setInterval?pe.setInterval(he,ae,...fe):setInterval(he,ae,...fe)},clearInterval(he){const{delegate:ae}=k;return(ae?.clearInterval||clearInterval)(he)},delegate:void 0};var ue=F(8737);class le extends te{constructor(ae,fe){super(ae,fe),this.scheduler=ae,this.work=fe,this.pending=!1}schedule(ae,fe=0){var pe;if(this.closed)return this;this.state=ae;const $=this.id,G=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(G,$,fe)),this.pending=!0,this.delay=fe,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(G,this.id,fe),this}requestAsyncId(ae,fe,pe=0){return k.setInterval(ae.flush.bind(ae,this),pe)}recycleAsyncId(ae,fe,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return fe;null!=fe&&k.clearInterval(fe)}execute(ae,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(ae,fe);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,fe){let $,pe=!1;try{this.work(ae)}catch(G){pe=!0,$=G||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ae,scheduler:fe}=this,{actions:pe}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(pe,this),null!=ae&&(this.id=this.recycleAsyncId(fe,ae,null)),this.delay=null,super.unsubscribe()}}}},7565:(ot,Te,F)=>{F.d(Te,{v:()=>k});var c=F(6063);class te{constructor(le,he=te.now){this.schedulerActionCtor=le,this.now=he}schedule(le,he=0,ae){return new this.schedulerActionCtor(this,le).schedule(ae,he)}}te.now=c.l.now;class k extends te{constructor(le,he=te.now){super(le,he),this.actions=[],this._active=!1}flush(le){const{actions:he}=this;if(this._active)return void he.push(le);let ae;this._active=!0;do{if(ae=le.execute(le.state,le.delay))break}while(le=he.shift());if(this._active=!1,ae){for(;le=he.shift();)le.unsubscribe();throw ae}}}},4986:(ot,Te,F)=>{F.d(Te,{P:()=>ue,z:()=>k});var c=F(4408);const k=new(F(7565).v)(c.o),ue=k},6063:(ot,Te,F)=>{F.d(Te,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(ot,Te,F)=>{F.d(Te,{z:()=>c});const c={setTimeout(te,k,...ue){const{delegate:le}=c;return le?.setTimeout?le.setTimeout(te,k,...ue):setTimeout(te,k,...ue)},clearTimeout(te){const{delegate:k}=c;return(k?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(ot,Te,F)=>{F.d(Te,{h:()=>te});const te=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ot,Te,F)=>{F.d(Te,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ot,Te,F)=>{F.d(Te,{_6:()=>he,jO:()=>ue,yG:()=>le});var c=F(576),te=F(3532);function k(ae){return ae[ae.length-1]}function ue(ae){return(0,c.m)(k(ae))?ae.pop():void 0}function le(ae){return(0,te.K)(k(ae))?ae.pop():void 0}function he(ae,fe){return"number"==typeof k(ae)?ae.pop():fe}},8737:(ot,Te,F)=>{function c(te,k){if(te){const ue=te.indexOf(k);0<=ue&&te.splice(ue,1)}}F.d(Te,{P:()=>c})},3888:(ot,Te,F)=>{function c(te){const ue=te(le=>{Error.call(le),le.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}F.d(Te,{d:()=>c})},2806:(ot,Te,F)=>{F.d(Te,{O:()=>ue,x:()=>k});var c=F(2416);let te=null;function k(le){if(c.v.useDeprecatedSynchronousErrorHandling){const he=!te;if(he&&(te={errorThrown:!1,error:null}),le(),he){const{errorThrown:ae,error:fe}=te;if(te=null,ae)throw fe}}else le()}function ue(le){c.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=le)}},9672:(ot,Te,F)=>{function c(te,k,ue,le=0,he=!1){const ae=k.schedule(function(){ue(),he?te.add(this.schedule(null,le)):this.unsubscribe()},le);if(te.add(ae),!he)return ae}F.d(Te,{f:()=>c})},4671:(ot,Te,F)=>{function c(te){return te}F.d(Te,{y:()=>c})},1144:(ot,Te,F)=>{F.d(Te,{z:()=>c});const c=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(ot,Te,F)=>{F.d(Te,{D:()=>te});var c=F(576);function te(k){return Symbol.asyncIterator&&(0,c.m)(k?.[Symbol.asyncIterator])}},576:(ot,Te,F)=>{function c(te){return"function"==typeof te}F.d(Te,{m:()=>c})},3670:(ot,Te,F)=>{F.d(Te,{c:()=>k});var c=F(8822),te=F(576);function k(ue){return(0,te.m)(ue[c.L])}},6495:(ot,Te,F)=>{F.d(Te,{T:()=>k});var c=F(2202),te=F(576);function k(ue){return(0,te.m)(ue?.[c.h])}},8239:(ot,Te,F)=>{F.d(Te,{t:()=>te});var c=F(576);function te(k){return(0,c.m)(k?.then)}},3260:(ot,Te,F)=>{F.d(Te,{L:()=>ue,Q:()=>k});var c=F(655),te=F(576);function k(le){return(0,c.FC)(this,arguments,function*(){const ae=le.getReader();try{for(;;){const{value:fe,done:pe}=yield(0,c.qq)(ae.read());if(pe)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(fe)}}finally{ae.releaseLock()}})}function ue(le){return(0,te.m)(le?.getReader)}},3532:(ot,Te,F)=>{F.d(Te,{K:()=>te});var c=F(576);function te(k){return k&&(0,c.m)(k.schedule)}},4482:(ot,Te,F)=>{F.d(Te,{A:()=>te,e:()=>k});var c=F(576);function te(ue){return(0,c.m)(ue?.lift)}function k(ue){return le=>{if(te(le))return le.lift(function(he){try{return ue(he,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ot,Te,F)=>{function c(){}F.d(Te,{Z:()=>c})},9635:(ot,Te,F)=>{F.d(Te,{U:()=>k,z:()=>te});var c=F(4671);function te(...ue){return k(ue)}function k(ue){return 0===ue.length?c.y:1===ue.length?ue[0]:function(he){return ue.reduce((ae,fe)=>fe(ae),he)}}},7849:(ot,Te,F)=>{F.d(Te,{h:()=>k});var c=F(2416),te=F(3410);function k(ue){te.z.setTimeout(()=>{const{onUnhandledError:le}=c.v;if(!le)throw ue;le(ue)})}},4532:(ot,Te,F)=>{function c(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Te,{z:()=>c})},655:(ot,Te,F)=>{function ue(Y,ne){var ce={};for(var se in Y)Object.prototype.hasOwnProperty.call(Y,se)&&ne.indexOf(se)<0&&(ce[se]=Y[se]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(se=Object.getOwnPropertySymbols(Y);ke<se.length;ke++)ne.indexOf(se[ke])<0&&Object.prototype.propertyIsEnumerable.call(Y,se[ke])&&(ce[se[ke]]=Y[se[ke]])}return ce}function fe(Y,ne,ce,se){return new(ce||(ce=Promise))(function(Pe,ht){function Kt(tn){try{Ze(se.next(tn))}catch(pn){ht(pn)}}function Ft(tn){try{Ze(se.throw(tn))}catch(pn){ht(pn)}}function Ze(tn){tn.done?Pe(tn.value):function ke(Pe){return Pe instanceof ce?Pe:new ce(function(ht){ht(Pe)})}(tn.value).then(Kt,Ft)}Ze((se=se.apply(Y,ne||[])).next())})}function _e(Y){return this instanceof _e?(this.v=Y,this):new _e(Y)}function ge(Y,ne,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,se=ce.apply(Y,ne||[]),Pe=[];return ke={},ht("next"),ht("throw"),ht("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function ht(zt){se[zt]&&(ke[zt]=function(Yt){return new Promise(function(wi,Nt){Pe.push([zt,Yt,wi,Nt])>1||Kt(zt,Yt)})})}function Kt(zt,Yt){try{!function Ft(zt){zt.value instanceof _e?Promise.resolve(zt.value.v).then(Ze,tn):pn(Pe[0][2],zt)}(se[zt](Yt))}catch(wi){pn(Pe[0][3],wi)}}function Ze(zt){Kt("next",zt)}function tn(zt){Kt("throw",zt)}function pn(zt,Yt){zt(Yt),Pe.shift(),Pe.length&&Kt(Pe[0][0],Pe[0][1])}}function rt(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,ne=Y[Symbol.asyncIterator];return ne?ne.call(Y):(Y=function Q(Y){var ne="function"==typeof Symbol&&Symbol.iterator,ce=ne&&Y[ne],se=0;if(ce)return ce.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&se>=Y.length&&(Y=void 0),{value:Y&&Y[se++],done:!Y}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ce={},se("next"),se("throw"),se("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function se(Pe){ce[Pe]=Y[Pe]&&function(ht){return new Promise(function(Kt,Ft){!function ke(Pe,ht,Kt,Ft){Promise.resolve(Ft).then(function(Ze){Pe({value:Ze,done:Kt})},ht)}(Kt,Ft,(ht=Y[Pe](ht)).done,ht.value)})}}}F.d(Te,{FC:()=>ge,KL:()=>rt,_T:()=>ue,mG:()=>fe,qq:()=>_e})},4650:(ot,Te,F)=>{F.d(Te,{$8M:()=>Vl,$Z:()=>Db,AFp:()=>Sv,AaK:()=>fe,CHM:()=>bl,CRH:()=>$s,CZH:()=>lh,CqO:()=>iE,D6c:()=>hA,EJc:()=>JI,EiD:()=>zl,EpF:()=>_u,F$t:()=>na,F4k:()=>cy,FYo:()=>I,FiY:()=>Oe,G48:()=>$v,Gf:()=>_v,GfV:()=>Le,Gpc:()=>G,Hsn:()=>Gd,Ikx:()=>Ty,JOm:()=>Yo,JVY:()=>xh,KtG:()=>El,L6k:()=>Wm,LAX:()=>Zm,LFG:()=>xt,LMc:()=>rD,LSH:()=>ad,Lbi:()=>Iv,Lck:()=>kT,MAs:()=>af,MGl:()=>Ug,MMx:()=>ev,NdJ:()=>uy,OlP:()=>hn,Oqu:()=>_y,PXZ:()=>T1,Q6J:()=>rs,QGY:()=>Bg,QP$:()=>Zt,QbO:()=>p1,Qsj:()=>P,QtT:()=>Yy,R0b:()=>ls,RDi:()=>Pp,Rgc:()=>sh,SBq:()=>f,SDv:()=>Ky,Sil:()=>XI,Suo:()=>yv,TTD:()=>$r,TgZ:()=>xg,Tol:()=>hf,Udp:()=>py,VKq:()=>aC,W1O:()=>EC,WLB:()=>lC,X6Q:()=>jv,XFs:()=>qe,Xpm:()=>Se,Xts:()=>Vh,Y36:()=>Nd,YKP:()=>nh,YNc:()=>oy,Yjl:()=>be,Yz7:()=>Yt,Z0I:()=>Vr,ZZ4:()=>nD,_Bn:()=>th,_UZ:()=>lf,_Vd:()=>ja,_c5:()=>dA,_uU:()=>Xa,aQg:()=>Yv,c2e:()=>g1,cJS:()=>Nt,cg1:()=>Ay,dDg:()=>kv,dqk:()=>en,eBb:()=>zm,eFA:()=>Lv,ekj:()=>Zd,eoX:()=>jC,f3M:()=>w,g9A:()=>UC,h0i:()=>Er,hGG:()=>V1,hij:()=>qg,iGM:()=>mv,ifc:()=>at,ip1:()=>Tv,jDz:()=>tv,kEZ:()=>cC,kL8:()=>Ny,lG2:()=>J,lqb:()=>bi,lri:()=>$f,mCW:()=>$l,n5z:()=>Kr,oAB:()=>Ot,oxw:()=>Vg,pB0:()=>rd,pQV:()=>eh,q3G:()=>Fn,q4F:()=>Ye,qLn:()=>Wh,qOj:()=>iy,qZA:()=>jd,qzn:()=>mo,rWj:()=>_m,s9C:()=>Mt,sBO:()=>YC,sIi:()=>Xt,s_b:()=>Do,soG:()=>Av,tb:()=>f1,tp0:()=>_t,uIk:()=>zi,vHH:()=>Ce,vpe:()=>Hs,wAp:()=>bt,xp6:()=>pb,z2F:()=>Gf,z3N:()=>vr,zSh:()=>ql,zs3:()=>du});var c=F(7579),te=F(727),k=F(9751),ue=F(6451),le=F(3099);function he(s){for(let o in s)if(s[o]===he)return o;throw Error("Could not find renamed property on target object.")}function ae(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function pe(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=he({__forward_ref__:he});function G(s){return s.__forward_ref__=G,s.toString=function(){return fe(this())},s}function Q(s){return Fe(s)?s():s}function Fe(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===G}class Ce extends Error{constructor(o,a){super(function tt(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function _e(s){return"string"==typeof s?s:null==s?"":String(s)}function ye(s,o){throw new Ce(-201,!1)}function Ze(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}function Yt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Nt(s){return{providers:s.providers||[],imports:s.imports||[]}}function nn(s){return lr(s,cr)||lr(s,Ji)}function Vr(s){return null!==nn(s)}function lr(s,o){return s.hasOwnProperty(o)?s[o]:null}function fs(s){return s&&(s.hasOwnProperty(Li)||s.hasOwnProperty(No))?s[Li]:null}const cr=he({\u0275prov:he}),Li=he({\u0275inj:he}),Ji=he({ngInjectableDef:he}),No=he({ngInjectorDef:he});var qe=(()=>((qe=qe||{})[qe.Default=0]="Default",qe[qe.Host=1]="Host",qe[qe.Self=2]="Self",qe[qe.SkipSelf=4]="SkipSelf",qe[qe.Optional=8]="Optional",qe))();let _i;function zn(s){const o=_i;return _i=s,o}function Qi(s,o,a){const u=nn(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&qe.Optional?null:void 0!==o?o:void ye(fe(s))}function On(s){return{toString:s}.toString()}var $n=(()=>(($n=$n||{})[$n.OnPush=0]="OnPush",$n[$n.Default=1]="Default",$n))(),at=(()=>{return(s=at||(at={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",at;var s})();const en=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Bi={},Dt=[],Ur=he({\u0275cmp:he}),Jt=he({\u0275dir:he}),ur=he({\u0275pipe:he}),Qt=he({\u0275mod:he}),Zn=he({\u0275fac:he}),Ii=he({__NG_ELEMENT_ID__:he});let et=0;function Se(s){return On(()=>{const a=!0===s.standalone,u={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===$n.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Dt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||at.Emulated,id:"c"+et++,styles:s.styles||Dt,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,v=s.features;return h.inputs=H(s.inputs,u),h.outputs=H(s.outputs),v&&v.forEach(E=>E(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(vt).filter(mt):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(lt).filter(mt):null,h})}function vt(s){return ee(s)||$e(s)}function mt(s){return null!==s}function Ot(s){return On(()=>({type:s.type,bootstrap:s.bootstrap||Dt,declarations:s.declarations||Dt,imports:s.imports||Dt,exports:s.exports||Dt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function H(s,o){if(null==s)return Bi;const a={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),a[h]=u,o&&(o[h]=g)}return a}const J=Se;function be(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function ee(s){return s[Ur]||null}function $e(s){return s[Jt]||null}function lt(s){return s[ur]||null}function Zt(s){const o=ee(s)||$e(s)||lt(s);return null!==o&&o.standalone}function cn(s,o){const a=s[Qt]||null;if(!a&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return a}function ni(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ai(s){return Array.isArray(s)&&!0===s[1]}function ll(s){return 0!=(8&s.flags)}function da(s){return 2==(2&s.flags)}function Mc(s){return 1==(1&s.flags)}function yi(s){return null!==s.template}function yh(s){return 0!=(256&s[2])}function Sr(s,o){return s.hasOwnProperty(Zn)?s[Zn]:null}class jr{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function $r(){return Ys}function Ys(s){return s.type.prototype.ngOnChanges&&(s.setInput=ul),ha}function ha(){const s=Eh(this),o=s?.current;if(o){const a=s.previous;if(a===Bi)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function ul(s,o,a,u){const h=Eh(s)||function ii(s,o){return s[Pc]=o}(s,{previous:Bi,current:null}),g=h.current||(h.current={}),v=h.previous,E=this.declaredInputs[a],D=v[E];g[E]=new jr(D&&D.currentValue,o,v===Bi),s[u]=o}$r.ngInherit=!0;const Pc="__ngSimpleChanges__";function Eh(s){return s[Pc]||null}function Rn(s){for(;Array.isArray(s);)s=s[0];return s}function er(s,o){return Rn(o[s])}function Ni(s,o){return Rn(o[s.index])}function Js(s,o){return s.data[o]}function Gt(s,o){const a=o[s];return ni(a)?a:a[0]}function Qs(s){return 64==(64&s[2])}function hr(s,o){return null==o?null:s[o]}function ml(s){s[18]=0}function In(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const wt={lFrame:$c(null),bindingsEnabled:!0};function zr(){return wt.bindingsEnabled}function Ie(){return wt.lFrame.lView}function Lt(){return wt.lFrame.tView}function bl(s){return wt.lFrame.contextLView=s,s[8]}function El(s){return wt.lFrame.contextLView=null,s}function Pn(){let s=Cl();for(;null!==s&&64===s.type;)s=s.parent;return s}function Cl(){return wt.lFrame.currentTNode}function Ro(){const s=wt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function tr(s,o){const a=wt.lFrame;a.currentTNode=s,a.isParent=o}function pa(){return wt.lFrame.isParent}function ga(){wt.lFrame.isParent=!1}function kn(){const s=wt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Xs(){return wt.lFrame.bindingIndex++}function Zr(s){const o=wt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function _a(s){wt.lFrame.inI18n=s}function Dp(s,o){const a=wt.lFrame;a.bindingIndex=a.bindingRootIndex=s,Dl(o)}function Dl(s){wt.lFrame.currentDirectiveIndex=s}function Uc(){return wt.lFrame.currentQueryIndex}function va(s){wt.lFrame.currentQueryIndex=s}function Hc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function wl(s,o,a){if(a&qe.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||a&qe.Host||(h=Hc(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const u=wt.lFrame=jc();return u.currentTNode=o,u.lView=s,!0}function Tl(s){const o=jc(),a=s[1];wt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function jc(){const s=wt.lFrame,o=null===s?null:s.child;return null===o?$c(s):o}function $c(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Gc(){const s=wt.lFrame;return wt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const $u=Gc;function eo(){const s=Gc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Yn(){return wt.lFrame.selectedIndex}function ji(s){wt.lFrame.selectedIndex=s}function mn(){const s=wt.lFrame;return Js(s.tView,s.selectedIndex)}function Al(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const g=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:R}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),E&&((s.contentHooks||(s.contentHooks=[])).push(a,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,E)),D&&(s.viewHooks||(s.viewHooks=[])).push(-a,D),S&&((s.viewHooks||(s.viewHooks=[])).push(a,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,S)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(a,R)}}function no(s,o,a){ko(s,o,3,a)}function Po(s,o,a,u){(3&s[2])===a&&ko(s,o,a,u)}function zu(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function ko(s,o,a,u){const g=u??-1,v=o.length-1;let E=0;for(let D=void 0!==u?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(E=o[D],null!=u&&E>=u)break}else o[D]<0&&(s[18]+=65536),(E<g||-1==g)&&(Zu(s,a,o,D),s[18]=(4294901760&s[18])+D+2),D++}function Zu(s,o,a,u){const h=a[u]<0,g=a[u+1],E=s[h?-a[u]:a[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class Cs{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function xo(s,o,a){let u=0;for(;u<a.length;){const h=a[u];if("number"==typeof h){if(0!==h)break;u++;const g=a[u++],v=a[u++],E=a[u++];s.setAttribute(o,v,E,g)}else{const g=h,v=a[++u];Rl(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),u++}}return u}function so(s){return 3===s||4===s||6===s}function Rl(s){return 64===s.charCodeAt(0)}function ba(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?a=h:0===a||Ku(s,a,h,null,-1===a||2===a?o[++u]:null)}}return s}function Ku(s,o,a,u,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===a){if(null===u)return void(null!==h&&(s[g+1]=h));if(u===s[g+1])return void(s[g+2]=h)}g++,null!==u&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,a),null!==u&&s.splice(g++,0,u),null!==h&&s.splice(g++,0,h)}function Yu(s){return-1!==s}function ri(s){return 32767&s}function Ca(s,o){let a=function Ea(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let Ar=!0;function Da(s){const o=Ar;return Ar=s,o}let Vn=0;const fr={};function oo(s,o){const a=kl(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,Ta(u.data,s),Ta(o,null),Ta(u.blueprint,null));const h=xl(s,o),g=s.injectorIndex;if(Yu(h)){const v=ri(h),E=Ca(h,o),D=E[1].data;for(let S=0;S<8;S++)o[g+S]=E[v+S]|D[v+S]}return o[g+8]=h,g}function Ta(s,o){s.push(0,0,0,0,0,0,0,0,o)}function kl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function xl(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,h=o;for(;null!==h;){if(u=Bo(h),null===u)return-1;if(a++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Ds(s,o,a){!function Pl(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(Ii)&&(u=a[Ii]),null==u&&(u=a[Ii]=Vn++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function ws(s,o,a){if(a&qe.Optional||void 0!==s)return s;ye()}function Fl(s,o,a,u){if(a&qe.Optional&&void 0===u&&(u=null),0==(a&(qe.Self|qe.Host))){const h=s[9],g=zn(void 0);try{return h?h.get(o,u,a&qe.Optional):Qi(o,u,a&qe.Optional)}finally{zn(g)}}return ws(u,0,a)}function ao(s,o,a,u=qe.Default,h){if(null!==s){if(1024&o[2]){const v=function Lo(s,o,a,u,h){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const E=Sa(g,v,a,u|qe.Self,fr);if(E!==fr)return E;let D=g.parent;if(!D){const S=v[21];if(S){const R=S.get(a,fr,u);if(R!==fr)return R}D=Bo(v),v=v[15]}g=D}return h}(s,o,a,u,fr);if(v!==fr)return v}const g=Sa(s,o,a,u,fr);if(g!==fr)return g}return Fl(o,a,u,h)}function Sa(s,o,a,u,h){const g=function qc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Ii)?s[Ii]:void 0;return"number"==typeof o?o>=0?255&o:Kc:o}(a);if("function"==typeof g){if(!wl(o,s,u))return u&qe.Host?ws(h,0,u):Fl(o,a,u,h);try{const v=g(u);if(null!=v||u&qe.Optional)return v;ye()}finally{$u()}}else if("number"==typeof g){let v=null,E=kl(s,o),D=-1,S=u&qe.Host?o[16][6]:null;for((-1===E||u&qe.SkipSelf)&&(D=-1===E?xl(s,o):o[E+8],-1!==D&&Ia(u,!1)?(v=o[1],E=ri(D),o=Ca(D,o)):E=-1);-1!==E;){const R=o[1];if(Ll(g,E,R.data)){const L=Xu(E,o,a,v,u,S);if(L!==fr)return L}D=o[E+8],-1!==D&&Ia(u,o[1].data[E+8]===S)&&Ll(g,E,o)?(v=R,E=ri(D),o=Ca(D,o)):E=-1}}return h}function Xu(s,o,a,u,h,g){const v=o[1],E=v.data[s+8],R=Fo(E,v,a,null==u?da(E)&&Ar:u!=v&&0!=(3&E.type),h&qe.Host&&g===E);return null!==R?qr(o,v,R,E):fr}function Fo(s,o,a,u,h){const g=s.providerIndexes,v=o.data,E=1048575&g,D=s.directiveStart,R=g>>20,z=h?E+R:s.directiveEnd;for(let ie=u?E:E+R;ie<z;ie++){const ve=v[ie];if(ie<D&&a===ve||ie>=D&&ve.type===a)return ie}if(h){const ie=v[D];if(ie&&yi(ie)&&ie.type===a)return D}return null}function qr(s,o,a,u){let h=s[a];const g=o.data;if(function io(s){return s instanceof Cs}(h)){const v=h;v.resolving&&function Qe(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${s}${a}`)}(function ge(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():_e(s)}(g[a]));const E=Da(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?zn(v.injectImpl):null;wl(s,u,qe.Default);try{h=s[a]=v.factory(void 0,g,s,u),o.firstCreatePass&&a>=u.directiveStart&&function Wu(s,o,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(u){const v=Ys(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,g))}(a,g[a],o)}finally{null!==D&&zn(D),Da(E),v.resolving=!1,$u()}}return h}function Ll(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Ia(s,o){return!(s&qe.Self||s&qe.Host&&o)}class lo{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return ao(this._tNode,this._lView,o,u,a)}}function Kc(){return new lo(Pn(),Ie())}function Kr(s){return On(()=>{const o=s.prototype.constructor,a=o[Zn]||Bl(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const g=h[Zn]||Bl(h);if(g&&g!==a)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Bl(s){return Fe(s)?()=>{const o=Bl(Q(s));return o&&o()}:Sr(s)}function Bo(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function Vl(s){return function Qu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const g=a[h];if(so(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(g===o)return a[h+1];h+=2}}}return null}(Pn(),s)}const Ts="__parameters__";function Ho(s,o,a){return On(()=>{const u=function Ul(s){return function(...a){if(s){const u=s(...a);for(const h in u)this[h]=u[h]}}}(o);function h(...g){if(this instanceof h)return u.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(D,S,R){const L=D.hasOwnProperty(Ts)?D[Ts]:Object.defineProperty(D,Ts,{value:[]})[Ts];for(;L.length<=R;)L.push(null);return(L[R]=L[R]||[]).push(v),D}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class hn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Yt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Wt(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),Wt(u,o)):o!==s&&o.push(u)}return o}function pr(s,o){s.forEach(a=>Array.isArray(a)?pr(a,o):o(a))}function Na(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function vn(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ss(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}function We(s,o,a){let u=Is(s,o);return u>=0?s[1|u]=a:(u=~u,function Yc(s,o,a,u){let h=s.length;if(h==o)s.push(a,u);else if(1===h)s.push(u,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function Oa(s,o){const a=Is(s,o);if(a>=0)return s[1|a]}function Is(s,o){return function Wo(s,o,a){let u=0,h=s.length>>a;for(;h!==u;){const g=u+(h-u>>1),v=s[g<<a];if(o===v)return g<<a;v>o?h=g:u=g+1}return~(h<<a)}(s,o,1)}const mr={},Xc="__NG_DI_FLAG__",Wi="ngTempTokenPath",_r=/\n/gm,Un="__source";let As;function Qr(s){const o=As;return As=s,o}function An(s,o=qe.Default){if(void 0===As)throw new Ce(-203,!1);return null===As?Qi(s,void 0,o):As.get(s,o&qe.Optional?null:void 0,o)}function xt(s,o=qe.Default){return(function ps(){return _i}()||An)(Q(s),o)}function w(s,o=qe.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),xt(s,o)}function T(s){const o=[];for(let a=0;a<s.length;a++){const u=Q(s[a]);if(Array.isArray(u)){if(0===u.length)throw new Ce(900,!1);let h,g=qe.Default;for(let v=0;v<u.length;v++){const E=u[v],D=V(E);"number"==typeof D?-1===D?h=E.token:g|=D:h=E}o.push(xt(h,g))}else o.push(xt(u))}return o}function O(s,o){return s[Xc]=o,s.prototype[Xc]=o,s}function V(s){return s[Xc]}const Oe=O(Ho("Optional"),8),_t=O(Ho("SkipSelf"),4);let Rh,ka;function Pp(s){Rh=s}function fo(s){return function ed(){if(void 0===ka&&(ka=null,en.trustedTypes))try{ka=en.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ka}()?.createHTML(s)||s}class go{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class id extends go{getTypeName(){return"HTML"}}class Fa extends go{getTypeName(){return"Style"}}class Fp extends go{getTypeName(){return"Script"}}class tu extends go{getTypeName(){return"URL"}}class Gm extends go{getTypeName(){return"ResourceURL"}}function vr(s){return s instanceof go?s.changingThisBreaksApplicationSecurity:s}function mo(s,o){const a=function kh(s){return s instanceof go&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function xh(s){return new id(s)}function Wm(s){return new Fa(s)}function zm(s){return new Fp(s)}function Zm(s){return new tu(s)}function rd(s){return new Gm(s)}function Lp(s){const o=new qm(s);return function x0(){try{return!!(new window.DOMParser).parseFromString(fo(""),"text/html")}catch{return!1}}()?new Bp(o):o}class Bp{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(fo(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class qm{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=fo(o),a;const u=this.inertDocument.createElement("body");return u.innerHTML=fo(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const v=a.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const La=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function $l(s){return(s=String(s)).match(La)?s:"unsafe:"+s}function Rr(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function Ba(...s){const o={};for(const a of s)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const Zo=Rr("area,br,col,hr,img,wbr"),Gl=Rr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Km=Rr("rp,rt"),Va=Ba(Zo,Ba(Gl,Rr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ba(Km,Rr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ba(Km,Gl)),_o=Rr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fh=Ba(_o,Rr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Rr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Up=Rr("script,style,template");class Wl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!Va.hasOwnProperty(a))return this.sanitizedSomething=!0,!Up.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=o.attributes;for(let h=0;h<u.length;h++){const g=u.item(h),v=g.name,E=v.toLowerCase();if(!Fh.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let D=g.value;_o[E]&&(D=$l(D)),this.buf.push(" ",v,'="',Bh(D),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();Va.hasOwnProperty(a)&&!Zo.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Bh(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const Hp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lh=/([^\#-~ |!])/g;function Bh(s){return s.replace(/&/g,"&amp;").replace(Hp,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Lh,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sd;function zl(s,o){let a=null;try{sd=sd||Lp(s);let u=o?String(o):"";a=sd.getInertBodyElement(u);let h=5,g=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=g,g=a.innerHTML,a=sd.getInertBodyElement(u)}while(u!==g);return fo((new Wl).sanitizeChildren(yo(a)||a))}finally{if(a){const u=yo(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function yo(s){return"content"in s&&function Jm(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Fn=(()=>((Fn=Fn||{})[Fn.NONE=0]="NONE",Fn[Fn.HTML=1]="HTML",Fn[Fn.STYLE=2]="STYLE",Fn[Fn.SCRIPT=3]="SCRIPT",Fn[Fn.URL=4]="URL",Fn[Fn.RESOURCE_URL=5]="RESOURCE_URL",Fn))();function ad(s){const o=function Zl(){const s=Ie();return s&&s[12]}();return o?o.sanitize(Fn.URL,s)||"":mo(s,"URL")?vr(s):$l(_e(s))}const Vh=new hn("ENVIRONMENT_INITIALIZER"),Gp=new hn("INJECTOR",-1),Wp=new hn("INJECTOR_DEF_TYPES");class zp{get(o,a=mr){if(a===mr){const u=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw u.name="NullInjectorError",u}return a}}function Zp(...s){return{\u0275providers:dd(0,s)}}function dd(s,...o){const a=[],u=new Set;let h;return pr(o,g=>{const v=g;iu(v,a,[],u)&&(h||(h=[]),h.push(v))}),void 0!==h&&hd(h,a),a}function hd(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];pr(h,g=>{o.push(g)})}}function iu(s,o,a,u){if(!(s=Q(s)))return!1;let h=null,g=fs(s);const v=!g&&ee(s);if(g||v){if(v&&!v.standalone)return!1;h=s}else{const D=s.ngModule;if(g=fs(D),!g)return!1;h=D}const E=u.has(h);if(v){if(E)return!1;if(u.add(h),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of D)iu(S,o,a,u)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let S;u.add(h);try{pr(g.imports,R=>{iu(R,o,a,u)&&(S||(S=[]),S.push(R))})}finally{}void 0!==S&&hd(S,o)}if(!E){const S=Sr(h)||(()=>new h);o.push({provide:h,useFactory:S,deps:Dt},{provide:Wp,useValue:h,multi:!0},{provide:Vh,useValue:()=>xt(h),multi:!0})}const D=g.providers;null==D||E||pr(D,R=>{o.push(R)})}}return h!==s&&void 0!==s.providers}const fd=he({provide:String,useValue:he});function ru(s){return null!==s&&"object"==typeof s&&fd in s}function br(s){return"function"==typeof s}const ql=new hn("Set Injector scope."),Kl={},vo={};let su;function pd(){return void 0===su&&(su=new zp),su}class bi{}class gd extends bi{constructor(o,a,u,h){super(),this.parent=a,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qo(o,v=>this.processProvider(v)),this.records.set(Gp,oi(void 0,this)),h.has("environment")&&this.records.set(bi,oi(void 0,this));const g=this.records.get(ql);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Wp.multi,Dt,qe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=Qr(this),u=zn(void 0);try{return o()}finally{Qr(a),zn(u)}}get(o,a=mr,u=qe.Default){this.assertNotDestroyed();const h=Qr(this),g=zn(void 0);try{if(!(u&qe.SkipSelf)){let E=this.records.get(o);if(void 0===E){const D=function Xm(s){return"function"==typeof s||"object"==typeof s&&s instanceof hn}(o)&&nn(o);E=D&&this.injectableDefInScope(D)?oi(ou(o),Kl):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(u&qe.Self?pd():this.parent).get(o,a=u&qe.Optional&&a===mr?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Wi]=v[Wi]||[]).unshift(fe(o)),h)throw v;return function X(s,o,a,u){const h=s[Wi];throw o[Un]&&h.unshift(o[Un]),s.message=function oe(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=fe(o);if(Array.isArray(o))h=o.map(fe).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):fe(E)))}h=`{${g.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${s.replace(_r,"\n  ")}`}("\n"+s.message,h,a,u),s.ngTokenPath=h,s[Wi]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{zn(g),Qr(h)}}resolveInjectorInitializers(){const o=Qr(this),a=zn(void 0);try{const u=this.get(Vh.multi,Dt,qe.Self);for(const h of u)h()}finally{Qr(o),zn(a)}}toString(){const o=[],a=this.records;for(const u of a.keys())o.push(fe(u));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(o){let a=br(o=Q(o))?o:Q(o&&o.provide);const u=function Uh(s){return ru(s)?oi(void 0,s.useValue):oi(au(s),Kl)}(o);if(br(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=oi(void 0,Kl,!0),h.factory=()=>T(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,u)}hydrate(o,a){return a.value===Kl&&(a.value=vo,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Hh(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Q(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function ou(s){const o=nn(s),a=null!==o?o.factory:Sr(s);if(null!==a)return a;if(s instanceof hn)throw new Ce(204,!1);if(s instanceof Function)return function Kp(s){const o=s.length;if(o>0)throw Ss(o,"?"),new Ce(204,!1);const a=function Ti(s){const o=s&&(s[cr]||s[Ji]);if(o){const a=function Si(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Ce(204,!1)}function au(s,o,a){let u;if(br(s)){const h=Q(s);return Sr(h)||ou(h)}if(ru(s))u=()=>Q(s.useValue);else if(function ir(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...T(s.deps||[]));else if(function Mi(s){return!(!s||!s.useExisting)}(s))u=()=>xt(Q(s.useExisting));else{const h=Q(s&&(s.useClass||s.provide));if(!function Ha(s){return!!s.deps}(s))return Sr(h)||ou(h);u=()=>new h(...T(s.deps))}return u}function oi(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function es(s){return!!s.\u0275providers}function qo(s,o){for(const a of s)Array.isArray(a)?qo(a,o):es(a)?qo(a.\u0275providers,o):o(a)}class md{}class vd{resolveComponentFactory(o){throw function Yp(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let ja=(()=>{class s{}return s.NULL=new vd,s})();function e_(){return y(Pn(),Ie())}function y(s,o){return new f(Ni(s,o))}let f=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=e_,s})();function m(s){return s instanceof f?s.nativeElement:s}class I{}let P=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function q(){const s=Ie(),a=Gt(Pn().index,s);return(ni(a)?a:s)[11]}(),s})(),de=(()=>{class s{}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:()=>null}),s})();class Le{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Ye=new Le("14.2.7"),pt={};function r_(s){return s.ngOriginalError}class Wh{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&r_(o);for(;a&&r_(a);)a=r_(a);return a||null}}const YD=/^>|^->|<!--|-->|--!>|<!-$/g,hI=/(<|>)/;const s_=new Map;let ew=0;const ng="__ngContext__";function Oi(s,o){ni(o)?(s[ng]=o[20],function nw(s){s_.set(s[20],s)}(o)):s[ng]=o}function Wa(s){return s instanceof Function?s():s}var Yo=(()=>((Yo=Yo||{})[Yo.Important=1]="Important",Yo[Yo.DashCase=2]="DashCase",Yo))();let c_;function u_(s,o){return c_(s,o)}function Dd(s){const o=s[3];return Ai(o)?o[3]:o}function sg(s){return Y0(s[13])}function og(s){return Y0(s[4])}function Y0(s){for(;null!==s&&!Ai(s);)s=s[4];return s}function wd(s,o,a,u,h){if(null!=u){let g,v=!1;Ai(u)?g=u:ni(u)&&(v=!0,u=u[0]);const E=Rn(u);0===s&&null!==a?null==h?ib(o,a,E):Jo(o,a,E,h||null,!0):1===s&&null!==a?Jo(o,a,E,h||null,!0):2===s?mw(o,E,v):3===s&&o.destroyNode(E),null!=g&&function yI(s,o,a,u,h){const g=a[7];g!==Rn(a)&&wd(o,s,u,g,h);for(let E=10;E<a.length;E++){const D=a[E];cu(D[1],D,s,o,u,g)}}(o,s,g,a,h)}}function h_(s,o){return s.createText(o)}function J0(s,o,a){s.setValue(o,a)}function hw(s,o){return s.createComment(function Xp(s){return s.replace(YD,o=>o.replace(hI,"\u200b$1\u200b"))}(o))}function ag(s,o,a){return s.createElement(o,a)}function eb(s,o){const a=s[9],u=a.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,In(h,-1)),a.splice(u,1)}function p_(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const h=u[17];null!==h&&h!==s&&eb(h,u),o>0&&(s[a-1][4]=u[4]);const g=vn(s,10+o);!function f_(s,o){cu(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const v=g[19];null!==v&&v.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function qh(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&cu(s,o,a,3,null,null),function mI(s){let o=s[13];if(!o)return lg(s[1],s);for(;o;){let a=null;if(ni(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)ni(o)&&lg(o[1],o),o=o[3];null===o&&(o=s),ni(o)&&lg(o[1],o),a=o&&o[4]}o=a}}(o)}}function lg(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function m_(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const h=o[a[u]];if(!(h instanceof Cs)){const g=a[u+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],D=g[v+1];try{D.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function g_(s,o){const a=s.cleanup,u=o[7];let h=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+1],E="function"==typeof v?v(o):Rn(o[v]),D=u[h=a[g+2]],S=a[g+3];"boolean"==typeof S?E.removeEventListener(a[g],D,S):S>=0?u[h=S]():u[h=-S].unsubscribe(),g+=2}else{const v=u[h=a[g+1]];a[g].call(v)}if(null!==u){for(let g=h+1;g<u.length;g++)(0,u[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&Ai(o[3])){a!==o[3]&&eb(a,o);const u=o[19];null!==u&&u.detachView(s)}!function iw(s){s_.delete(s[20])}(o)}}function tb(s,o,a){return nb(s,o.parent,a)}function nb(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===at.None||h===at.Emulated)return null}return Ni(u,a)}function Jo(s,o,a,u,h){s.insertBefore(o,a,u,h)}function ib(s,o,a){s.appendChild(o,a)}function rb(s,o,a,u,h){null!==u?Jo(s,o,a,u,h):ib(s,o,a)}function cg(s,o){return s.parentNode(o)}function En(s,o,a){return __(s,o,a)}function ob(s,o,a){return 40&s.type?Ni(s,a):null}let Kh,__=ob;function Yh(s,o){__=s,Kh=o}function ug(s,o,a,u){const h=tb(s,u,o),g=o[11],E=En(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(a))for(let D=0;D<a.length;D++)rb(g,h,a[D],E,!1);else rb(g,h,a,E,!1);void 0!==Kh&&Kh(g,u,o,a,h)}function dg(s,o){if(null!==o){const a=o.type;if(3&a)return Ni(o,s);if(4&a)return ab(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return dg(s,u);{const h=s[o.index];return Ai(h)?ab(-1,h):Rn(h)}}if(32&a)return u_(o,s)()||Rn(s[o.index]);{const u=y_(s,o);return null!==u?Array.isArray(u)?u[0]:dg(Dd(s[16]),u):dg(s,o.next)}}return null}function y_(s,o){return null!==o?s[16][6].projection[o.projection]:null}function ab(s,o){const a=10+s+1;if(a<o.length){const u=o[a],h=u[1].firstChild;if(null!==h)return dg(u,h)}return o[7]}function mw(s,o,a){const u=cg(s,o);u&&function gw(s,o,a,u){s.removeChild(o,a,u)}(s,u,o,a)}function v_(s,o,a,u,h,g,v){for(;null!=a;){const E=u[a.index],D=a.type;if(v&&0===o&&(E&&Oi(Rn(E),u),a.flags|=4),64!=(64&a.flags))if(8&D)v_(s,o,a.child,u,h,g,!1),wd(o,s,h,E,g);else if(32&D){const S=u_(a,u);let R;for(;R=S();)wd(o,s,h,R,g);wd(o,s,h,E,g)}else 16&D?Jh(s,o,u,a,h,g):wd(o,s,h,E,g);a=v?a.projectionNext:a.next}}function cu(s,o,a,u,h,g){v_(a,u,s.firstChild,o,h,g,!1)}function Jh(s,o,a,u,h,g){const v=a[16],D=v[6].projection[u.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)wd(o,s,h,D[S],g);else v_(s,o,D,v[3],h,g,!0)}function uu(s,o,a){s.setAttribute(o,"style",a)}function Qh(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function _w(s,o,a){let u=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===u||s.charCodeAt(h+g)<=32)return h}a=h+1}}const b_="ng-template";function E_(s,o,a){let u=0;for(;u<s.length;){let h=s[u++];if(a&&"class"===h){if(h=s[u],-1!==_w(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function ub(s){return 4===s.type&&s.value!==b_}function vw(s,o,a){return o===(4!==s.type||a?s.value:b_)}function bw(s,o,a){let u=4;const h=s.attrs||[],g=function vI(s){for(let o=0;o<s.length;o++)if(so(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const D=o[E];if("number"!=typeof D){if(!v)if(4&u){if(u=2|1&u,""!==D&&!vw(s,D,a)||""===D&&1===o.length){if(Os(u))return!1;v=!0}}else{const S=8&u?D:o[++E];if(8&u&&null!==s.attrs){if(!E_(s.attrs,S,a)){if(Os(u))return!1;v=!0}continue}const L=Ew(8&u?"class":D,h,ub(s),a);if(-1===L){if(Os(u))return!1;v=!0;continue}if(""!==S){let z;z=L>g?"":h[L+1].toLowerCase();const ie=8&u?z:null;if(ie&&-1!==_w(ie,S,0)||2&u&&S!==z){if(Os(u))return!1;v=!0}}}}else{if(!v&&!Os(u)&&!Os(D))return!1;if(v&&Os(D))continue;v=!1,u=D|1&u}}return Os(u)||v}function Os(s){return 0==(1&s)}function Ew(s,o,a,u){if(null===o)return-1;let h=0;if(u||!a){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function db(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function Cw(s,o,a=!1){for(let u=0;u<o.length;u++)if(bw(s,o[u],a))return!0;return!1}function Dw(s,o){e:for(let a=0;a<o.length;a++){const u=o[a];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function hb(s,o){return s?":not("+o.trim()+")":o}function fb(s){let o=s[0],a=1,u=2,h="",g=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&u){const E=s[++a];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?h+="."+v:4&u&&(h+=" "+v);else""!==h&&!Os(v)&&(o+=hb(g,h),h=""),u=v,g=g||!Os(u);a++}return""!==h&&(o+=hb(g,h)),o}const Pt={};function pb(s){gb(Lt(),Ie(),Yn()+s,!1)}function gb(s,o,a,u){if(!u)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&no(o,g,a)}else{const g=s.preOrderHooks;null!==g&&Po(o,g,0,a)}ji(a)}function _b(s,o=null,a=null,u){const h=yb(s,o,a,u);return h.resolveInjectorInitializers(),h}function yb(s,o=null,a=null,u,h=new Set){const g=[a||Dt,Zp(s)];return u=u||("object"==typeof s?void 0:fe(s)),new gd(g,o||pd(),u||null,h)}let du=(()=>{class s{static create(a,u){if(Array.isArray(a))return _b({name:""},u,a,"");{const h=a.name??"";return _b({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=mr,s.NULL=new zp,s.\u0275prov=Yt({token:s,providedIn:"any",factory:()=>xt(Gp)}),s.__NG_ELEMENT_ID__=-1,s})();function Nd(s,o=qe.Default){const a=Ie();return null===a?xt(s,o):ao(Pn(),a,Q(s),o)}function Db(){throw new Error("invalid")}function Md(s,o){return s<<17|o<<2}function ts(s){return s>>17&32767}function Xh(s){return 2|s}function qa(s){return(131068&s)>>2}function wb(s,o){return-131069&s|o<<2}function M_(s){return 1|s}function Ei(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const h=a[u],g=a[u+1];if(-1!==g){const v=s.data[g];va(h),v.contentQueries(2,o[g],g)}}}function is(s,o,a,u,h,g,v,E,D,S,R){const L=o.blueprint.slice();return L[0]=h,L[2]=76|u,(null!==R||s&&1024&s[2])&&(L[2]|=1024),ml(L),L[3]=L[15]=s,L[8]=a,L[10]=v||s&&s[10],L[11]=E||s&&s[11],L[12]=D||s&&s[12]||null,L[9]=S||s&&s[9]||null,L[6]=g,L[20]=function tw(){return ew++}(),L[21]=R,L[16]=2==o.type?s[16]:L,L}function ai(s,o,a,u,h){let g=s.data[o];if(null===g)g=U_(s,o,a,u,h),function Cp(){return wt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=u,g.attrs=h;const v=Ro();g.injectorIndex=null===v?-1:v.injectorIndex}return tr(g,!0),g}function U_(s,o,a,u,h){const g=Cl(),v=pa(),D=s.data[o]=function $w(s,o,a,u,h,g){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,o,u,h);return null===s.firstChild&&(s.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}function Ya(s,o,a,u){if(0===a)return-1;const h=o.length;for(let g=0;g<a;g++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function H_(s,o,a){Tl(o);try{const u=s.viewQuery;null!==u&&J_(1,u,a);const h=s.template;null!==h&&bo(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Ei(s,o),s.staticViewQueries&&J_(2,s.viewQuery,a);const g=s.components;null!==g&&function V_(s,o){for(let a=0;a<o.length;a++)Kw(s,o[a])}(o,g)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,eo()}}function ks(s,o,a,u){const h=o[2];if(128!=(128&h)){Tl(o);try{ml(o),function Bc(s){return wt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&bo(s,o,a,2,u);const v=3==(3&h);if(v){const S=s.preOrderCheckHooks;null!==S&&no(o,S,null)}else{const S=s.preOrderHooks;null!==S&&Po(o,S,0,null),zu(o,0)}if(function Zw(s){for(let o=sg(s);null!==o;o=og(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const h=a[u],g=h[3];0==(512&h[2])&&In(g,1),h[2]|=512}}}(o),function Y_(s){for(let o=sg(s);null!==o;o=og(o))for(let a=10;a<o.length;a++){const u=o[a],h=u[1];Qs(u)&&ks(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&Ei(s,o),v){const S=s.contentCheckHooks;null!==S&&no(o,S)}else{const S=s.contentHooks;null!==S&&Po(o,S,1),zu(o,1)}!function Ob(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)ji(~h);else{const g=h,v=a[++u],E=a[++u];Dp(v,g),E(2,o[g])}}}finally{ji(-1)}}(s,o);const E=s.components;null!==E&&function nf(s,o){for(let a=0;a<o.length;a++)qw(s,o[a])}(o,E);const D=s.viewQuery;if(null!==D&&J_(2,D,u),v){const S=s.viewCheckHooks;null!==S&&no(o,S)}else{const S=s.viewHooks;null!==S&&Po(o,S,2),zu(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,In(o[3],-1))}finally{eo()}}}function bo(s,o,a,u,h){const g=Yn(),v=2&u;try{ji(-1),v&&o.length>22&&gb(s,o,22,!1),a(u,h)}finally{ji(g)}}function j_(s,o,a){!zr()||(function kb(s,o,a,u){const h=a.directiveStart,g=a.directiveEnd;s.firstCreatePass||oo(a,o),Oi(u,o);const v=a.initialInputs;for(let E=h;E<g;E++){const D=s.data[E],S=yi(D);S&&Vb(o,a,D);const R=qr(o,s,E,a);Oi(R,o),null!==v&&Ub(0,E-h,R,D,0,v),S&&(Gt(a.index,o)[8]=R)}}(s,o,a,Ni(a,o)),128==(128&a.flags)&&function xb(s,o,a){const u=a.directiveStart,h=a.directiveEnd,g=a.index,v=function Vc(){return wt.lFrame.currentDirectiveIndex}();try{ji(g);for(let E=u;E<h;E++){const D=s.data[E],S=o[E];Dl(E),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&z_(D,S)}}finally{ji(-1),Dl(v)}}(s,o,a))}function fu(s,o,a=Ni){const u=o.localNames;if(null!==u){let h=o.index+1;for(let g=0;g<u.length;g+=2){const v=u[g+1],E=-1===v?a(o,s):s[v];s[h++]=E}}}function vg(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=bg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function bg(s,o,a,u,h,g,v,E,D,S){const R=22+u,L=R+h,z=function Ri(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:Pt);return a}(R,L),ie="function"==typeof S?S():S;return z[1]={type:s,blueprint:z,template:a,queries:null,viewQuery:E,declTNode:o,data:z.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:ie,incompleteFirstPass:!1}}function Rb(s,o,a,u){const h=jb(o);null===a?h.push(u):(h.push(a),s.firstCreatePass&&$b(s).push(u,h.length-1))}function Pb(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,h):a[u]=[o,h]}return a}function $_(s,o){const u=o.directiveEnd,h=s.data,g=o.attrs,v=[];let E=null,D=null;for(let S=o.directiveStart;S<u;S++){const R=h[S],L=R.inputs,z=null===g||ub(o)?null:zw(L,g);v.push(z),E=Pb(L,S,E),D=Pb(R.outputs,S,D)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=D}function or(s,o,a,u,h,g,v,E){const D=Ni(o,a);let R,S=o.inputs;!E&&null!=S&&(R=S[u])?(Ag(s,a,R,u,h),da(o)&&pu(a,o.index)):3&o.type&&(u=function G_(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=v?v(h,o.value||"",u):h,g.setProperty(D,u,h))}function pu(s,o){const a=Gt(o,s);16&a[2]||(a[2]|=32)}function W_(s,o,a,u){let h=!1;if(zr()){const g=function Fb(s,o,a){const u=s.directiveRegistry;let h=null;if(u)for(let g=0;g<u.length;g++){const v=u[g];Cw(a,v.selectors,!1)&&(h||(h=[]),Ds(oo(a,o),s,v.type),yi(v)?(Z_(s,a),h.unshift(v)):h.push(v))}return h}(s,o,a),v=null===u?null:{"":-1};if(null!==g){h=!0,Dg(a,s.data.length,g.length);for(let R=0;R<g.length;R++){const L=g[R];L.providersResolver&&L.providersResolver(L)}let E=!1,D=!1,S=Ya(s,o,g.length,null);for(let R=0;R<g.length;R++){const L=g[R];a.mergedAttrs=ba(a.mergedAttrs,L.hostAttrs),q_(s,a,o,S,L),Bb(S,L,v),null!==L.contentQueries&&(a.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(a.flags|=128);const z=L.type.prototype;!E&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),E=!0),!D&&(z.ngOnChanges||z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),D=!0),S++}$_(s,a)}v&&function Lb(s,o,a){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=a[o[h+1]];if(null==g)throw new Ce(-301,!1);u.push(o[h],g)}}}(a,u,v)}return a.mergedAttrs=ba(a.mergedAttrs,a.attrs),h}function kd(s,o,a,u,h,g){const v=g.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const D=~o.index;(function Cg(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(E)!=D&&E.push(D),E.push(u,h,v)}}function z_(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Z_(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Bb(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;yi(o)&&(a[""]=s)}}function Dg(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function q_(s,o,a,u,h){s.data[u]=h;const g=h.factory||(h.factory=Sr(h.type)),v=new Cs(g,yi(h),Nd);s.blueprint[u]=v,a[u]=v,kd(s,o,0,u,Ya(s,a,h.hostVars,Pt),h)}function Vb(s,o,a){const u=Ni(o,s),h=vg(a),g=s[10],v=Sg(s,is(s,h,null,a.onPush?32:16,u,o,g,g.createRenderer(u,a),null,null,null));s[o.index]=v}function K_(s,o,a,u,h,g,v){if(null==g)s.removeAttribute(o,h,a);else{const E=null==v?_e(g):v(g,u||"",h);s.setAttribute(o,h,E,a)}}function Ub(s,o,a,u,h,g){const v=g[o];if(null!==v){const E=u.setInput;for(let D=0;D<v.length;){const S=v[D++],R=v[D++],L=v[D++];null!==E?u.setInput(a,L,S,R):a[R]=L}}}function zw(s,o){let a=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return a}function wg(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function qw(s,o){const a=Gt(o,s);if(Qs(a)){const u=a[1];48&a[2]?ks(u,a,u.template,a[8]):a[5]>0&&Tg(a)}}function Tg(s){for(let u=sg(s);null!==u;u=og(u))for(let h=10;h<u.length;h++){const g=u[h];if(Qs(g))if(512&g[2]){const v=g[1];ks(v,g,v.template,g[8])}else g[5]>0&&Tg(g)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const h=Gt(a[u],s);Qs(h)&&h[5]>0&&Tg(h)}}function Kw(s,o){const a=Gt(o,s),u=a[1];(function Yw(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),H_(u,a,a[8])}function Sg(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Ig(s){for(;s;){s[2]|=32;const o=Dd(s);if(yh(s)&&!o)return s;s=o}return null}function rf(s,o,a,u=!0){const h=o[10];h.begin&&h.begin();try{ks(s,o,s.template,a)}catch(v){throw u&&Q_(o,v),v}finally{h.end&&h.end()}}function J_(s,o,a){va(0),o(s,a)}function jb(s){return s[7]||(s[7]=[])}function $b(s){return s.cleanup||(s.cleanup=[])}function Q_(s,o){const a=s[9],u=a?a.get(Wh,null):null;u&&u.handleError(o)}function Ag(s,o,a,u,h){for(let g=0;g<a.length;){const v=a[g++],E=a[g++],D=o[v],S=s.data[v];null!==S.setInput?S.setInput(D,h,u,E):D[E]=h}}function Ng(s,o,a){let u=a?s.styles:null,h=a?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?h=pe(h,E):2==g&&(u=pe(u,E+": "+o[++v]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=h:s.classesWithoutHost=h}function Mg(s,o,a,u,h=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&u.push(Rn(g)),Ai(g))for(let E=10;E<g.length;E++){const D=g[E],S=D[1].firstChild;null!==S&&Mg(D[1],D,S,u)}const v=a.type;if(8&v)Mg(s,o,a.child,u);else if(32&v){const E=u_(a,o);let D;for(;D=E();)u.push(D)}else if(16&v){const E=y_(o,a);if(Array.isArray(E))u.push(...E);else{const D=Dd(o[16]);Mg(D[1],D,E,u,!0)}}a=h?a.projectionNext:a.next}return u}class Fs{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Mg(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ai(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(p_(o,u),vn(a,u))}this._attachedToViewContainer=!1}qh(this._lView[1],this._lView)}onDestroy(o){Rb(this._lView[1],this._lView,null,o)}markForCheck(){Ig(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){rf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function X0(s,o){cu(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=o}}class X_ extends Fs{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;rf(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class ey extends ja{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=ee(o);return new Fd(a,this.ngModule)}}function Wb(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class xd{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,u){const h=this.injector.get(o,pt,u);return h!==pt||a===pt?h:this.parentInjector.get(o,a,u)}}class Fd extends md{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function ww(s){return s.map(fb).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Wb(this.componentDef.inputs)}get outputs(){return Wb(this.componentDef.outputs)}create(o,a,u,h){let g=(h=h||this.ngModule)instanceof bi?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new xd(o,g):o,E=v.get(I,null);if(null===E)throw new Ce(407,!1);const D=v.get(de,null),S=E.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",L=u?function jw(s,o,a){return s.selectRootElement(o,a===at.ShadowDom)}(S,u,this.componentDef.encapsulation):ag(E.createRenderer(null,this.componentDef),R,function Og(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),z=this.componentDef.onPush?288:272,ie=bg(0,null,null,1,0,null,null,null,null,null),ve=is(null,ie,null,z,null,null,E,S,D,v,null);let xe,Ge;Tl(ve);try{const it=function ty(s,o,a,u,h,g){const v=a[1];a[22]=s;const D=ai(v,22,2,"#host",null),S=D.mergedAttrs=o.hostAttrs;null!==S&&(Ng(D,S,!0),null!==s&&(xo(h,s,S),null!==D.classes&&Qh(h,s,D.classes),null!==D.styles&&uu(h,s,D.styles)));const R=u.createRenderer(s,o),L=is(a,vg(o),null,o.onPush?32:16,a[22],D,u,R,g||null,null,null);return v.firstCreatePass&&(Ds(oo(D,a),v,o.type),Z_(v,D),Dg(D,a.length,1)),Sg(a,L),a[22]=L}(L,this.componentDef,ve,E,S);if(L)if(u)xo(S,L,["ng-version",Ye.full]);else{const{attrs:gt,classes:Ne}=function Tw(s){const o=[],a=[];let u=1,h=2;for(;u<s.length;){let g=s[u];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++u]):8===h&&a.push(g);else{if(!Os(h))break;h=g}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);gt&&xo(S,L,gt),Ne&&Ne.length>0&&Qh(S,L,Ne.join(" "))}if(Ge=Js(ie,22),void 0!==a){const gt=Ge.projection=[];for(let Ne=0;Ne<this.ngContentSelectors.length;Ne++){const Ct=a[Ne];gt.push(null!=Ct?Array.from(Ct):null)}}xe=function zb(s,o,a,u){const h=a[1],g=function Ww(s,o,a){const u=Pn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),q_(s,u,o,Ya(s,o,1,null),a),$_(s,u));const h=qr(o,s,u.directiveStart,u);Oi(h,o);const g=Ni(u,o);return g&&Oi(g,o),h}(h,a,o);if(s[8]=a[8]=g,null!==u)for(const E of u)E(g,o);if(o.contentQueries){const E=Pn();o.contentQueries(1,g,E.directiveStart)}const v=Pn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(ji(v.index),kd(a[1],v,0,v.directiveStart,v.directiveEnd,o),z_(o,g)),g}(it,this.componentDef,ve,[eT]),H_(ie,ve,null)}finally{eo()}return new Xw(this.componentType,xe,y(Ge,ve),ve,Ge)}}class Xw extends class jh{}{constructor(o,a,u,h,g){super(),this.location=u,this._rootLView=h,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new X_(h),this.componentType=o}setInput(o,a){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[o])){const g=this._rootLView;Ag(g[1],g,h,o,a),pu(g,this._tNode.index)}}get injector(){return new lo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function eT(){const s=Pn();Al(Ie()[1],s)}function iy(s){let o=function ny(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let h;if(yi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ce(903,!1);h=o.\u0275dir}if(h){if(a){u.push(h);const v=s;v.inputs=Rg(s.inputs),v.declaredInputs=Rg(s.declaredInputs),v.outputs=Rg(s.outputs);const E=h.hostBindings;E&&tT(s,E);const D=h.viewQuery,S=h.contentQueries;if(D&&qb(s,D),S&&Kb(s,S),ae(s.inputs,h.inputs),ae(s.declaredInputs,h.declaredInputs),ae(s.outputs,h.outputs),yi(h)&&h.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===iy&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Zb(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=ba(h.hostAttrs,a=ba(a,h.hostAttrs))}}(u)}function Rg(s){return s===Bi?{}:s===Dt?[]:s}function qb(s,o){const a=s.viewQuery;s.viewQuery=a?(u,h)=>{o(u,h),a(u,h)}:o}function Kb(s,o){const a=s.contentQueries;s.contentQueries=a?(u,h,g)=>{o(u,h,g),a(u,h,g)}:o}function tT(s,o){const a=s.hostBindings;s.hostBindings=a?(u,h)=>{o(u,h),a(u,h)}:o}let gu=null;function rc(){if(!gu){const s=en.Symbol;if(s&&s.iterator)gu=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(gu=u)}}}return gu}function Xt(s){return!!ea(s)&&(Array.isArray(s)||!(s instanceof Map)&&rc()in s)}function ea(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ls(s,o,a){return s[o]=a}function gi(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function sc(s,o,a,u){const h=gi(s,o,a);return gi(s,o+1,u)||h}function zi(s,o,a,u){const h=Ie();return gi(h,Xs(),o)&&(Lt(),function xs(s,o,a,u,h,g){const v=Ni(s,o);K_(o[11],v,g,s.value,a,u,h)}(mn(),h,s,o,a,u)),zi}function oc(s,o,a,u){return gi(s,Xs(),a)?o+_e(a)+u:Pt}function oy(s,o,a,u,h,g,v,E){const D=Ie(),S=Lt(),R=s+22,L=S.firstCreatePass?function kg(s,o,a,u,h,g,v,E,D){const S=o.consts,R=ai(o,s,4,v||null,hr(S,E));W_(o,a,R,hr(S,D)),Al(o,R);const L=R.tViews=bg(2,R,u,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,R),L.queries=o.queries.embeddedTView(R)),R}(R,S,D,o,a,u,h,g,v):S.data[R];tr(L,!1);const z=D[11].createComment("");ug(S,D,z,L),Oi(z,D),Sg(D,D[R]=wg(z,D,z,L)),Mc(L)&&j_(S,D,L),null!=v&&fu(D,L,E)}function af(s){return function Wr(s,o){return s[o]}(function Lc(){return wt.lFrame.contextLView}(),22+s)}function rs(s,o,a){const u=Ie();return gi(u,Xs(),o)&&or(Lt(),mn(),u,s,o,u[11],a,!1),rs}function ay(s,o,a,u,h){const v=h?"class":"style";Ag(s,a,o.inputs[v],v,u)}function xg(s,o,a,u){const h=Ie(),g=Lt(),v=22+s,E=h[11],D=h[v]=ag(E,o,function Il(){return wt.lFrame.currentNamespace}()),S=g.firstCreatePass?function Pr(s,o,a,u,h,g,v){const E=o.consts,S=ai(o,s,2,h,hr(E,g));return W_(o,a,S,hr(E,v)),null!==S.attrs&&Ng(S,S.attrs,!1),null!==S.mergedAttrs&&Ng(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(v,g,h,0,o,a,u):g.data[v];tr(S,!0);const R=S.mergedAttrs;null!==R&&xo(E,D,R);const L=S.classes;null!==L&&Qh(E,D,L);const z=S.styles;return null!==z&&uu(E,D,z),64!=(64&S.flags)&&ug(g,h,D,S),0===function yl(){return wt.lFrame.elementDepthCount}()&&Oi(D,h),function vl(){wt.lFrame.elementDepthCount++}(),Mc(S)&&(j_(g,h,S),function ic(s,o,a){if(ll(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}(g,S,h)),null!==u&&fu(h,S),xg}function jd(){let s=Pn();pa()?ga():(s=s.parent,tr(s,!1));const o=s;!function kc(){wt.lFrame.elementDepthCount--}();const a=Lt();return a.firstCreatePass&&(Al(a,s),ll(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Ol(s){return 0!=(16&s.flags)}(o)&&ay(a,o,Ie(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function qu(s){return 0!=(32&s.flags)}(o)&&ay(a,o,Ie(),o.stylesWithoutHost,!1),jd}function lf(s,o,a,u){return xg(s,o,a,u),jd(),lf}function _u(){return Ie()}function Bg(s){return!!s&&"function"==typeof s.then}function cy(s){return!!s&&"function"==typeof s.subscribe}const iE=cy;function uy(s,o,a,u){const h=Ie(),g=Lt(),v=Pn();return function sE(s,o,a,u,h,g,v,E){const D=Mc(u),R=s.firstCreatePass&&$b(s),L=o[8],z=jb(o);let ie=!0;if(3&u.type||E){const Ge=Ni(u,o),it=E?E(Ge):Ge,gt=z.length,Ne=E?ln=>E(Rn(ln[u.index])):u.index;let Ct=null;if(!E&&D&&(Ct=function Nn(s,o,a,u){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===a&&h[g+1]===u){const E=o[7],D=h[g+2];return E.length>D?E[D]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,u.index)),null!==Ct)(Ct.__ngLastListenerFn__||Ct).__ngNextListenerFn__=g,Ct.__ngLastListenerFn__=g,ie=!1;else{g=cf(u,o,L,g,!1);const ln=a.listen(it,h,g);z.push(g,ln),R&&R.push(h,Ne,gt,gt+1)}}else g=cf(u,o,L,g,!1);const ve=u.outputs;let xe;if(ie&&null!==ve&&(xe=ve[h])){const Ge=xe.length;if(Ge)for(let it=0;it<Ge;it+=2){const jn=o[xe[it]][xe[it+1]].subscribe(g),vc=z.length;z.push(g,jn),R&&R.push(h,u.index,vc,-(vc+1))}}}(g,h,h[11],v,s,o,0,u),uy}function oE(s,o,a,u){try{return!1!==a(u)}catch(h){return Q_(s,h),!1}}function cf(s,o,a,u,h){return function g(v){if(v===Function)return u;Ig(2&s.flags?Gt(s.index,o):o);let D=oE(o,0,u,v),S=g.__ngNextListenerFn__;for(;S;)D=oE(o,0,S,v)&&D,S=S.__ngNextListenerFn__;return h&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function Vg(s=1){return function to(s){return(wt.lFrame.contextLView=function Sl(s,o){for(;s>0;)o=o[15],s--;return o}(s,wt.lFrame.contextLView))[8]}(s)}function $d(s,o){let a=null;const u=function hg(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===u?Cw(s,g,!0):Dw(u,g))return h}else a=h}return a}function na(s){const o=Ie()[16][6];if(!o.projection){const u=o.projection=Ss(s?s.length:1,null),h=u.slice();let g=o.child;for(;null!==g;){const v=s?$d(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:u[v]=g,h[v]=g),g=g.next}}}function Gd(s,o=0,a){const u=Ie(),h=Lt(),g=ai(h,22+s,16,null,a||null);null===g.projection&&(g.projection=o),ga(),64!=(64&g.flags)&&function lb(s,o,a){Jh(o[11],0,o,a,tb(s,a,o),En(a.parent||o[6],a,o))}(h,u,g)}function Mt(s,o,a){return Ug(s,"",o,"",a),Mt}function Ug(s,o,a,u,h){const g=Ie(),v=oc(g,o,a,u);return v!==Pt&&or(Lt(),mn(),g,s,v,g[11],h,!1),Ug}function dy(s,o,a,u,h){const g=s[a+1],v=null===o;let E=u?ts(g):qa(g),D=!1;for(;0!==E&&(!1===D||v);){const R=s[E+1];uE(s[E],o)&&(D=!0,s[E+1]=u?M_(R):Xh(R)),E=u?ts(R):qa(R)}D&&(s[a+1]=u?Xh(g):M_(g))}function uE(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Is(s,o)>=0}const mi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vu(s){return s.substring(mi.key,mi.keyEnd)}function dE(s,o){const a=mi.textEnd;return a===o?-1:(o=mi.keyEnd=function oT(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,mi.key=o,a),Qa(s,o,a))}function Qa(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function py(s,o,a){return kr(s,o,a,!1),py}function Zd(s,o){return kr(s,o,null,!0),Zd}function hf(s){!function ar(s,o,a,u){const h=Lt(),g=Zr(2);h.firstUpdatePass&&Wg(h,null,g,u);const v=Ie();if(a!==Pt&&gi(v,g,a)){const E=h.data[Yn()];if(Eu(E,u)&&!Gg(h,g)){let D=u?E.classesWithoutHost:E.stylesWithoutHost;null!==D&&(a=pe(D,a||"")),ay(h,E,v,a,u)}else!function my(s,o,a,u,h,g,v,E){h===Pt&&(h=Dt);let D=0,S=0,R=0<h.length?h[0]:null,L=0<g.length?g[0]:null;for(;null!==R||null!==L;){const z=D<h.length?h[D+1]:void 0,ie=S<g.length?g[S+1]:void 0;let xe,ve=null;R===L?(D+=2,S+=2,z!==ie&&(ve=L,xe=ie)):null===L||null!==R&&R<L?(D+=2,ve=R):(S+=2,ve=L,xe=ie),null!==ve&&Zg(s,o,a,u,ve,xe,v,E),R=D<h.length?h[D]:null,L=S<g.length?g[S]:null}}(h,E,v,v[11],v[g+1],v[g+1]=function Vs(s,o,a){if(null==a||""===a)return Dt;const u=[],h=vr(a);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(u,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(u,g,h[g]);else"string"==typeof h&&o(u,h);return u}(s,o,a),u,g)}}(We,ia,s,!0)}function ia(s,o){for(let a=function df(s){return function hE(s){mi.key=0,mi.keyEnd=0,mi.value=0,mi.valueEnd=0,mi.textEnd=s.length}(s),dE(s,Qa(s,0,mi.textEnd))}(o);a>=0;a=dE(o,a))We(s,vu(o),!0)}function kr(s,o,a,u){const h=Ie(),g=Lt(),v=Zr(2);g.firstUpdatePass&&Wg(g,s,v,u),o!==Pt&&gi(h,v,o)&&Zg(g,g.data[Yn()],h,h[11],s,h[v+1]=function bu(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(vr(s)))),s}(o,a),u,v)}function Gg(s,o){return o>=s.expandoStartIndex}function Wg(s,o,a,u){const h=s.data;if(null===h[a+1]){const g=h[Yn()],v=Gg(s,a);Eu(g,u)&&null===o&&!v&&(o=!1),o=function lT(s,o,a,u){const h=function ya(s){const o=wt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(a=ff(a=gy(null,s,o,a,u),o.attrs,u),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(a=gy(h,s,o,a,u),null===g){let D=function cT(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==qa(u))return s[ts(u)]}(s,o,u);void 0!==D&&Array.isArray(D)&&(D=gy(null,s,o,D[1],u),D=ff(D,o.attrs,u),function _E(s,o,a,u){s[ts(a?o.classBindings:o.styleBindings)]=u}(s,o,u,D))}else g=function uT(s,o,a){let u;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)u=ff(u,s[g].hostAttrs,a);return ff(u,o.attrs,a)}(s,o,u)}return void 0!==g&&(u?o.residualClasses=g:o.residualStyles=g),a}(h,g,o,u),function cE(s,o,a,u,h,g){let v=g?o.classBindings:o.styleBindings,E=ts(v),D=qa(v);s[u]=a;let R,S=!1;if(Array.isArray(a)){const L=a;R=L[1],(null===R||Is(L,R)>0)&&(S=!0)}else R=a;if(h)if(0!==D){const z=ts(s[E+1]);s[u+1]=Md(z,E),0!==z&&(s[z+1]=wb(s[z+1],u)),s[E+1]=function kw(s,o){return 131071&s|o<<17}(s[E+1],u)}else s[u+1]=Md(E,0),0!==E&&(s[E+1]=wb(s[E+1],u)),E=u;else s[u+1]=Md(D,0),0===E?E=u:s[D+1]=wb(s[D+1],u),D=u;S&&(s[u+1]=Xh(s[u+1])),dy(s,R,u,!0),dy(s,R,u,!1),function sT(s,o,a,u,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Is(g,o)>=0&&(a[u+1]=M_(a[u+1]))}(o,R,s,u,g),v=Md(E,D),g?o.classBindings=v:o.styleBindings=v}(h,g,o,a,v,u)}}function gy(s,o,a,u,h){let g=null;const v=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<v&&(g=o[E],u=ff(u,g.hostAttrs,h),g!==s);)E++;return null!==s&&(a.directiveStylingLast=E),u}function ff(s,o,a){const u=a?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),We(s,v,!!a||o[++g]))}return void 0===s?null:s}function Zg(s,o,a,u,h,g,v,E){if(!(3&o.type))return;const D=s.data,S=D[E+1];cc(function xw(s){return 1==(1&s)}(S)?pf(D,o,a,h,qa(S),v):void 0)||(cc(g)||function N_(s){return 2==(2&s)}(S)&&(g=pf(D,null,a,h,E,v)),function cb(s,o,a,u,h){if(o)h?s.addClass(a,u):s.removeClass(a,u);else{let g=-1===u.indexOf("-")?void 0:Yo.DashCase;null==h?s.removeStyle(a,u,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Yo.Important),s.setStyle(a,u,h,g))}}(u,v,er(Yn(),a),h,g))}function pf(s,o,a,u,h,g){const v=null===o;let E;for(;h>0;){const D=s[h],S=Array.isArray(D),R=S?D[1]:D,L=null===R;let z=a[h+1];z===Pt&&(z=L?Dt:void 0);let ie=L?Oa(z,u):R===u?z:void 0;if(S&&!cc(ie)&&(ie=Oa(D,u)),cc(ie)&&(E=ie,v))return E;const ve=s[h+1];h=v?ts(ve):qa(ve)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(E=Oa(D,u))}return E}function cc(s){return void 0!==s}function Eu(s,o){return 0!=(s.flags&(o?16:32))}function Xa(s,o=""){const a=Ie(),u=Lt(),h=s+22,g=u.firstCreatePass?ai(u,h,1,o,null):u.data[h],v=a[h]=h_(a[11],o);ug(u,a,v,g),tr(g,!1)}function _y(s){return qg("",s,""),_y}function qg(s,o,a){const u=Ie(),h=oc(u,s,o,a);return h!==Pt&&function Ja(s,o,a){const u=er(o,s);J0(s[11],u,a)}(u,Yn(),h),qg}function Ty(s,o,a){const u=Ie();return gi(u,Xs(),o)&&or(Lt(),mn(),u,s,o,u[11],a,!0),Ty}const Du=void 0;var Sy=["en",[["a","p"],["AM","PM"],Du],[["AM","PM"],Du,Du],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Du,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Du,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Du,"{1} 'at' {0}",Du],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Yg(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let wu={};function Ay(s){const o=function RE(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=My(o);if(a)return a;const u=o.split("-")[0];if(a=My(u),a)return a;if("en"===u)return Sy;throw new Ce(701,!1)}function Ny(s){return Ay(s)[bt.PluralCase]}function My(s){return s in wu||(wu[s]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[s]),wu[s]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const Oy=["zero","one","two","few","many"],Jd="en-US",Jg={marker:"element"},yf={marker:"ICU"};var Ln=(()=>((Ln=Ln||{})[Ln.SHIFT=2]="SHIFT",Ln[Ln.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ln[Ln.COMMENT=2]="COMMENT",Ln))();let Ry=Jd;function kE(s){(function Ft(s,o){null==s&&Ze(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(Ry=s.toLowerCase().replace(/_/g,"-"))}function Qg(s,o,a){const u=o.insertBeforeIndex,h=Array.isArray(u)?u[0]:u;return null===h?ob(s,0,a):Rn(a[h])}function FE(s,o,a,u,h){const g=o.insertBeforeIndex;if(Array.isArray(g)){let v=u,E=null;if(3&o.type||(E=v,v=h),null!==v&&0==(2&o.flags))for(let D=1;D<g.length;D++)Jo(s,v,a[g[D]],E,!1)}}function LE(s,o){if(s.push(o),s.length>1)for(let a=s.length-2;a>=0;a--){const u=s[a];BE(u)||_T(u,o)&&null===yT(u)&&vT(u,o.index)}}function BE(s){return!(64&s.type)}function _T(s,o){return BE(o)||s.index>o.index}function yT(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function vT(s,o){const a=s.insertBeforeIndex;Array.isArray(a)?a[0]=o:(Yh(Qg,FE),s.insertBeforeIndex=o)}function vf(s,o){const a=s.data[o];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function UE(s,o,a){const u=U_(s,a,64,null,null);return LE(o,u),u}function bf(s,o){const a=o[s.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function HE(s){return s>>>17}function Py(s){return(131070&s)>>>1}let Cf=0,Df=0;function GE(s,o,a,u){const h=a[11];let v,g=null;for(let E=0;E<o.length;E++){const D=o[E];if("string"==typeof D){const S=o[++E];null===a[S]&&(a[S]=h_(h,D))}else if("number"==typeof D)switch(1&D){case 0:const S=HE(D);let R,L;if(null===g&&(g=S,v=cg(h,u)),S===g?(R=u,L=v):(R=null,L=Rn(a[S])),null!==L){const xe=Py(D);Jo(h,L,a[xe],R,!1);const it=vf(s,xe);if(null!==it&&"object"==typeof it){const gt=bf(it,a);null!==gt&&GE(s,it.create[gt],a,a[it.anchorIdx])}}break;case 1:const ie=o[++E],ve=o[++E];K_(h,er(D>>>1,a),null,null,ie,ve,null)}else switch(D){case yf:const S=o[++E],R=o[++E];null===a[R]&&Oi(a[R]=hw(h,S),a);break;case Jg:const L=o[++E],z=o[++E];null===a[z]&&Oi(a[z]=ag(h,L,null),a)}}}function WE(s,o,a,u,h){for(let g=0;g<a.length;g++){const v=a[g],E=a[++g];if(v&h){let D="";for(let S=g+1;S<=g+E;S++){const R=a[S];if("string"==typeof R)D+=R;else if("number"==typeof R)if(R<0)D+=_e(o[u-R]);else{const L=R>>>2;switch(3&R){case 1:const z=a[++S],ie=a[++S],ve=s.data[L];"string"==typeof ve?K_(o[11],o[L],null,ve,z,D,ie):or(s,ve,o,z,D,o[11],ie,!1);break;case 0:const xe=o[L];null!==xe&&J0(o[11],xe,D);break;case 2:hc(s,vf(s,L),o,D);break;case 3:xy(s,vf(s,L),u,o)}}}}else{const D=a[g+1];if(D>0&&3==(3&D)){const R=vf(s,D>>>2);o[R.currentCaseLViewIndex]<0&&xy(s,R,u,o)}}g+=E}}function xy(s,o,a,u){let h=u[o.currentCaseLViewIndex];if(null!==h){let g=Cf;h<0&&(h=u[o.currentCaseLViewIndex]=~h,g=-1),WE(s,u,o.update[h],a,g)}}function hc(s,o,a,u){const h=function zE(s,o){let a=s.cases.indexOf(o);if(-1===a)switch(s.type){case 1:{const u=function gT(s,o){const a=Ny(o)(parseInt(s,10)),u=Oy[a];return void 0!==u?u:"other"}(o,function xE(){return Ry}());a=s.cases.indexOf(u),-1===a&&"other"!==u&&(a=s.cases.indexOf("other"));break}case 0:a=s.cases.indexOf("other")}return-1===a?null:a}(o,u);if(bf(o,a)!==h&&(Fy(s,o,a),a[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const v=a[o.anchorIdx];v&&GE(s,o.create[h],a,v)}}function Fy(s,o,a){let u=bf(o,a);if(null!==u){const h=o.remove[u];for(let g=0;g<h.length;g++){const v=h[g];if(v>0){const E=er(v,a);null!==E&&mw(a[11],E)}else Fy(s,vf(s,~v),a)}}}function fc(){const s=[];let a,u,o=-1;function g(E,D){o=0;const S=bf(E,D);u=null!==S?E.remove[S]:Dt}function v(){if(o<u.length){const E=u[o++];return E>0?a[E]:(s.push(o,u),g(a[1].data[~E],a),v())}return 0===s.length?null:(u=s.pop(),o=s.pop(),v())}return function h(E,D){for(a=D;s.length;)s.pop();return g(E.value,D),v}}const wf=/\ufffd(\d+):?\d*\ufffd/gi,CT=/\ufffd(\d+)\ufffd/,el=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,DT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,wT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,TT=/\uE500/g;function KE(s,o,a,u,h,g,v){const E=Ya(s,u,1,null);let D=E<<Ln.SHIFT,S=Ro();o===S&&(S=null),null===S&&(D|=Ln.APPEND_EAGERLY),v&&(D|=Ln.COMMENT,function uw(s){void 0===c_&&(c_=s())}(fc)),h.push(D,null===g?"":g);const R=U_(s,E,v?32:1,null===g?"":g,null);LE(a,R);const L=R.index;return tr(R,!1),null!==S&&o!==S&&function bT(s,o){let a=s.insertBeforeIndex;null===a?(Yh(Qg,FE),a=s.insertBeforeIndex=[null,o]):(function me(s,o,a){s!=o&&Ze(a,s,o,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(o))}(S,L),R}function Uy(s,o,a,u,h,g,v){const E=v.match(wf),D=KE(s,o,a,g,u,E?null:v,!1);E&&Tf(h,v,D.index,null,0,null)}function Tf(s,o,a,u,h,g){const v=s.length,E=v+1;s.push(null,null);const D=v+2,S=o.split(wf);let R=0;for(let L=0;L<S.length;L++){const z=S[L];if(1&L){const ie=h+parseInt(z,10);s.push(-1-ie),R|=Hy(ie)}else""!==z&&s.push(z)}return s.push(a<<2|(u?1:0)),u&&s.push(u,g),s[v]=R,s[E]=s.length-D,R}function Hy(s){return 1<<Math.min(s,31)}function jy(s){let o,g,a="",u=0,h=!1;for(;null!==(o=DT.exec(s));)h?o[0]===`\ufffd/*${g}\ufffd`&&(u=o.index,h=!1):(a+=s.substring(u,o.index+o[0].length),g=o[1],h=!0);return a+=s.slice(u),a}function If(s,o,a,u,h,g){let v=0;const E={type:h.type,currentCaseLViewIndex:Ya(s,o,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function IT(s,o,a){s.push(Hy(o.mainBinding),2,-1-o.mainBinding,a<<2|2)})(a,h,g),function VE(s,o,a){const u=s.data[o];null===u?s.data[o]=a:u.value=a}(s,g,E);const D=h.values;for(let S=0;S<D.length;S++){const R=D[S],L=[];for(let z=0;z<R.length;z++){const ie=R[z];if("string"!=typeof ie){const ve=L.push(ie)-1;R[z]=`\x3c!--\ufffd${ve}\ufffd--\x3e`}}v=Gy(s,E,o,a,u,h.cases[S],R.join(""),L)|v}v&&function AT(s,o,a){s.push(o,1,a<<2|3)}(a,v,g)}function $y(s){const o=[],a=[];let u=1,h=0;const g=Af(s=s.replace(el,function(v,E,D){return u="select"===D?0:1,h=parseInt(E.slice(1),10),""}));for(let v=0;v<g.length;){let E=g[v++].trim();1===u&&(E=E.replace(/\s*(?:=)?(\w+)\s*/,"$1")),E.length&&o.push(E);const D=Af(g[v++]);o.length>a.length&&a.push(D)}return{type:u,mainBinding:h,cases:o,values:a}}function Af(s){if(!s)return[];let o=0;const a=[],u=[],h=/[{}]/g;let g;for(h.lastIndex=0;g=h.exec(s);){const E=g.index;if("}"==g[0]){if(a.pop(),0==a.length){const D=s.substring(o,E);el.test(D)?u.push($y(D)):u.push(D),o=E+1}}else{if(0==a.length){const D=s.substring(o,E);u.push(D),o=E+1}a.push("{")}}const v=s.substring(o);return u.push(v),u}function Gy(s,o,a,u,h,g,v,E){const D=[],S=[],R=[];o.cases.push(g),o.create.push(D),o.remove.push(S),o.update.push(R);const z=Lp(function kp(){return void 0!==Rh?Rh:typeof document<"u"?document:void 0}()).getInertBodyElement(v),ie=yo(z)||z;return ie?JE(s,o,a,u,D,S,R,ie,h,E,0):0}function JE(s,o,a,u,h,g,v,E,D,S,R){let L=0,z=E.firstChild;for(;z;){const ie=Ya(s,a,1,null);switch(z.nodeType){case Node.ELEMENT_NODE:const ve=z,xe=ve.tagName.toLowerCase();if(Va.hasOwnProperty(xe)){Nf(h,Jg,xe,D,ie),s.data[ie]=xe;const Ne=ve.attributes;for(let Ct=0;Ct<Ne.length;Ct++){const ln=Ne.item(Ct),jn=ln.name.toLowerCase();ln.value.match(wf)?Fh.hasOwnProperty(jn)&&Tf(v,ln.value,ie,ln.name,0,_o[jn]?$l:null):Wy(h,ie,ln)}L=JE(s,o,a,u,h,g,v,z,ie,S,R+1)|L,Xd(g,ie,R)}break;case Node.TEXT_NODE:const Ge=z.textContent||"",it=Ge.match(wf);Nf(h,null,it?"":Ge,D,ie),Xd(g,ie,R),it&&(L=Tf(v,Ge,ie,null,0,null)|L);break;case Node.COMMENT_NODE:const gt=CT.exec(z.textContent||"");if(gt){const Ct=S[parseInt(gt[1],10)];Nf(h,yf,"",D,ie),If(s,a,u,D,Ct,ie),ST(g,ie,R)}}z=z.nextSibling}return L}function Xd(s,o,a){0===a&&s.push(o)}function ST(s,o,a){0===a&&(s.push(~o),s.push(o))}function Nf(s,o,a,u,h){null!==o&&s.push(o),s.push(a,h,function jE(s,o,a){return s|o<<17|a<<1}(0,u,h))}function Wy(s,o,a){s.push(o<<1|1,a.name,a.value)}function pc(s,o,a=-1){const u=Lt(),h=Ie(),g=22+s,v=hr(u.consts,o),E=Ro();u.firstCreatePass&&function qE(s,o,a,u,h,g){const v=Ro(),E=[],D=[],S=[[]];h=function Sf(s,o){if(function YE(s){return-1===s}(o))return jy(s);{const a=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,u=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return jy(s.substring(a,u))}}(h,g);const R=function Xg(s){return s.replace(TT," ")}(h).split(wT);for(let L=0;L<R.length;L++){let z=R[L];if(0==(1&L)){const ie=Af(z);for(let ve=0;ve<ie.length;ve++){let xe=ie[ve];if(0==(1&ve)){const Ge=xe;""!==Ge&&Uy(s,v,S[0],E,D,a,Ge)}else{const Ge=xe;if("object"!=typeof Ge)throw new Error(`Unable to parse ICU expression in "${h}" message.`);If(s,a,D,o,Ge,KE(s,v,S[0],a,E,"",!0).index)}}}else{const ie=47===z.charCodeAt(0),xe=(z.charCodeAt(ie?1:0),22+Number.parseInt(z.substring(ie?2:1)));if(ie)S.shift(),tr(Ro(),!1);else{const Ge=UE(s,S[0],xe);S.unshift([]),tr(Ge,!0)}}}s.data[u]={create:E,update:D}}(u,null===E?0:E.index,h,g,v,a);const D=u.data[g],R=nb(u,E===h[6]?null:E,h);(function $E(s,o,a,u){const h=s[11];for(let g=0;g<o.length;g++){const v=o[g++],E=o[g],D=(v&Ln.COMMENT)===Ln.COMMENT,S=(v&Ln.APPEND_EAGERLY)===Ln.APPEND_EAGERLY,R=v>>>Ln.SHIFT;let L=s[R];null===L&&(L=s[R]=D?h.createComment(E):h_(h,E)),S&&null!==a&&Jo(h,a,L,u,!1)}})(h,D.create,R,E&&8&E.type?h[E.index]:null),_a(!0)}function Ky(s,o,a){pc(s,o,a),function nm(){_a(!1)}()}function eh(s){return function ET(s){s&&(Cf|=1<<Math.min(Df,31)),Df++}(gi(Ie(),Xs(),s)),eh}function Yy(s){!function ky(s,o,a){if(Df>0){const u=s.data[a];WE(s,o,Array.isArray(u)?u:u.update,function Ir(){return wt.lFrame.bindingIndex}()-Df-1,Cf)}Cf=0,Df=0}(Lt(),Ie(),s+22)}function Of(s,o,a,u,h){if(s=Q(s),Array.isArray(s))for(let g=0;g<s.length;g++)Of(s[g],o,a,u,h);else{const g=Lt(),v=Ie();let E=br(s)?s:Q(s.provide),D=au(s);const S=Pn(),R=1048575&S.providerIndexes,L=S.directiveStart,z=S.providerIndexes>>20;if(br(s)||!s.multi){const ie=new Cs(D,h,Nd),ve=Qy(E,o,h?R:R+z,L);-1===ve?(Ds(oo(S,v),g,E),Jy(g,s,o.length),o.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(ie),v.push(ie)):(a[ve]=ie,v[ve]=ie)}else{const ie=Qy(E,o,R+z,L),ve=Qy(E,o,R,R+z),xe=ie>=0&&a[ie],Ge=ve>=0&&a[ve];if(h&&!Ge||!h&&!xe){Ds(oo(S,v),g,E);const it=function PT(s,o,a,u,h){const g=new Cs(s,a,Nd);return g.multi=[],g.index=o,g.componentProviders=0,tC(g,h,u&&!a),g}(h?im:Xy,a.length,h,u,D);!h&&Ge&&(a[ve].providerFactory=it),Jy(g,s,o.length,0),o.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(it),v.push(it)}else Jy(g,s,ie>-1?ie:ve,tC(a[h?ve:ie],D,!h&&u));!h&&u&&Ge&&a[ve].componentProviders++}}}function Jy(s,o,a,u){const h=br(o),g=function qp(s){return!!s.useClass}(o);if(h||g){const D=(g?Q(o.useClass):o).prototype.ngOnDestroy;if(D){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const R=S.indexOf(a);-1===R?S.push(a,[u,D]):S[R+1].push(u,D)}else S.push(a,D)}}}function tC(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Qy(s,o,a,u){for(let h=a;h<u;h++)if(o[h]===s)return h;return-1}function Xy(s,o,a,u){return rm(this.multi,[])}function im(s,o,a,u){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=qr(a,a[1],this.providerFactory.index,u);g=E.slice(0,v),rm(h,g);for(let D=v;D<E.length;D++)g.push(E[D])}else g=[],rm(h,g);return g}function rm(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function th(s,o=[]){return a=>{a.providersResolver=(u,h)=>function Mf(s,o,a){const u=Lt();if(u.firstCreatePass){const h=yi(s);Of(a,u.data,u.blueprint,h,!0),Of(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class Er{}class nh{}function kT(s,o){return new sm(s,o??null)}class sm extends Er{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ey(this);const u=cn(o);this._bootstrapComponents=Wa(u.bootstrap),this._r3Injector=yb(o,a,[{provide:Er,useValue:this},{provide:ja,useValue:this.componentFactoryResolver}],fe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Tu extends nh{constructor(o){super(),this.moduleType=o}create(o){return new sm(this.moduleType,o)}}class Rf extends Er{constructor(o,a,u){super(),this.componentFactoryResolver=new ey(this),this.instance=null;const h=new gd([...o,{provide:Er,useValue:this},{provide:ja,useValue:this.componentFactoryResolver}],a||pd(),u,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function ev(s,o,a=null){return new Rf(s,o,a).injector}let Us=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const u=dd(0,a.type),h=u.length>0?ev([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Yt({token:s,providedIn:"environment",factory:()=>new s(xt(bi))}),s})();function tv(s){s.getStandaloneInjector=o=>o.get(Us).getOrCreateStandaloneInjector(s)}function aC(s,o,a,u){return function Su(s,o,a,u,h,g){const v=o+a;return gi(s,v,h)?Ls(s,v+1,g?u.call(g,h):u(h)):kf(s,v+1)}(Ie(),kn(),s,o,a,u)}function lC(s,o,a,u,h){return function nl(s,o,a,u,h,g,v){const E=o+a;return sc(s,E,h,g)?Ls(s,E+2,v?u.call(v,h,g):u(h,g)):kf(s,E+2)}(Ie(),kn(),s,o,a,u,h)}function cC(s,o,a,u,h,g){return function hC(s,o,a,u,h,g,v,E){const D=o+a;return function Dn(s,o,a,u,h){const g=sc(s,o,a,u);return gi(s,o+2,h)||g}(s,D,h,g,v)?Ls(s,D+3,E?u.call(E,h,g,v):u(h,g,v)):kf(s,D+3)}(Ie(),kn(),s,o,a,u,h,g)}function kf(s,o){const a=s[o];return a===Pt?void 0:a}function lv(s){return o=>{setTimeout(s,void 0,o)}}const Hs=class WT extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){let h=o,g=a||(()=>null),v=u;if(o&&"object"==typeof o){const D=o;h=D.next?.bind(D),g=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(g=lv(g),h&&(h=lv(h)),v&&(v=lv(v)));const E=super.subscribe({next:h,error:g,complete:v});return o instanceof te.w0&&o.add(E),E}};function zT(){return this._results[rc()]()}class cm{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=rc(),u=cm.prototype;u[a]||(u[a]=zT)}get changes(){return this._changes||(this._changes=new Hs)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const h=Wt(o);(this._changesDetected=!function un(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],g=o[u];if(a&&(h=a(h),g=a(g)),g!==h)return!1}return!0}(u._results,h,a))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let sh=(()=>{class s{}return s.__NG_ELEMENT_ID__=Fr,s})();const cv=sh,mC=class extends cv{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o,a){const u=this._declarationTContainer.tViews,h=is(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(u)),H_(u,h,o),new Fs(h)}};function Fr(){return Au(Pn(),Ie())}function Au(s,o){return 4&s.type?new mC(o,s,y(s,o)):null}let Do=(()=>{class s{}return s.__NG_ELEMENT_ID__=um,s})();function um(){return mc(Pn(),Ie())}const js=Do,gc=class extends js{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return y(this._hostTNode,this._hostLView)}get injector(){return new lo(this._hostTNode,this._hostLView)}get parentInjector(){const o=xl(this._hostTNode,this._hostLView);if(Yu(o)){const a=Ca(o,this._hostLView),u=ri(o);return new lo(a[1].data[u+8],a)}return new lo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=uv(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){let h,g;"number"==typeof u?h=u:null!=u&&(h=u.index,g=u.injector);const v=o.createEmbeddedView(a||{},g);return this.insert(v,h),v}createComponent(o,a,u,h,g){const v=o&&!function Gi(s){return"function"==typeof s}(o);let E;if(v)E=a;else{const L=a||{};E=L.index,u=L.injector,h=L.projectableNodes,g=L.environmentInjector||L.ngModuleRef}const D=v?o:new Fd(ee(o)),S=u||this.parentInjector;if(!g&&null==D.ngModule){const z=(v?S:this.parentInjector).get(bi,null);z&&(g=z)}const R=D.create(S,h,void 0,g);return this.insert(R.hostView,E),R}insert(o,a){const u=o._lView,h=u[1];if(function gl(s){return Ai(s[3])}(u)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const L=u[3],z=new gc(L,L[6],L[3]);z.detach(z.indexOf(o))}}const g=this._adjustIndex(a),v=this._lContainer;!function fw(s,o,a,u){const h=10+u,g=a.length;u>0&&(a[h-1][4]=o),u<g-10?(o[4]=a[h],Na(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function pw(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(h,u,v,g);const E=ab(g,v),D=u[11],S=cg(D,v[7]);return null!==S&&function Q0(s,o,a,u,h,g){u[0]=h,u[6]=o,cu(s,u,a,1,h,g)}(h,v[6],D,u,S,E),o.attachToViewContainerRef(),Na(dm(v),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=uv(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=p_(this._lContainer,a);u&&(vn(dm(this._lContainer),a),qh(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=p_(this._lContainer,a);return u&&null!=vn(dm(this._lContainer),a)?new Fs(u):null}_adjustIndex(o,a=0){return o??this.length+a}};function uv(s){return s[8]}function dm(s){return s[8]||(s[8]=[])}function mc(s,o){let a;const u=o[s.index];if(Ai(u))a=u;else{let h;if(8&s.type)h=Rn(u);else{const g=o[11];h=g.createComment("");const v=Ni(s,o);Jo(g,cg(g,v),h,function sb(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=a=wg(u,o,h,s),Sg(o,a)}return new gc(a,s,o)}class Ff{constructor(o){this.queryList=o,this.matches=null}clone(){return new Ff(this.queryList)}setDirty(){this.queryList.setDirty()}}class dv{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let g=0;g<u;g++){const v=a.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new dv(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==vv(o,a).matches&&this.queries[a].setDirty()}}class _C{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class hv{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,g=this.getByIndex(u).embeddedTView(o,h);g&&(g.indexInDeclarationView=u,null!==a?a.push(g):a=[g])}return null!==a?new hv(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class fv{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new fv(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const g=u[h];this.matchTNodeWithReadOption(o,a,Lf(a,g)),this.matchTNodeWithReadOption(o,a,Fo(a,o,g,!1,!1))}else u===sh?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Fo(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===f||h===Do||h===sh&&4&a.type)this.addMatch(a.index,-2);else{const g=Fo(a,o,h,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Lf(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function Bf(s,o,a,u){return-1===a?function hm(s,o){return 11&s.type?y(s,o):4&s.type?Au(s,o):null}(o,s):-2===a?function pv(s,o,a){return a===f?y(o,s):a===sh?Au(o,s):a===Do?mc(o,s):void 0}(s,o,u):qr(s,s[1],a,o)}function gv(s,o,a,u){const h=o[19].queries[u];if(null===h.matches){const g=s.data,v=a.matches,E=[];for(let D=0;D<v.length;D+=2){const S=v[D];E.push(S<0?null:Bf(o,g[S],v[D+1],a.metadata.read))}h.matches=E}return h.matches}function fm(s,o,a,u){const h=s.queries.getByIndex(a),g=h.matches;if(null!==g){const v=gv(s,o,h,a);for(let E=0;E<g.length;E+=2){const D=g[E];if(D>0)u.push(v[E/2]);else{const S=g[E+1],R=o[-D];for(let L=10;L<R.length;L++){const z=R[L];z[17]===z[3]&&fm(z[1],z,S,u)}if(null!==R[9]){const L=R[9];for(let z=0;z<L.length;z++){const ie=L[z];fm(ie[1],ie,S,u)}}}}}return u}function mv(s){const o=Ie(),a=Lt(),u=Uc();va(u+1);const h=vv(a,u);if(s.dirty&&function pl(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?fm(a,o,u,[]):gv(a,o,h,u);s.reset(g,m),s.notifyOnChanges()}return!0}return!1}function _v(s,o,a){const u=Lt();u.firstCreatePass&&(bC(u,new _C(s,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),vC(u,Ie(),o)}function yv(s,o,a,u){const h=Lt();if(h.firstCreatePass){const g=Pn();bC(h,new _C(o,a,u),g.index),function qT(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}vC(h,Ie(),a)}function $s(){return function yC(s,o){return s[19].queries[o].queryList}(Ie(),Uc())}function vC(s,o,a){const u=new cm(4==(4&a));Rb(s,o,u,u.destroy),null===o[19]&&(o[19]=new dv),o[19].queries.push(new Ff(u))}function bC(s,o,a){null===s.queries&&(s.queries=new hv),s.queries.track(new fv(o,a))}function vv(s,o){return s.queries.getByIndex(o)}function EC(s,o){return Au(s,o)}function mm(...s){}const Tv=new hn("Application Initializer");let lh=(()=>{class s{constructor(a){this.appInits=a,this.resolve=mm,this.reject=mm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Bg(g))a.push(g);else if(iE(g)){const v=new Promise((E,D)=>{g.subscribe({complete:E,error:D})});a.push(v)}}Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(xt(Tv,8))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Sv=new hn("AppId",{providedIn:"root",factory:function Hf(){return`${VC()}${VC()}${VC()}`}});function VC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const UC=new hn("Platform Initializer"),Iv=new hn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),f1=new hn("appBootstrapListener"),p1=new hn("AnimationModuleType");let g1=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Av=new hn("LocaleId",{providedIn:"root",factory:()=>w(Av,qe.Optional|qe.SkipSelf)||function YI(){return typeof $localize<"u"&&$localize.locale||Jd}()}),JI=new hn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class QI{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let XI=(()=>{class s{compileModuleSync(a){return new Tu(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),g=Wa(cn(a).declarations).reduce((v,E)=>{const D=ee(E);return D&&v.push(new Fd(D)),v},[]);return new QI(u,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const _1=(()=>Promise.resolve(0))();function Mv(s){typeof Zone>"u"?_1.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ls{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hs(!1),this.onMicrotaskEmpty=new Hs(!1),this.onStable=new Hs(!1),this.onError=new Hs(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function y1(){let s=en.requestAnimationFrame,o=en.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function E1(s){const o=()=>{!function b1(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(en,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,qi(s),s.isCheckStableRunning=!0,Ov(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),qi(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,g,v,E)=>{try{return jf(s),a.invokeTask(h,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),Rv(s)}},onInvoke:(a,u,h,g,v,E,D)=>{try{return jf(s),a.invoke(h,g,v,E,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),Rv(s)}},onHasTask:(a,u,h,g)=>{a.hasTask(h,g),u===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,qi(s),Ov(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,u,h,g)=>(a.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ls.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(ls.isInAngularZone())throw new Ce(909,!1)}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,v1,mm,mm);try{return g.runTask(v,a,u)}finally{g.cancelTask(v)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const v1={};function Ov(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function qi(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function jf(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Rv(s){s._nesting--,Ov(s)}class Pv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hs,this.onMicrotaskEmpty=new Hs,this.onStable=new Hs,this.onError=new Hs}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,h){return o.apply(a,u)}}const $f=new hn(""),_m=new hn("");let xv,kv=(()=>{class s{constructor(a,u,h){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xv||(function C1(s){xv=s}(h),h.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ls.assertNotInAngularZone(),Mv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Mv(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(xt(ls),xt(jC),xt(_m))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})(),jC=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return xv?.findTestabilityInTree(this,a,u)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),_c=null;const $C=new hn("AllowMultipleToken"),Mu=new hn("PlatformDestroyListeners");class T1{constructor(o,a){this.name=o,this.token=a}}function Lv(s,o,a=[]){const u=`Platform: ${o}`,h=new hn(u);return(g=[])=>{let v=Uv();if(!v||v.injector.get($C,!1)){const E=[...a,...g,{provide:h,useValue:!0}];s?s(E):function S1(s){if(_c&&!_c.get($C,!1))throw new Ce(400,!1);_c=s;const o=s.get(bm);(function Fv(s){const o=s.get(UC,null);o&&o.forEach(a=>a())})(s)}(function Vv(s=[],o){return du.create({name:o,providers:[{provide:ql,useValue:"platform"},{provide:Mu,useValue:new Set([()=>_c=null])},...s]})}(E,u))}return function Bv(s){const o=Uv();if(!o)throw new Ce(401,!1);return o}()}}function Uv(){return _c?.get(bm)??null}let bm=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const h=function WC(s,o){let a;return a="noop"===s?new Pv:("zone.js"===s?void 0:s)||new ls(o),a}(u?.ngZone,function Em(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(u)),g=[{provide:ls,useValue:h}];return h.run(()=>{const v=du.create({providers:g,parent:this.injector,name:a.moduleType.name}),E=a.create(v),D=E.injector.get(Wh,null);if(!D)throw new Ce(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:R=>{D.handleError(R)}});E.onDestroy(()=>{ch(this._modules,E),S.unsubscribe()})}),function Cm(s,o,a){try{const u=a();return Bg(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(D,h,()=>{const S=E.injector.get(lh);return S.runInitializers(),S.donePromise.then(()=>(kE(E.injector.get(Av,Jd)||Jd),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,u=[]){const h=Hv({},u);return function ym(s,o,a){const u=new Tu(a);return Promise.resolve(u)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const u=a.injector.get(Gf);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Ce(403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(Mu,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(xt(du))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Hv(s,o){return Array.isArray(o)?o.reduce(Hv,s):{...s,...o}}let Gf=(()=>{class s{constructor(a,u,h){this._zone=a,this._injector=u,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new k.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new k.y(E=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{ls.assertNotInAngularZone(),Mv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{ls.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{D.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ue.T)(g,v.pipe((0,le.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const h=a instanceof md;if(!this._injector.get(lh).done)throw!h&&Zt(a),new Ce(405,false);let v;v=h?a:this._injector.get(ja).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const E=function w1(s){return s.isBoundToModule}(v)?void 0:this._injector.get(Er),S=v.create(du.NULL,[],u||v.selector,E),R=S.location.nativeElement,L=S.injector.get($f,null);return L?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),ch(this.components,S),L?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;ch(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(f1,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>ch(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ce(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(xt(ls),xt(bi),xt(Wh))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function ch(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let ZC=!0,Wf=!1;function jv(){return Wf=!0,ZC}function $v(){if(Wf)throw new Error("Cannot enable prod mode after platform setup.");ZC=!1}let YC=(()=>{class s{}return s.__NG_ELEMENT_ID__=uh,s})();function uh(s){return function JC(s,o,a){if(da(s)&&!a){const u=Gt(s.index,o);return new Fs(u,u)}return 47&s.type?new Fs(o[16],o):null}(Pn(),Ie(),16==(16&s))}class QC{constructor(){}supports(o){return Xt(o)}create(o){return new aA(o)}}const oA=(s,o)=>o;class aA{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||oA}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,h=0,g=null;for(;a||u;){const v=!u||a&&a.currentIndex<qv(u,h,g)?a:u,E=qv(v,h,g),D=v.currentIndex;if(v===u)h--,u=u._nextRemoved;else if(a=a._next,null==v.previousIndex)h++;else{g||(g=[]);const S=E-h,R=D-h;if(S!=R){for(let z=0;z<S;z++){const ie=z<g.length?g[z]:g[z]=0,ve=ie+z;R<=ve&&ve<S&&(g[z]=ie+1)}g[v.previousIndex]=R-S}}E!==D&&o(v,E,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Xt(o))throw new Ce(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,g,v,E)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,E),u=!0),a=a._next}else h=0,function Ut(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[rc()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,E=>{v=this._trackByFn(h,E),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,E,v,h)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,v,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,h)):o=this._addAfter(new Zv(a,u),g,h),o}_verifyReinsertion(o,a,u,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new XC),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new XC),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Zv{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lA{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class XC{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new lA,this.map.set(a,u)),u.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qv(s,o,a){const u=s.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+o+h}class eD{constructor(){}supports(o){return o instanceof Map||ea(o)}create(){return new tD}}class tD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||ea(o)))throw new Ce(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const u=new Kv(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class Kv{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Tm(){return new nD([new QC])}let nD=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||Tm()),deps:[[s,new _t,new Oe]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Ce(901,!1)}}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:Tm}),s})();function L1(){return new Yv([new eD])}let Yv=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||L1()),deps:[[s,new _t,new Oe]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(u)return u;throw new Ce(901,!1)}}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:L1}),s})();const dA=Lv(null,"core",[]);let V1=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(xt(Gf))},s.\u0275mod=Ot({type:s}),s.\u0275inj=Nt({}),s})();function hA(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function rD(s,o){const a=ee(s),u=o.elementInjector||pd();return new Fd(a).create(u,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(ot,Te,F)=>{F.d(Te,{Z:()=>Ce});var c=F(2090),te=F(4859),k=F(9681),ue=F(1877);class le{constructor(_e,ge){this._delegate=_e,this.firebase=ge,(0,k._addComponent)(_e,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(_e,ge=k._DEFAULT_ENTRY_NAME){var Qe;this._delegate.checkDestroyed();const rt=this._delegate.container.getProvider(_e);return!rt.isInitialized()&&"EXPLICIT"===(null===(Qe=rt.getComponent())||void 0===Qe?void 0:Qe.instantiationMode)&&rt.initialize(),rt.getImmediate({identifier:ge})}_removeServiceInstance(_e,ge=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(ge)}_addComponent(_e){(0,k._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,k._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function pe(){const tt=function fe(tt){const _e={},ge={__esModule:!0,initializeApp:function Ae(He,j={}){const me=k.initializeApp(He,j);if((0,c.r3)(_e,me.name))return _e[me.name];const Y=new tt(me,ge);return _e[me.name]=Y,Y},app:rt,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function we(He){const j=He.name,me=j.replace("-compat","");if(k._registerComponent(He)&&"PUBLIC"===He.type){const Y=(ne=rt())=>{if("function"!=typeof ne[me])throw ae.create("invalid-app-argument",{appName:j});return ne[me]()};void 0!==He.serviceProps&&(0,c.ZB)(Y,He.serviceProps),ge[me]=Y,tt.prototype[me]=function(...ne){return this._getService.bind(this,j).apply(this,He.multipleInstances?ne:[])}}return"PUBLIC"===He.type?ge[me]:null},removeApp:function Qe(He){delete _e[He]},useAsService:function Ue(He,j){return"serverAuth"===j?null:j},modularAPIs:k}};function rt(He){if(!(0,c.r3)(_e,He=He||k._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:He});return _e[He]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function ye(){return Object.keys(_e).map(He=>_e[He])}}),rt.App=tt,ge}(le);return tt.INTERNAL=Object.assign(Object.assign({},tt.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function _e(ge){(0,c.ZB)(tt,ge)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),tt}(),G=new ue.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const tt=self.firebase.SDK_VERSION;tt&&tt.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=$;!function Me(tt){(0,k.registerVersion)("@firebase/app-compat","0.1.37",tt)}()},9681:(ot,Te,F)=>{F.r(Te),F.d(Te,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>fs,_DEFAULT_ENTRY_NAME:()=>Ft,_addComponent:()=>zt,_addOrOverwriteComponent:()=>Yt,_apps:()=>tn,_clearComponents:()=>Vr,_components:()=>pn,_getProvider:()=>Nt,_registerComponent:()=>wi,_removeServiceInstance:()=>nn,deleteApp:()=>No,getApp:()=>Li,getApps:()=>Ji,initializeApp:()=>cr,onLog:()=>ps,registerVersion:()=>_i,setLogLevel:()=>zn});var c=F(5861),te=F(4859),k=F(1877),ue=F(2090),le=F(8766);class he{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(Xe=>{if(function ae(et){return"VERSION"===et.getComponent()?.type}(Xe)){const vt=Xe.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(Xe=>Xe).join(" ")}}const fe="@firebase/app",$=new k.Yd("@firebase/app"),Ft="[DEFAULT]",Ze={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tn=new Map,pn=new Map;function zt(et,Se){try{et.container.addComponent(Se)}catch(Xe){$.debug(`Component ${Se.name} failed to register with FirebaseApp ${et.name}`,Xe)}}function Yt(et,Se){et.container.addOrOverwriteComponent(Se)}function wi(et){const Se=et.name;if(pn.has(Se))return $.debug(`There were multiple attempts to register component ${Se}.`),!1;pn.set(Se,et);for(const Xe of tn.values())zt(Xe,et);return!0}function Nt(et,Se){const Xe=et.container.getProvider("heartbeat").getImmediate({optional:!0});return Xe&&Xe.triggerHeartbeat(),et.container.getProvider(Se)}function nn(et,Se,Xe=Ft){Nt(et,Se).clearInstance(Xe)}function Vr(){pn.clear()}const Ti=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Si{constructor(Se,Xe,vt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},Xe),this._name=Xe.name,this._automaticDataCollectionEnabled=Xe.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}const fs="9.12.1";function cr(et,Se={}){let Xe=et;"object"!=typeof Se&&(Se={name:Se});const vt=Object.assign({name:Ft,automaticDataCollectionEnabled:!1},Se),mt=vt.name;if("string"!=typeof mt||!mt)throw Ti.create("bad-app-name",{appName:String(mt)});if(Xe||(Xe=(0,ue.aH)()),!Xe)throw Ti.create("no-options");const Ot=tn.get(mt);if(Ot){if((0,ue.vZ)(Xe,Ot.options)&&(0,ue.vZ)(vt,Ot.config))return Ot;throw Ti.create("duplicate-app",{appName:mt})}const W=new te.H0(mt);for(const J of pn.values())W.addComponent(J);const H=new Si(Xe,vt,W);return tn.set(mt,H),H}function Li(et=Ft){const Se=tn.get(et);if(!Se&&et===Ft)return cr();if(!Se)throw Ti.create("no-app",{appName:et});return Se}function Ji(){return Array.from(tn.values())}function No(et){return qe.apply(this,arguments)}function qe(){return(qe=(0,c.Z)(function*(et){const Se=et.name;tn.has(Se)&&(tn.delete(Se),yield Promise.all(et.container.getProviders().map(Xe=>Xe.delete())),et.isDeleted=!0)})).apply(this,arguments)}function _i(et,Se,Xe){var vt;let mt=null!==(vt=Ze[et])&&void 0!==vt?vt:et;Xe&&(mt+=`-${Xe}`);const Ot=mt.match(/\s|\//),W=Se.match(/\s|\//);if(Ot||W){const H=[`Unable to register library "${mt}" with version "${Se}":`];return Ot&&H.push(`library name "${mt}" contains illegal characters (whitespace or "/")`),Ot&&W&&H.push("and"),W&&H.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void $.warn(H.join(" "))}wi(new te.wA(`${mt}-version`,()=>({library:mt,version:Se}),"VERSION"))}function ps(et,Se){if(null!==et&&"function"!=typeof et)throw Ti.create("invalid-log-argument");(0,k.Am)(et,Se)}function zn(et){(0,k.Ub)(et)}const On="firebase-heartbeat-store";let $n=null;function dn(){return $n||($n=(0,le.X3)("firebase-heartbeat-database",1,{upgrade:(et,Se)=>{0===Se&&et.createObjectStore(On)}}).catch(et=>{throw Ti.create("idb-open",{originalErrorMessage:et.message})})),$n}function at(){return(at=(0,c.Z)(function*(et){var Se;try{return(yield dn()).transaction(On).objectStore(On).get(Bn(et))}catch(Xe){if(Xe instanceof ue.ZR)$.warn(Xe.message);else{const vt=Ti.create("idb-get",{originalErrorMessage:null===(Se=Xe)||void 0===Se?void 0:Se.message});$.warn(vt.message)}}})).apply(this,arguments)}function en(et,Se){return ei.apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*(et,Se){var Xe;try{const mt=(yield dn()).transaction(On,"readwrite");return yield mt.objectStore(On).put(Se,Bn(et)),mt.done}catch(vt){if(vt instanceof ue.ZR)$.warn(vt.message);else{const mt=Ti.create("idb-set",{originalErrorMessage:null===(Xe=vt)||void 0===Xe?void 0:Xe.message});$.warn(mt.message)}}})).apply(this,arguments)}function Bn(et){return`${et.name}!${et.options.appId}`}class Ur{constructor(Se){this.container=Se,this._heartbeatsCache=null;const Xe=this.container.getProvider("app").getImmediate();this._storage=new Qt(Xe),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var Se=this;return(0,c.Z)(function*(){const vt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),mt=Jt();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==mt&&!Se._heartbeatsCache.heartbeats.some(Ot=>Ot.date===mt))return Se._heartbeatsCache.heartbeats.push({date:mt,agent:vt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(Ot=>{const W=new Date(Ot.date).valueOf();return Date.now()-W<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,c.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const Xe=Jt(),{heartbeatsToSend:vt,unsentEntries:mt}=function ur(et,Se=1024){const Xe=[];let vt=et.slice();for(const mt of et){const Ot=Xe.find(W=>W.agent===mt.agent);if(Ot){if(Ot.dates.push(mt.date),Zn(Xe)>Se){Ot.dates.pop();break}}else if(Xe.push({agent:mt.agent,dates:[mt.date]}),Zn(Xe)>Se){Xe.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:Xe,unsentEntries:vt}}(Se._heartbeatsCache.heartbeats),Ot=(0,ue.L)(JSON.stringify({version:2,heartbeats:vt}));return Se._heartbeatsCache.lastSentHeartbeatDate=Xe,mt.length>0?(Se._heartbeatsCache.heartbeats=mt,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),Ot})()}}function Jt(){return(new Date).toISOString().substring(0,10)}class Qt{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,c.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function ft(et){return at.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var Xe=this;return(0,c.Z)(function*(){var vt;if(yield Xe._canUseIndexedDBPromise){const Ot=yield Xe.read();return en(Xe.app,{lastSentHeartbeatDate:null!==(vt=Se.lastSentHeartbeatDate)&&void 0!==vt?vt:Ot.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var Xe=this;return(0,c.Z)(function*(){var vt;if(yield Xe._canUseIndexedDBPromise){const Ot=yield Xe.read();return en(Xe.app,{lastSentHeartbeatDate:null!==(vt=Se.lastSentHeartbeatDate)&&void 0!==vt?vt:Ot.lastSentHeartbeatDate,heartbeats:[...Ot.heartbeats,...Se.heartbeats]})}})()}}function Zn(et){return(0,ue.L)(JSON.stringify({version:2,heartbeats:et})).length}!function Ii(et){wi(new te.wA("platform-logger",Se=>new he(Se),"PRIVATE")),wi(new te.wA("heartbeat",Se=>new Ur(Se),"PRIVATE")),_i(fe,"0.8.2",et),_i(fe,"0.8.2","esm2017"),_i("fire-js","")}("")},4859:(ot,Te,F)=>{F.d(Te,{H0:()=>fe,wA:()=>k,zt:()=>le});var c=F(5861),te=F(2090);class k{constructor($,G,Q){this.name=$,this.instanceFactory=G,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ue="[DEFAULT]";class le{constructor($,G){this.name=$,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const G=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(G)){const Q=new te.BH;if(this.instancesDeferred.set(G,Q),this.isInitialized(G)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:G});Fe&&Q.resolve(Fe)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate($){var G;const Q=this.normalizeInstanceIdentifier($?.identifier),Fe=null!==(G=$?.optional)&&void 0!==G&&G;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Me){if(Fe)return null;throw Me}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ae(pe){return"EAGER"===pe.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[G,Q]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(G);try{const Me=this.getOrInitializeService({instanceIdentifier:Fe});Q.resolve(Me)}catch{}}}}clearInstance($=ue){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,c.Z)(function*(){const G=Array.from($.instances.values());yield Promise.all([...G.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...G.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ue){return this.instances.has($)}getOptions($=ue){return this.instancesOptions.get($)||{}}initialize($={}){const{options:G={}}=$,Q=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:Q,options:G});for(const[Me,Ce]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Me)&&Ce.resolve(Fe);return Fe}onInit($,G){var Q;const Fe=this.normalizeInstanceIdentifier(G),Me=null!==(Q=this.onInitCallbacks.get(Fe))&&void 0!==Q?Q:new Set;Me.add($),this.onInitCallbacks.set(Fe,Me);const Ce=this.instances.get(Fe);return Ce&&$(Ce,Fe),()=>{Me.delete($)}}invokeOnInitCallbacks($,G){const Q=this.onInitCallbacks.get(G);if(Q)for(const Fe of Q)try{Fe($,G)}catch{}}getOrInitializeService({instanceIdentifier:$,options:G={}}){let Q=this.instances.get($);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=$,pe===ue?void 0:pe),options:G}),this.instances.set($,Q),this.instancesOptions.set($,G),this.invokeOnInitCallbacks(Q,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,Q)}catch{}var pe;return Q||null}normalizeInstanceIdentifier($=ue){return this.component?this.component.multipleInstances?$:ue:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor($){this.name=$,this.providers=new Map}addComponent($){const G=this.getProvider($.name);if(G.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);G.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const G=new le($,this);return this.providers.set($,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(ot,Te,F)=>{F.d(Te,{Am:()=>pe,Ub:()=>fe,Yd:()=>ae,in:()=>te});const c=[];var te=(()=>{return($=te||(te={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",te;var $})();const k={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ue=te.INFO,le={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},he=($,G,...Q)=>{if(G<$.logLevel)return;const Fe=(new Date).toISOString(),Me=le[G];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Me](`[${Fe}]  ${$.name}:`,...Q)};class ae{constructor(G){this.name=G,this._logLevel=ue,this._logHandler=he,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in te))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?k[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...G),this._logHandler(this,te.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...G),this._logHandler(this,te.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,te.INFO,...G),this._logHandler(this,te.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,te.WARN,...G),this._logHandler(this,te.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...G),this._logHandler(this,te.ERROR,...G)}}function fe($){c.forEach(G=>{G.setLogLevel($)})}function pe($,G){for(const Q of c){let Fe=null;G&&G.level&&(Fe=k[G.level]),Q.userLogHandler=null===$?null:(Me,Ce,...tt)=>{const _e=tt.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch{return null}}).filter(ge=>ge).join(" ");Ce>=(Fe??Me.logLevel)&&$({level:te[Ce].toLowerCase(),message:_e,args:tt,type:Me.name})}}}},8766:(ot,Te,F)=>{F.d(Te,{Lj:()=>Ae,X3:()=>rt});var c=F(5861);let k,ue;const ae=new WeakMap,fe=new WeakMap,pe=new WeakMap,$=new WeakMap,G=new WeakMap;let Me={get(j,me,Y){if(j instanceof IDBTransaction){if("done"===me)return fe.get(j);if("objectStoreNames"===me)return j.objectStoreNames||pe.get(j);if("store"===me)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return ge(j[me])},set:(j,me,Y)=>(j[me]=Y,!0),has:(j,me)=>j instanceof IDBTransaction&&("done"===me||"store"===me)||me in j};function _e(j){return"function"==typeof j?function tt(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(...me){return j.apply(Qe(this),me),ge(ae.get(this))}:function(...me){return ge(j.apply(Qe(this),me))}:function(me,...Y){const ne=j.call(Qe(this),me,...Y);return pe.set(ne,me.sort?me.sort():[me]),ge(ne)}}(j):(j instanceof IDBTransaction&&function Fe(j){if(fe.has(j))return;const me=new Promise((Y,ne)=>{const ce=()=>{j.removeEventListener("complete",se),j.removeEventListener("error",ke),j.removeEventListener("abort",ke)},se=()=>{Y(),ce()},ke=()=>{ne(j.error||new DOMException("AbortError","AbortError")),ce()};j.addEventListener("complete",se),j.addEventListener("error",ke),j.addEventListener("abort",ke)});fe.set(j,me)}(j),((j,me)=>me.some(Y=>j instanceof Y))(j,function le(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,Me):j)}function ge(j){if(j instanceof IDBRequest)return function Q(j){const me=new Promise((Y,ne)=>{const ce=()=>{j.removeEventListener("success",se),j.removeEventListener("error",ke)},se=()=>{Y(ge(j.result)),ce()},ke=()=>{ne(j.error),ce()};j.addEventListener("success",se),j.addEventListener("error",ke)});return me.then(Y=>{Y instanceof IDBCursor&&ae.set(Y,j)}).catch(()=>{}),G.set(me,j),me}(j);if($.has(j))return $.get(j);const me=_e(j);return me!==j&&($.set(j,me),G.set(me,j)),me}const Qe=j=>G.get(j);function rt(j,me,{blocked:Y,upgrade:ne,blocking:ce,terminated:se}={}){const ke=indexedDB.open(j,me),Pe=ge(ke);return ne&&ke.addEventListener("upgradeneeded",ht=>{ne(ge(ke.result),ht.oldVersion,ht.newVersion,ge(ke.transaction))}),Y&&ke.addEventListener("blocked",()=>Y()),Pe.then(ht=>{se&&ht.addEventListener("close",()=>se()),ce&&ht.addEventListener("versionchange",()=>ce())}).catch(()=>{}),Pe}function Ae(j,{blocked:me}={}){const Y=indexedDB.deleteDatabase(j);return me&&Y.addEventListener("blocked",()=>me()),ge(Y).then(()=>{})}const ye=["get","getKey","getAll","getAllKeys","count"],we=["put","add","delete","clear"],Ue=new Map;function He(j,me){if(!(j instanceof IDBDatabase)||me in j||"string"!=typeof me)return;if(Ue.get(me))return Ue.get(me);const Y=me.replace(/FromIndex$/,""),ne=me!==Y,ce=we.includes(Y);if(!(Y in(ne?IDBIndex:IDBObjectStore).prototype)||!ce&&!ye.includes(Y))return;const se=function(){var ke=(0,c.Z)(function*(Pe,...ht){const Kt=this.transaction(Pe,ce?"readwrite":"readonly");let Ft=Kt.store;return ne&&(Ft=Ft.index(ht.shift())),(yield Promise.all([Ft[Y](...ht),ce&&Kt.done]))[0]});return function(ht){return ke.apply(this,arguments)}}();return Ue.set(me,se),se}!function Ce(j){Me=j(Me)}(j=>({...j,get:(me,Y,ne)=>He(me,Y)||j.get(me,Y,ne),has:(me,Y)=>!!He(me,Y)||j.has(me,Y)}))},5861:(ot,Te,F)=>{function c(k,ue,le,he,ae,fe,pe){try{var $=k[fe](pe),G=$.value}catch(Q){return void le(Q)}$.done?ue(G):Promise.resolve(G).then(he,ae)}function te(k){return function(){var ue=this,le=arguments;return new Promise(function(he,ae){var fe=k.apply(ue,le);function pe(G){c(fe,he,ae,pe,$,"next",G)}function $(G){c(fe,he,ae,pe,$,"throw",G)}pe(void 0)})}}F.d(Te,{Z:()=>te})}},ot=>{ot(ot.s=4393)}]);